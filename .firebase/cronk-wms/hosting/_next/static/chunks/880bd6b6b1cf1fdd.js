(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75148,e=>{"use strict";var t=e.i(43476),s=e.i(22016);function r({items:e}){return(0,t.jsx)("nav",{className:"flex items-center gap-2 text-sm text-slate-400 mb-4",children:e.map((e,r)=>(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[r>0&&(0,t.jsx)("i",{className:"fas fa-chevron-right text-xs text-slate-600"}),e.href?(0,t.jsx)(s.default,{href:e.href,className:"hover:text-white transition-colors",children:e.label}):(0,t.jsx)("span",{className:"text-white",children:e.label})]},r))})}e.s(["Breadcrumb",()=>r])},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},40160,e=>{"use strict";let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],40160)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},80050,42787,8823,65850,36079,e=>{"use strict";var t=e.i(43476),s=e.i(43531),r=e.i(31278),a=e.i(75558),l=e.i(58377);function o({status:e}){let s={draft:{bg:"bg-slate-500/10",text:"text-slate-400",label:"Draft"},sent:{bg:"bg-amber-500/10",text:"text-amber-400",label:"Pending"},partial:{bg:"bg-blue-500/10",text:"text-blue-400",label:"Partial"},received:{bg:"bg-emerald-500/10",text:"text-emerald-400",label:"Received"},cancelled:{bg:"bg-red-500/10",text:"text-red-400",label:"Cancelled"}},r=s[e]||s.draft;return(0,t.jsx)("span",{className:`px-2 py-1 ${r.bg} ${r.text} text-xs rounded-full`,children:r.label})}function i({status:e}){switch(e){case"pending":return(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-500/10 text-slate-400 text-xs rounded-full",children:"Pending"});case"in_progress":return(0,t.jsxs)("span",{className:"px-2 py-1 bg-blue-500/10 text-blue-400 text-xs rounded-full flex items-center gap-1",children:[(0,t.jsx)(r.Loader2,{className:"w-3 h-3 animate-spin"}),"In Progress"]});case"completed":return(0,t.jsxs)("span",{className:"px-2 py-1 bg-emerald-500/10 text-emerald-400 text-xs rounded-full flex items-center gap-1",children:[(0,t.jsx)(s.Check,{className:"w-3 h-3"}),"Completed"]});case"cancelled":return(0,t.jsx)("span",{className:"px-2 py-1 bg-red-500/10 text-red-400 text-xs rounded-full",children:"Cancelled"});default:return(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-500/10 text-slate-400 text-xs rounded-full",children:e})}}function d({priority:e}){if("normal"===e)return null;let s={high:a.ArrowUp,urgent:l.Flame}[e];return(0,t.jsxs)("span",{className:`flex items-center gap-1 text-xs ${{high:"text-amber-400",urgent:"text-red-400"}[e]}`,children:[(0,t.jsx)(s,{className:"w-3 h-3"}),e.charAt(0).toUpperCase()+e.slice(1)]})}function n({icon:e,iconColor:s,value:r,label:a,onClick:l,isActive:o=!1,accentBorder:i=!1}){let d={slate:{iconBg:"bg-slate-700/50",textColor:"text-slate-400",activeBorder:"border-slate-400/50",activeBg:"bg-slate-500/10",hoverBorder:"hover:border-slate-600"},amber:{iconBg:"bg-amber-500/20",textColor:"text-amber-400",activeBorder:"border-amber-500/50",activeBg:"bg-amber-500/10",hoverBorder:"hover:border-amber-500/50"},blue:{iconBg:"bg-blue-500/20",textColor:"text-blue-400",activeBorder:"border-blue-500/50",activeBg:"bg-blue-500/10",hoverBorder:"hover:border-blue-500/50"},emerald:{iconBg:"bg-emerald-500/20",textColor:"text-emerald-400",activeBorder:"border-emerald-500/50",activeBg:"bg-emerald-500/10",hoverBorder:"hover:border-emerald-500/50"},purple:{iconBg:"bg-purple-500/20",textColor:"text-purple-400",activeBorder:"border-purple-500/50",activeBg:"bg-purple-500/10",hoverBorder:"hover:border-purple-500/50"}},n=d[s]||d.slate,c="number"==typeof r?r.toLocaleString():r,u="bg-slate-800/50 backdrop-blur border rounded-xl p-4 text-left transition-colors",x=i?`border-${s}-500/30 ${n.hoverBorder}`:"border-slate-700/50",m=o?`${n.activeBorder} ${n.activeBg}`:x,p=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg ${n.iconBg} flex items-center justify-center`,children:(0,t.jsx)(e,{className:`w-5 h-5 ${n.textColor}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`text-2xl font-bold ${o||"slate"!==s?n.textColor:"text-white"}`,children:c}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:a})]})]});return l?(0,t.jsx)("button",{onClick:l,className:`${u} ${m} ${!o?n.hoverBorder:""}`,children:p}):(0,t.jsx)("div",{className:`${u} ${x}`,children:p})}function c({children:e,columns:s=6}){return(0,t.jsx)("div",{className:`grid ${5===s?"grid-cols-5":"grid-cols-6"} gap-4`,children:e})}e.s(["POStatusBadge",()=>o,"PriorityBadge",()=>d,"WOStatusBadge",()=>i],42787),e.s(["OperationsStatCard",()=>n,"OperationsStatsGrid",()=>c],8823);var u=e.i(55436);function x({value:e,onChange:s,placeholder:r="Search..."}){return(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:r,value:e,onChange:e=>s(e.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:border-emerald-500/50"})]})}function m({value:e,onChange:s,options:r,placeholder:a}){return(0,t.jsxs)("select",{value:e,onChange:e=>s(e.target.value),className:"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50",children:[a&&(0,t.jsx)("option",{value:"",children:a}),r.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})}function p({children:e,onClear:s,showClear:r}){return(0,t.jsx)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[e,r&&s&&(0,t.jsx)("button",{onClick:s,className:"px-3 py-2.5 text-slate-400 hover:text-white transition-colors",children:"Clear"})]})})}e.s(["FilterBar",()=>p,"FilterSelect",()=>m,"SearchInput",()=>x],65850);var h=e.i(73375),b=e.i(63059);function g({showing:e,total:s,currentPage:r=1,label:a="items"}){return(0,t.jsxs)("div",{className:"px-5 py-4 border-t border-slate-700/50 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:["Showing ",(0,t.jsx)("span",{className:"text-white",children:e})," of"," ",(0,t.jsx)("span",{className:"text-white",children:s})," ",a]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-400 rounded-lg transition-colors disabled:opacity-50",disabled:!0,children:(0,t.jsx)(h.ChevronLeft,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"px-3 py-1.5 bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 rounded-lg",children:r}),(0,t.jsx)("button",{className:"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-400 rounded-lg transition-colors disabled:opacity-50",disabled:!0,children:(0,t.jsx)(b.ChevronRight,{className:"w-4 h-4"})})]})]})}e.s(["PaginationFooter",()=>g],36079),e.s([],80050)},39616,e=>{"use strict";let t=(0,e.i(75254).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},44237,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(78583),a=e.i(31278),l=e.i(43531),o=e.i(88844),i=e.i(39616),d=e.i(7233),n=e.i(31343),c=e.i(86536),u=e.i(40160),x=e.i(88511),m=e.i(73146),p=e.i(80809),h=e.i(29618);e.i(59802);var b=e.i(4423),g=e.i(50938),j=e.i(63207),v=e.i(75148);e.i(80050);var f=e.i(42787),N=e.i(8823),y=e.i(65850),w=e.i(36079);function C(){let{state:e,dispatch:C}=(0,m.useApp)(),{success:k,error:P}=(0,p.useToast)(),O=(0,h.useConfirm)(),[S,B]=(0,s.useState)(""),[D,T]=(0,s.useState)(""),[A,$]=(0,s.useState)(""),[q,W]=(0,s.useState)(!1),[M,R]=(0,s.useState)(!1),[E,I]=(0,s.useState)(null),[U,_]=(0,s.useState)(null),L=t=>e.inventory.filter(e=>e.productId===t).reduce((e,t)=>e+t.quantity,0),F=(0,s.useMemo)(()=>e.workOrders.filter(e=>{if(S&&e.status!==S||D&&e.priority!==D)return!1;if(A){let t=A.toLowerCase();return e.woNumber.toLowerCase().includes(t)||e.outputProductName.toLowerCase().includes(t)}return!0}),[e.workOrders,S,D,A]),K=(0,s.useMemo)(()=>{let t=new Date(new Date().getTime()-6048e5);return{pending:e.workOrders.filter(e=>"pending"===e.status).length,inProgress:e.workOrders.filter(e=>"in_progress"===e.status).length,completedThisWeek:e.workOrders.filter(e=>"completed"===e.status&&!!e.completedAt&&new Date(e.completedAt)>=t).length,unitsProducedThisWeek:e.workOrders.filter(e=>"completed"===e.status&&e.completedAt&&new Date(e.completedAt)>=t).reduce((e,t)=>e+t.quantityProduced,0),unitsInProduction:e.workOrders.filter(e=>"in_progress"===e.status).reduce((e,t)=>e+t.quantityToProduce,0),bomCount:e.bundles.length}},[e.workOrders,e.bundles]),z=(0,s.useMemo)(()=>e.workOrders.filter(e=>"in_progress"===e.status),[e.workOrders]),H=e=>{I(e),R(!0)},V=e=>{"pending"!==e.status?P("Only pending work orders can be edited"):(_(e),R(!1),W(!0))},G=async t=>{t.components.every(e=>L(e.productId)>=e.quantityRequired)?await O({title:"Start Production",message:`Start production on ${t.woNumber}? This will deduct components from inventory.`,confirmText:"Start Production"})&&(t.components.forEach(t=>{let s=e.locations.find(e=>e.isDefault),r=s?.id||e.locations[0]?.id||"loc-1";C({type:"ADJUST_STOCK",payload:{productId:t.productId,locationId:r,adjustment:-t.quantityRequired}})}),C({type:"UPDATE_WORK_ORDER",payload:{...t,status:"in_progress",startedAt:new Date,components:t.components.map(e=>({...e,quantityUsed:e.quantityRequired}))}}),k(`Started production on ${t.woNumber}`)):P("Insufficient stock to start production")},J=async t=>{if(await O({title:"Complete Work Order",message:`Complete ${t.woNumber}? This will add ${t.quantityToProduce} ${t.outputProductName} to inventory.`,confirmText:"Complete"})){let s=e.locations.find(e=>e.isDefault),r=s?.id||e.locations[0]?.id||"loc-1";C({type:"ADJUST_STOCK",payload:{productId:t.outputProductId,locationId:r,adjustment:t.quantityToProduce}}),C({type:"UPDATE_WORK_ORDER",payload:{...t,status:"completed",quantityProduced:t.quantityToProduce,completedAt:new Date}}),k(`${t.woNumber} completed! ${(0,j.formatNumber)(t.quantityToProduce)} ${t.outputProductName} added to inventory`)}},Q=!!(S||D||A);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(v.Breadcrumb,{items:[{label:"Operations"},{label:"Work Orders"}]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Work Orders"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Manage production, labeling, and assembly tasks"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([["WO Number,Output Product,Quantity,Status,Priority,Due Date,Created",...F.map(e=>[e.woNumber,e.outputProductName,e.quantityToProduce.toString(),e.status,e.priority,e.dueDate?(0,j.formatDate)(e.dueDate):"",(0,j.formatDate)(e.createdAt)]).map(e=>e.join(","))].join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`work-orders-${new Date().toISOString().split("T")[0]}.csv`,s.click(),URL.revokeObjectURL(t),k("Exported work orders to CSV")},className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)(u.Download,{className:"w-4 h-4"}),"Export"]}),(0,t.jsxs)("button",{onClick:()=>{_(null),W(!0)},className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)(d.Plus,{className:"w-4 h-4"}),"New Work Order"]})]})]}),(0,t.jsxs)(N.OperationsStatsGrid,{children:[(0,t.jsx)(N.OperationsStatCard,{icon:r.FileText,iconColor:"slate",value:K.pending,label:"Pending",onClick:()=>B("pending"),isActive:"pending"===S}),(0,t.jsx)(N.OperationsStatCard,{icon:a.Loader2,iconColor:"blue",value:K.inProgress,label:"In Progress",onClick:()=>B("in_progress"),isActive:"in_progress"===S,accentBorder:!0}),(0,t.jsx)(N.OperationsStatCard,{icon:l.Check,iconColor:"emerald",value:K.completedThisWeek,label:"Completed (7d)",onClick:()=>B("completed"),isActive:"completed"===S,accentBorder:!0}),(0,t.jsx)(N.OperationsStatCard,{icon:o.Package,iconColor:"slate",value:(0,j.formatNumber)(K.unitsInProduction),label:"Units in Production"}),(0,t.jsx)(N.OperationsStatCard,{icon:o.Package,iconColor:"amber",value:(0,j.formatNumber)(K.unitsProducedThisWeek),label:"Produced (7d)",accentBorder:!0}),(0,t.jsx)(N.OperationsStatCard,{icon:i.Settings,iconColor:"purple",value:K.bomCount,label:"Active BOMs",accentBorder:!0})]}),z.length>0&&(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-blue-500/30 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-5 py-4 border-b border-slate-700/50",children:[(0,t.jsx)("h2",{className:"font-semibold text-white",children:"Active Work Orders"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Work orders currently in progress"})]}),(0,t.jsx)("div",{className:"p-5 grid grid-cols-2 gap-4",children:z.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-blue-500/30 rounded-xl p-4 cursor-pointer hover:border-blue-500/50 transition-colors",onClick:()=>H(e),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono text-sm font-medium text-white",children:e.woNumber}),(0,t.jsx)(f.WOStatusBadge,{status:e.status})]}),(0,t.jsx)(f.PriorityBadge,{priority:e.priority})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(o.Package,{className:"w-6 h-6 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.outputProductName}),(0,t.jsxs)("div",{className:"text-xs text-slate-400",children:[(0,j.formatNumber)(e.quantityToProduce)," units"]})]})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Progress"}),(0,t.jsx)("span",{className:"text-blue-400",children:"50%"})]}),(0,t.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"50%"}})})]}),(0,t.jsxs)("div",{className:"flex gap-2",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("button",{onClick:()=>J(e),className:"flex-1 px-3 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-sm flex items-center justify-center gap-2",children:[(0,t.jsx)(l.Check,{className:"w-4 h-4"}),"Complete"]}),(0,t.jsx)("button",{onClick:()=>H(e),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg text-sm",children:(0,t.jsx)(c.Eye,{className:"w-4 h-4"})})]})]},e.id))})]}),(0,t.jsxs)(y.FilterBar,{onClear:()=>{B(""),T(""),$("")},showClear:Q,children:[(0,t.jsx)(y.SearchInput,{value:A,onChange:$,placeholder:"Search by WO number or product..."}),(0,t.jsx)(y.FilterSelect,{value:S,onChange:B,placeholder:"All Statuses",options:[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}]}),(0,t.jsx)(y.FilterSelect,{value:D,onChange:T,placeholder:"All Priorities",options:[{value:"normal",label:"Normal"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700/50",children:(0,t.jsxs)("tr",{className:"text-left text-xs text-slate-400 uppercase tracking-wider",children:[(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"WO Number"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Output Product"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Quantity"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Priority"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Due Date"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-center",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-center",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:0===F.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400",children:0===e.workOrders.length?"No work orders yet. Create your first work order!":"No work orders match your filters."})}):F.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors cursor-pointer",onClick:()=>H(e),children:[(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsx)("div",{className:"font-mono text-sm font-medium text-white",children:e.woNumber}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:(0,j.formatDate)(e.createdAt)})]}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)("div",{className:"text-sm text-white",children:e.outputProductName})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsxs)("div",{className:"text-sm text-white",children:["completed"===e.status?`${(0,j.formatNumber)(e.quantityProduced)} / ${(0,j.formatNumber)(e.quantityToProduce)}`:(0,j.formatNumber)(e.quantityToProduce)," units"]})}),(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsx)(f.PriorityBadge,{priority:e.priority}),"normal"===e.priority&&(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Normal"})]}),(0,t.jsx)("td",{className:"px-4 py-4 text-sm text-white",children:e.dueDate?(0,j.formatDate)(e.dueDate):"-"}),(0,t.jsx)("td",{className:"px-4 py-4 text-center",children:(0,t.jsx)(f.WOStatusBadge,{status:e.status})}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:()=>H(e),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"View",children:(0,t.jsx)(c.Eye,{className:"w-4 h-4"})}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>V(e),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(x.Edit,{className:"w-4 h-4"})}),(0,t.jsxs)("button",{onClick:()=>G(e),className:"px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white text-xs rounded-lg flex items-center gap-1",children:[(0,t.jsx)(n.Play,{className:"w-3 h-3"}),"Start"]})]}),"in_progress"===e.status&&(0,t.jsxs)("button",{onClick:()=>J(e),className:"px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white text-xs rounded-lg flex items-center gap-1",children:[(0,t.jsx)(l.Check,{className:"w-3 h-3"}),"Complete"]})]})})]},e.id))})]})}),(0,t.jsx)(w.PaginationFooter,{showing:F.length,total:e.workOrders.length,label:"work orders"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"px-5 py-4 border-b border-slate-700/50 flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold text-white",children:"Available BOMs (Bundles)"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Bundles can be used as Bill of Materials for work orders"})]})}),(0,t.jsx)("div",{className:"p-4 grid grid-cols-4 gap-4",children:e.bundles.slice(0,8).map(e=>{let s=1/0;return e.components.forEach(e=>{let t=L(e.productId);s=Math.min(s,Math.floor(t/e.quantity))}),s===1/0&&(s=0),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4 hover:border-emerald-500/30 transition-colors cursor-pointer",onClick:()=>{_(null),W(!0)},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-purple-500/20 rounded flex items-center justify-center",children:(0,t.jsx)(o.Package,{className:"w-4 h-4 text-purple-400"})}),(0,t.jsx)("span",{className:"font-medium text-white truncate",children:e.name})]}),(0,t.jsxs)("div",{className:"text-xs text-slate-400 mb-2",children:[e.components.length," components"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Can build:"}),(0,t.jsxs)("span",{className:s>0?"text-emerald-400":"text-red-400",children:[(0,j.formatNumber)(s)," units"]})]})]},e.id)})})]}),(0,t.jsx)(b.CreateWorkOrderModal,{isOpen:q,onClose:()=>{W(!1),_(null)},editWO:U}),(0,t.jsx)(g.WorkOrderDetailModal,{isOpen:M,onClose:()=>{R(!1),I(null)},workOrder:E,onEdit:V})]})}e.s(["default",()=>C])}]);