(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63207,e=>{"use strict";function t(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function s(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function a(e){return new Intl.NumberFormat("en-US").format(e)}function l(e,t=!0){return t?`${e>=0?"+":""}${e.toFixed(1)}%`:`${e.toFixed(1)}%`}function r(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function i(e){return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}e.s(["formatCurrency",()=>t,"formatCurrencyPrecise",()=>s,"formatDate",()=>r,"formatDateTime",()=>i,"formatNumber",()=>a,"formatPercent",()=>l])},76525,e=>{"use strict";var t=e.i(43476),s=e.i(22016);let a={primary:"bg-emerald-600 hover:bg-emerald-500 text-white border-transparent",secondary:"bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700",ghost:"bg-transparent hover:bg-slate-800 text-slate-400 hover:text-white border-transparent",danger:"bg-red-600 hover:bg-red-500 text-white border-transparent"},l={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};function r({variant:e="primary",size:r="md",icon:i,iconPosition:n="left",children:d,className:o="",disabled:c,href:x,...m}){let u=`inline-flex items-center justify-center gap-2 font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${a[e]} ${l[r]} ${o}`,h=(0,t.jsxs)(t.Fragment,{children:[i&&"left"===n&&(0,t.jsx)("i",{className:i}),d,i&&"right"===n&&(0,t.jsx)("i",{className:i})]});return x?(0,t.jsx)(s.default,{href:x,className:u,children:h}):(0,t.jsx)("button",{className:u,disabled:c,...m,children:h})}e.s(["Button",()=>r])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},46040,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let a={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};function l({open:e,onClose:l,title:r,subtitle:i,children:n,footer:d,size:o="md",className:c=""}){return((0,s.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e&&l()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,l]),(0,s.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:l}),(0,t.jsxs)("div",{className:`relative bg-slate-900 border border-slate-700 rounded-2xl w-full ${a[o]} m-4 shadow-2xl ${c}`,children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-700 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:r}),i&&(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-0.5",children:i})]}),(0,t.jsx)("button",{onClick:l,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)("i",{className:"fas fa-times"})})]}),(0,t.jsx)("div",{className:"p-6 max-h-[calc(100vh-16rem)] overflow-y-auto",children:n}),d&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-slate-700 flex items-center justify-end gap-3",children:d})]})]}):null}e.s(["Modal",()=>l])},91741,e=>{"use strict";let t=(0,e.i(75254).default)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);e.s(["ClipboardList",()=>t],91741)},72664,e=>{"use strict";let t=(0,e.i(75254).default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["Box",()=>t],72664)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},93046,57417,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46040),l=e.i(76525),r=e.i(73146),i=e.i(80809),n=e.i(63207);let d=["USA","Canada","United Kingdom","Australia","Germany","France","Japan"];function o({isOpen:e,onClose:o}){let{state:c,dispatch:x}=(0,r.useApp)(),{success:m,error:u,warning:h}=(0,i.useToast)(),[p,b]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),[y,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[$,A]=(0,s.useState)(""),[M,O]=(0,s.useState)("USA"),[T,D]=(0,s.useState)([]),[P,F]=(0,s.useState)("0"),[I,B]=(0,s.useState)("0"),[_,U]=(0,s.useState)("0"),[L,z]=(0,s.useState)(""),[q,E]=(0,s.useState)(""),[R,G]=(0,s.useState)(!1),[J,K]=(0,s.useState)("1"),[V,Y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e&&(b(""),f(""),v(""),N(""),k(""),S(""),A(""),O("USA"),D([]),F("0"),B("0"),U("0"),z(""),E(""),K("1"))},[e]);let H=e=>c.inventory.filter(t=>t.productId===e).reduce((e,t)=>e+t.quantity,0),W=(0,s.useMemo)(()=>{if(!q.trim())return[];let e=q.toLowerCase();return c.products.filter(t=>(t.name.toLowerCase().includes(e)||t.sku.toLowerCase().includes(e))&&!T.some(e=>e.productId===t.id)).slice(0,8)},[q,c.products,T]),X=(0,s.useMemo)(()=>{let e=T.reduce((e,t)=>e+t.price*t.quantity,0),t=T.reduce((e,t)=>e+t.cost*t.quantity,0),s=parseFloat(P)||0,a=e+s+(parseFloat(I)||0)-(parseFloat(_)||0),l=a-t-s;return{subtotal:e,cogs:t,total:a,profit:l,margin:a>0?l/a*100:0}},[T,P,I,_]),Z=(0,s.useMemo)(()=>!!p.trim()&&!!g.trim()&&!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)&&!!y.trim()&&!!w.trim()&&!!C.trim()&&!!$.trim()&&!!M&&0!==T.length&&!0,[p,g,y,w,C,$,M,T]);return(0,t.jsx)(a.Modal,{open:e,onClose:o,title:"Create Manual Order",subtitle:"Add a new order manually",size:"lg",footer:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Button,{variant:"secondary",onClick:o,children:"Cancel"}),(0,t.jsx)(l.Button,{onClick:()=>{if(Z){Y(!0);try{let e,t=(e=c.orders.filter(e=>"manual"===e.channel).length,`MAN-${(e+1).toString().padStart(4,"0")}`),s=parseFloat(P)||0,a=parseFloat(I)||0,l=parseFloat(_)||0,r={id:crypto.randomUUID(),orderNumber:t,channel:"manual",status:"to_pick",customer:{name:p.trim(),email:g.trim(),phone:j.trim()||void 0,address:{street:y.trim(),city:w.trim(),state:C.trim(),zip:$.trim(),country:M}},items:T.map(e=>({productId:e.productId,productName:e.productName,sku:e.sku,quantity:e.quantity,price:e.price,cost:e.cost,picked:!1})),subtotal:X.subtotal,shipping:s,tax:a,discount:l,total:X.total,cogs:X.cogs,profit:X.profit,margin:X.margin,createdAt:new Date,updatedAt:new Date};x({type:"ADD_ORDER",payload:r}),m(`Order ${t} created successfully`),o()}catch(e){u("Failed to create order. Please try again.")}finally{Y(!1)}}},disabled:V||!Z,children:V?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fas fa-plus mr-2"}),"Create Order"]})})]}),children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Customer Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Name *"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>b(e.target.value),placeholder:"John Doe",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Email *"}),(0,t.jsx)("input",{type:"email",value:g,onChange:e=>f(e.target.value),placeholder:"john@example.com",className:`w-full bg-slate-800 border rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none ${g&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)?"border-red-500/50":"border-slate-700 focus:border-emerald-500/50"}`}),g&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)&&(0,t.jsx)("p",{className:"text-xs text-red-400 mt-1",children:"Invalid email format"})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Phone (Optional)"}),(0,t.jsx)("input",{type:"tel",value:j,onChange:e=>v(e.target.value),placeholder:"+1 (555) 123-4567",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Shipping Address"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Street Address *"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>N(e.target.value),placeholder:"123 Main Street",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"City *"}),(0,t.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),placeholder:"New York",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"State *"}),(0,t.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"NY",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"ZIP Code *"}),(0,t.jsx)("input",{type:"text",value:$,onChange:e=>A(e.target.value),placeholder:"10001",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Country *"}),(0,t.jsx)("select",{value:M,onChange:e=>O(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50",children:d.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Order Items *"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:q,onChange:e=>{E(e.target.value),G(!0)},onFocus:()=>G(!0),placeholder:"Search products...",className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"}),R&&W.length>0&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-lg max-h-48 overflow-auto",children:W.map(e=>{let s=H(e.id);return(0,t.jsxs)("button",{type:"button",onClick:()=>(e=>{let t=c.products.find(t=>t.id===e);if(!t)return;let s=parseInt(J)||1;D(e=>[...e,{productId:t.id,productName:t.name,sku:t.sku,quantity:s,price:t.prices.msrp,cost:t.cost.rolling}]),E(""),K("1"),G(!1)})(e.id),className:"w-full px-4 py-2.5 flex items-center justify-between hover:bg-slate-700/50 text-left",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-white",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-slate-400",children:[e.sku," - ",(0,n.formatCurrency)(e.prices.msrp)]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:`text-sm ${s>0?"text-emerald-400":"text-red-400"}`,children:[(0,n.formatNumber)(s)," in stock"]})})]},e.id)})})]}),(0,t.jsx)("input",{type:"number",min:"1",value:J,onChange:e=>K(e.target.value),className:"w-20 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-white text-center focus:outline-none focus:border-emerald-500/50",placeholder:"Qty"})]}),T.length>0?(0,t.jsx)("div",{className:"space-y-2 mb-4",children:T.map(e=>{let s=H(e.productId),a=s<e.quantity;return(0,t.jsxs)("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${a?"bg-red-500/10 border-red-500/30":"bg-slate-800/50 border-slate-700/50"}`,children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-white truncate",children:e.productName}),(0,t.jsxs)("div",{className:"text-xs text-slate-400",children:[e.sku," - ",(0,n.formatNumber)(s)," available",a&&(0,t.jsxs)("span",{className:"text-red-400 ml-2",children:[(0,t.jsx)("i",{className:"fas fa-exclamation-triangle mr-1"}),"Low stock"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:t=>{var s,a;return s=e.productId,void(!((a=parseInt(t.target.value)||1)<1)&&D(e=>e.map(e=>e.productId===s?{...e,quantity:a}:e)))},className:"w-16 bg-slate-700 border border-slate-600 rounded-lg px-2 py-1.5 text-white text-center text-sm"}),(0,t.jsx)("span",{className:"text-slate-400",children:"x"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:e.price,onChange:t=>{var s,a;return s=e.productId,void(!((a=parseFloat(t.target.value)||0)<0)&&D(e=>e.map(e=>e.productId===s?{...e,price:a}:e)))},className:"w-24 bg-slate-700 border border-slate-600 rounded-lg pl-6 pr-2 py-1.5 text-white text-sm"})]}),(0,t.jsx)("span",{className:"text-white font-medium w-20 text-right",children:(0,n.formatCurrency)(e.price*e.quantity)})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.productId,void D(e=>e.filter(e=>e.productId!==t))},className:"p-2 text-slate-500 hover:text-red-400",children:(0,t.jsx)("i",{className:"fas fa-trash"})})]},e.productId)})}):(0,t.jsxs)("div",{className:"p-6 border-2 border-dashed border-slate-700 rounded-lg text-center text-slate-400 mb-4",children:[(0,t.jsx)("i",{className:"fas fa-shopping-cart text-2xl mb-2"}),(0,t.jsx)("p",{children:"No items added yet"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Search for products above to add them"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Order Totals"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Shipping"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:P,onChange:e=>F(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Tax"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:I,onChange:e=>B(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Discount"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:_,onChange:e=>U(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Subtotal"}),(0,t.jsx)("span",{className:"text-white",children:(0,n.formatCurrency)(X.subtotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Shipping"}),(0,t.jsx)("span",{className:"text-white",children:(0,n.formatCurrency)(parseFloat(P)||0)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Tax"}),(0,t.jsx)("span",{className:"text-white",children:(0,n.formatCurrency)(parseFloat(I)||0)})]}),parseFloat(_)>0&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Discount"}),(0,t.jsxs)("span",{className:"text-emerald-400",children:["-",(0,n.formatCurrency)(parseFloat(_))]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-2 border-t border-slate-700",children:[(0,t.jsx)("span",{className:"font-medium text-white",children:"Total"}),(0,t.jsx)("span",{className:"font-bold text-white text-lg",children:(0,n.formatCurrency)(X.total)})]})]}),T.length>0&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700 grid grid-cols-3 gap-3 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"COGS"}),(0,t.jsx)("div",{className:"text-sm text-white",children:(0,n.formatCurrency)(X.cogs)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Profit"}),(0,t.jsx)("div",{className:`text-sm ${X.profit>=0?"text-emerald-400":"text-red-400"}`,children:(0,n.formatCurrency)(X.profit)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Margin"}),(0,t.jsxs)("div",{className:`text-sm ${X.margin>=30?"text-emerald-400":X.margin>=15?"text-amber-400":"text-red-400"}`,children:[X.margin.toFixed(1),"%"]})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Internal Notes (Optional)"}),(0,t.jsx)("textarea",{value:L,onChange:e=>z(e.target.value),rows:2,placeholder:"Any special instructions or notes...",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 resize-none"})]})]})})}e.s(["CreateOrderModal",()=>o],93046);var c=e.i(37727),x=e.i(88844),m=e.i(91741);let u=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var h=e.i(63209),p=e.i(69638),b=e.i(72664);function g({isOpen:e,onClose:a,selectedOrderIds:l}){let{state:d,dispatch:o}=(0,r.useApp)(),{success:g,error:f,warning:j}=(0,i.useToast)(),[v,y]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[k,C]=(0,s.useState)([]),S=(0,s.useMemo)(()=>d.orders.filter(e=>l.includes(e.id)),[d.orders,l]),$=(0,s.useMemo)(()=>{let e=S.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.quantity,0),0);return{totalItems:e,totalValue:S.reduce((e,t)=>e+t.total,0),uniqueSkus:new Set(S.flatMap(e=>e.items.map(e=>e.sku))).size}},[S]),A=(0,s.useMemo)(()=>{let{maxOrdersPerBatch:e,maxItemsPerBatch:t,pickingMode:s}=d.settings,a=S.length<=e,l=$.totalItems<=t,r="multi_tote"===s?S.length:1,i=d.pickingTotes.filter(e=>e.isActive).length;return{ordersOk:a,itemsOk:l,totesOk:i>=r,maxOrders:e,maxItems:t,totesNeeded:r,totesAvailable:i}},[S.length,$.totalItems,d.settings,d.pickingTotes]),M=S.filter(e=>"to_pick"!==e.status&&"draft"!==e.status);return(d.pickingTotes.filter(e=>e.isActive),e)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:(0,t.jsx)(m.ClipboardList,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Create Pick Batch"}),(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:[S.length," orders selected"]})]})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg",children:(0,t.jsx)(c.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[60vh]",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:S.length}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Orders"})]}),(0,t.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:$.totalItems}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Total Items"})]}),(0,t.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:$.uniqueSkus}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Unique SKUs"})]}),(0,t.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-emerald-400",children:(0,n.formatCurrency)($.totalValue)}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Total Value"})]})]}),M.length>0&&(0,t.jsx)("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(h.AlertCircle,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-amber-400",children:[M.length," orders not ready for picking"]}),(0,t.jsx)("p",{className:"text-xs text-amber-300 mt-1",children:'Orders must be in "To Pick" status. These will be skipped.'})]})]})}),!A.ordersOk&&(0,t.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(h.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-red-400",children:["Exceeds maximum orders per batch (",A.maxOrders,")"]}),(0,t.jsx)("p",{className:"text-xs text-red-300 mt-1",children:"Consider splitting into multiple batches."})]})]})}),!A.itemsOk&&(0,t.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(h.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm font-medium text-red-400",children:["Exceeds maximum items per batch (",A.maxItems,")"]})})]})}),(0,t.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(x.Package,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)("span",{className:"font-medium text-white",children:"multi_tote"===d.settings.pickingMode?"Multi-Tote Mode":"Single-Tote Mode"})]}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"multi_tote"===d.settings.pickingMode?`Each order gets its own tote. You need ${A.totesNeeded} totes for this batch.`:"All items collected in one tote. Requires sorting after picking."}),"multi_tote"===d.settings.pickingMode&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)(b.Box,{className:"w-4 h-4 text-slate-500"}),(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:[A.totesAvailable," totes available"]}),A.totesOk?(0,t.jsx)(p.CheckCircle,{className:"w-4 h-4 text-emerald-400"}):(0,t.jsxs)("span",{className:"text-xs text-red-400",children:["(need ",A.totesNeeded-A.totesAvailable," more)"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Assign to (optional)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50",children:[(0,t.jsx)("option",{value:"",children:"Unassigned"}),(0,t.jsx)("option",{value:"John",children:"John"}),(0,t.jsx)("option",{value:"Jane",children:"Jane"}),(0,t.jsx)("option",{value:"Mike",children:"Mike"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Orders in Batch"}),(0,t.jsx)("div",{className:"max-h-40 overflow-y-auto space-y-2",children:S.map(e=>{let s="to_pick"===e.status||"draft"===e.status;return(0,t.jsxs)("div",{className:`p-3 rounded-lg flex items-center justify-between ${s?"bg-slate-800/50":"bg-red-500/10 border border-red-500/20"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"font-mono text-sm text-white",children:["#",e.orderNumber]}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:e.customer.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:[e.items.reduce((e,t)=>e+t.quantity,0)," items"]}),!s&&(0,t.jsxs)("span",{className:"text-xs text-red-400",children:["Status: ",e.status]})]})]},e.id)})})]})]}),(0,t.jsxs)("div",{className:"px-6 py-4 border-t border-slate-700 flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:["Batch will be created with"," ",(0,t.jsx)("span",{className:"text-white font-medium",children:S.length-M.length})," ","orders"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{let e,t;if(0===S.length)return void f("No orders selected");let s=S.filter(e=>"to_pick"===e.status||"draft"===e.status);if(0===s.length)return void f("No orders are ready for picking");if("multi_tote"===d.settings.pickingMode&&k.length<s.length)return void f(`Need ${s.length} totes but only ${k.length} selected`);let l={id:crypto.randomUUID(),batchNumber:(e=new Date().toISOString().slice(0,10).replace(/-/g,""),t=d.pickingBatches.filter(t=>t.batchNumber.startsWith(`PB-${e}`)).length,`PB-${e}-${String(t+1).padStart(3,"0")}`),status:"open",orderIds:s.map(e=>e.id),assignedTo:N||void 0,createdAt:new Date};o({type:"ADD_PICKING_BATCH",payload:l}),s.forEach(e=>{o({type:"UPDATE_ORDER_STATUS",payload:{orderId:e.id,status:"picking"}})}),g(`Pick batch ${l.batchNumber} created with ${s.length} orders`),M.length>0&&j(`${M.length} orders were skipped (not ready for picking)`),y(""),w(""),C([]),a()},disabled:S.length-M.length==0,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)(m.ClipboardList,{className:"w-4 h-4"}),"Create Batch"]})]})]})]})]}):null}e.s(["CreatePickBatchModal",()=>g],57417)},6465,e=>{"use strict";var t=e.i(43476),s=e.i(37727);function a({label:e,value:a,onRemove:l}){return(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-emerald-500/20 text-emerald-400 rounded-lg text-xs",children:[(0,t.jsxs)("span",{className:"text-emerald-400/70",children:[e,":"]}),(0,t.jsx)("span",{className:"font-medium",children:a}),(0,t.jsx)("button",{onClick:l,className:"ml-0.5 p-0.5 hover:bg-emerald-500/30 rounded transition-colors",children:(0,t.jsx)(s.X,{className:"w-3 h-3"})})]})}function l({filters:e,onRemove:s,onClearAll:l}){return 0===e.length?null:(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm text-emerald-400 flex-shrink-0",children:"Filtered by:"}),(0,t.jsx)("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:e.map(e=>(0,t.jsx)(a,{label:e.label,value:e.value,onRemove:()=>s(e.key)},e.key))}),(0,t.jsx)("button",{onClick:l,className:"text-sm text-slate-400 hover:text-white transition-colors flex-shrink-0",children:"Clear All"})]})}e.s(["ActiveFilters",()=>l])},40554,e=>{"use strict";var t=e.i(43476);function s({icon:e,title:s,description:a,showFilterHint:l,action:r}){return(0,t.jsxs)("div",{className:"p-8 text-center text-slate-500",children:[(0,t.jsx)("i",{className:`fas ${e} text-4xl mb-4 text-slate-600`}),(0,t.jsx)("p",{className:"font-medium text-white mb-2",children:s}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:a}),l&&(0,t.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting your filters"}),r&&(0,t.jsx)("div",{className:"mt-4",children:r})]})}function a({currentPage:e,totalPages:s,totalItems:a,itemsPerPage:l,itemLabel:r="items",onPageChange:i}){if(s<=1)return null;let n=Math.min(e*l,a);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-slate-700/50",children:[(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:["Showing ",(e-1)*l+1," to ",n," of ",a," ",r]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>i(Math.max(1,e-1)),disabled:1===e,className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-chevron-left"})}),Array.from({length:Math.min(5,s)},(a,l)=>{let r;return r=s<=5||e<=3?l+1:e>=s-2?s-4+l:e-2+l,(0,t.jsx)("button",{onClick:()=>i(r),className:`px-3 py-1.5 rounded-lg transition-colors ${e===r?"bg-emerald-600 text-white":"bg-slate-700/50 hover:bg-slate-600/50 text-slate-300"}`,children:r},r)}),(0,t.jsx)("button",{onClick:()=>i(Math.min(s,e+1)),disabled:e===s,className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-chevron-right"})})]})]})}function l({children:e}){return(0,t.jsx)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:e})}function r({icon:e,onClick:s,color:a="slate",title:l,disabled:r}){return(0,t.jsx)("button",{onClick:s,disabled:r,title:l,className:`p-2 rounded-lg transition-colors ${{slate:"text-slate-400 hover:bg-slate-600/50",blue:"text-blue-400 hover:bg-blue-500/20",emerald:"text-emerald-400 hover:bg-emerald-500/20",amber:"text-amber-400 hover:bg-amber-500/20",red:"text-red-400 hover:bg-red-500/20"}[a]} ${r?"opacity-50 cursor-not-allowed":""}`,children:(0,t.jsx)("i",{className:`fas ${e}`})})}function i({icon:e,label:s,onClick:a,variant:l="primary"}){return(0,t.jsxs)("button",{onClick:a,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${{primary:"bg-emerald-600 hover:bg-emerald-500 text-white",secondary:"bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300"}[l]}`,children:[(0,t.jsx)("i",{className:`fas ${e} text-sm`}),s]})}e.s(["ActionButton",()=>r,"EmptyState",()=>s,"Pagination",()=>a,"PrimaryActionButton",()=>i,"TableWrapper",()=>l])},97074,e=>{"use strict";var t=e.i(43476);let s={draft:{bg:"bg-slate-500/10",text:"text-slate-400",icon:"fa-file-alt",label:"Draft"},to_pick:{bg:"bg-amber-500/10",text:"text-amber-400",icon:"fa-hand-pointer",label:"To Pick"},picking:{bg:"bg-blue-500/10",text:"text-blue-400",icon:"fa-clipboard-list",label:"Picking"},to_pack:{bg:"bg-purple-500/10",text:"text-purple-400",icon:"fa-box",label:"To Pack"},packing:{bg:"bg-indigo-500/10",text:"text-indigo-400",icon:"fa-box-open",label:"Packing"},ready:{bg:"bg-cyan-500/10",text:"text-cyan-400",icon:"fa-tag",label:"Ready"},shipped:{bg:"bg-emerald-500/10",text:"text-emerald-400",icon:"fa-truck",label:"Shipped"},delivered:{bg:"bg-green-500/20",text:"text-green-400",icon:"fa-check",label:"Delivered"},cancelled:{bg:"bg-red-500/10",text:"text-red-400",icon:"fa-times",label:"Cancelled"}},a={shopify:{bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500/20",icon:"fa-shopify",iconType:"fab",label:"Shopify"},amazon_fbm:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/20",icon:"fa-amazon",iconType:"fab",label:"FBM"},amazon_fba:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/20",icon:"fa-amazon",iconType:"fab",label:"FBA"},manual:{bg:"bg-slate-500/10",text:"text-slate-400",border:"border-slate-500/20",icon:"fa-user",iconType:"fas",label:"Manual"},wholesale:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",icon:"fa-warehouse",iconType:"fas",label:"Wholesale"}};function l({status:e}){let a=s[e];return(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 ${a.bg} ${a.text} text-xs font-medium rounded-full border border-current/20`,children:[(0,t.jsx)("i",{className:`fas ${a.icon} text-[10px]`}),a.label]})}function r({channel:e}){let s=a[e]||a.manual;return(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 ${s.bg} ${s.text} text-xs font-medium rounded-full border ${s.border}`,children:[(0,t.jsx)("i",{className:`${s.iconType} ${s.icon}`}),s.label]})}function i({margin:e}){let s=e>=50?"bg-emerald-500/10 text-emerald-400":e>=30?"bg-amber-500/10 text-amber-400":"bg-red-500/10 text-red-400";return(0,t.jsxs)("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${s}`,children:[e.toFixed(1),"%"]})}e.s(["ChannelBadge",()=>r,"MarginBadge",()=>i,"OrderStatusBadge",()=>l])},30229,e=>{"use strict";var t=e.i(43476),s=e.i(63207);function a({icon:e,iconColor:a,value:l,label:r,format:i="number",onClick:n,isActive:d=!1}){let o={amber:{border:"border-amber-500/30",bg:"bg-amber-500/10",hover:"hover:bg-amber-500/10",iconBg:"bg-amber-500/20",ring:"ring-amber-500/30",text:"text-amber-400"},purple:{border:"border-purple-500/30",bg:"bg-purple-500/10",hover:"hover:bg-purple-500/10",iconBg:"bg-purple-500/20",ring:"ring-purple-500/30",text:"text-purple-400"},cyan:{border:"border-cyan-500/30",bg:"bg-cyan-500/10",hover:"hover:bg-cyan-500/10",iconBg:"bg-cyan-500/20",ring:"ring-cyan-500/30",text:"text-cyan-400"},emerald:{border:"border-emerald-500/30",bg:"bg-emerald-500/10",hover:"hover:bg-emerald-500/10",iconBg:"bg-emerald-500/20",ring:"ring-emerald-500/30",text:"text-emerald-400"},blue:{border:"border-blue-500/30",bg:"bg-blue-500/10",hover:"hover:bg-blue-500/10",iconBg:"bg-blue-500/20",ring:"ring-blue-500/30",text:"text-blue-400"},slate:{border:"border-slate-700/50",bg:"bg-slate-700/30",hover:"hover:bg-slate-700/30",iconBg:"bg-slate-700/50",ring:"ring-slate-500/30",text:"text-white"}},c=o[a]||o.slate,x="currency"===i?(0,s.formatCurrency)("number"==typeof l?l:0):"number"===i?(0,s.formatNumber)("number"==typeof l?l:0):l;return(0,t.jsx)("div",{onClick:n,className:`bg-slate-800/50 backdrop-blur border rounded-xl p-4 transition-colors ${n?"cursor-pointer":""} ${c.hover} ${d?`${c.border.replace("/30","/50")} ${c.bg} ring-2 ${c.ring}`:c.border}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg ${c.iconBg} flex items-center justify-center`,children:(0,t.jsx)("i",{className:`fas ${e} ${c.text}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`text-2xl font-bold ${c.text}`,children:x}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:r})]})]})})}function l({children:e,columns:s=6}){return(0,t.jsx)("div",{className:`grid ${{4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6"}[s]} gap-4`,children:e})}function r(e,t){let s=new Date(e),a=new Date;switch(a.setHours(0,0,0,0),t){case"today":return s>=a;case"yesterday":let l=new Date(a);return l.setDate(l.getDate()-1),s>=l&&s<a;case"last7":let r=new Date(a);return r.setDate(r.getDate()-7),s>=r;case"last30":let i=new Date(a);return i.setDate(i.getDate()-30),s>=i;case"thisMonth":return s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear();default:return!0}}e.s(["OrderStatCard",()=>a,"OrderStatsGrid",()=>l,"channelOptions",0,[{value:"",label:"All Channels"},{value:"shopify",label:"Shopify"},{value:"amazon_fbm",label:"Amazon FBM"},{value:"amazon_fba",label:"Amazon FBA"},{value:"manual",label:"Manual"}],"dateFilterOptions",0,[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7",label:"Last 7 days"},{value:"last30",label:"Last 30 days"},{value:"thisMonth",label:"This month"}],"filterByDate",()=>r,"orderStatusOptions",0,[{value:"",label:"All Statuses"},{value:"to_pick",label:"To Pick"},{value:"picking",label:"Picking"},{value:"to_pack",label:"To Pack"},{value:"packing",label:"Packing"},{value:"ready",label:"Ready"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]])},22599,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),l=e.i(73146),r=e.i(80809),i=e.i(6465),n=e.i(93046),d=e.i(57417),o=e.i(63207),c=e.i(97074),x=e.i(30229),m=e.i(40554);function u(){let e=(0,a.useSearchParams)(),u=(0,a.useRouter)(),{state:h,dispatch:p}=(0,l.useApp)(),{success:b}=(0,r.useToast)(),[g,f]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1),[y,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[$,A]=(0,s.useState)("all"),[M,O]=(0,s.useState)(!1),[T,D]=(0,s.useState)(new Set),[P,F]=(0,s.useState)(1),[I,B]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!M){let t=e.get("status"),s=e.get("channel"),a=e.get("search");t&&k(t),s&&S("amazon"===s?"amazon_fba":s),a&&N(a),O(!0)}},[e,M]);let _=(0,s.useCallback)(e=>{let t=new URLSearchParams,s=e.status??w,a=e.channel??C,l=e.search??y;s&&t.set("status",s),a&&t.set("channel",a),l&&t.set("search",l),u.replace(t.toString()?`/orders?${t.toString()}`:"/orders",{scroll:!1})},[u,w,C,y]),U=(0,s.useMemo)(()=>{let e=[];if(w){let t=x.orderStatusOptions.find(e=>e.value===w);e.push({key:"status",label:"Status",value:t?.label||w})}if(C){let t=x.channelOptions.find(e=>e.value===C);e.push({key:"channel",label:"Channel",value:t?.label||C})}if(y&&e.push({key:"search",label:"Search",value:y}),"all"!==$){let t=x.dateFilterOptions.find(e=>e.value===$);e.push({key:"date",label:"Date",value:t?.label||$})}return e},[w,C,y,$]),L=(0,s.useMemo)(()=>h.orders.filter(e=>{let t=e.orderNumber.toLowerCase().includes(y.toLowerCase())||e.customer.name.toLowerCase().includes(y.toLowerCase())||e.customer.email.toLowerCase().includes(y.toLowerCase()),s=!w||e.status===w,a=!C||e.channel===C,l=(0,x.filterByDate)(e.createdAt,$);return t&&s&&a&&l}),[h.orders,y,w,C,$]),z=Math.ceil(L.length/10),q=L.slice((P-1)*10,10*P),E=(0,s.useMemo)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=h.orders.filter(t=>new Date(t.createdAt)>=e);return{toPick:h.orders.filter(e=>"to_pick"===e.status).length,toPack:h.orders.filter(e=>"to_pack"===e.status).length,ready:h.orders.filter(e=>"ready"===e.status).length,shippedToday:t.filter(e=>"shipped"===e.status).length,todayRevenue:t.reduce((e,t)=>e+t.total,0),todayProfit:t.reduce((e,t)=>e+t.profit,0)}},[h.orders]),R=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),G=e=>{let t=w===e?"":e;k(t),F(1),M&&_({status:t})},J=async()=>{B(!0),await new Promise(e=>setTimeout(e,2e3)),B(!1),b("Orders synced successfully!")},K=e=>{let t=e?h.orders.filter(t=>e.includes(t.id)):L,s=new Blob([[["Order #","Date","Customer","Email","Channel","Items","Total","COGS","Profit","Status"],...t.map(e=>[e.orderNumber,R(e.createdAt),e.customer.name,e.customer.email,e.channel,e.items.reduce((e,t)=>e+t.quantity,0),e.total.toFixed(2),e.cogs.toFixed(2),e.profit.toFixed(2),e.status])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=`orders-export-${new Date().toISOString().split("T")[0]}.csv`,l.click(),URL.revokeObjectURL(a),b(`Exported ${t.length} orders`)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Orders"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Manage and fulfill customer orders"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:()=>K(),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-download text-sm"}),"Export"]}),(0,t.jsxs)("button",{onClick:J,disabled:I,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,t.jsx)("i",{className:`fas ${I?"fa-spinner fa-spin":"fa-sync-alt"} text-sm`}),I?"Syncing...":"Sync Orders"]}),(0,t.jsxs)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-plus text-sm"}),"Manual Order"]})]})]}),(0,t.jsxs)(x.OrderStatsGrid,{columns:6,children:[(0,t.jsx)(x.OrderStatCard,{icon:"fa-hand-pointer",iconColor:"amber",value:E.toPick,label:"To Pick",onClick:()=>G("to_pick"),isActive:"to_pick"===w}),(0,t.jsx)(x.OrderStatCard,{icon:"fa-box",iconColor:"purple",value:E.toPack,label:"To Pack",onClick:()=>G("to_pack"),isActive:"to_pack"===w}),(0,t.jsx)(x.OrderStatCard,{icon:"fa-tag",iconColor:"cyan",value:E.ready,label:"Ready to Ship",onClick:()=>G("ready"),isActive:"ready"===w}),(0,t.jsx)(x.OrderStatCard,{icon:"fa-truck",iconColor:"emerald",value:E.shippedToday,label:"Shipped Today",onClick:()=>G("shipped"),isActive:"shipped"===w}),(0,t.jsx)(x.OrderStatCard,{icon:"fa-dollar-sign",iconColor:"slate",value:E.todayRevenue,format:"currency",label:"Today's Revenue"}),(0,t.jsx)(x.OrderStatCard,{icon:"fa-chart-line",iconColor:"emerald",value:E.todayProfit,format:"currency",label:"Today's Profit"})]}),U.length>0&&(0,t.jsx)(i.ActiveFilters,{filters:U,onRemove:e=>{"status"===e?(k(""),_({status:""})):"channel"===e?(S(""),_({channel:""})):"search"===e?(N(""),_({search:""})):"date"===e&&A("all")},onClearAll:()=>{k(""),S(""),N(""),A("all"),u.replace("/orders",{scroll:!1})}}),(0,t.jsx)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by order #, customer name, email...",value:y,onChange:e=>{N(e.target.value),F(1)},className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:border-emerald-500/50"})]}),(0,t.jsx)("select",{value:w,onChange:e=>{k(e.target.value),F(1)},className:"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50",children:x.orderStatusOptions.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,t.jsx)("select",{value:C,onChange:e=>{S(e.target.value),F(1)},className:"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50",children:x.channelOptions.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,t.jsx)("select",{value:$,onChange:e=>{A(e.target.value),F(1)},className:"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50",children:x.dateFilterOptions.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),T.size>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:[T.size," selected"]}),(0,t.jsxs)("select",{onChange:e=>{if(e.target.value){var t;t=e.target.value,0!==T.size&&("mark_picked"===t?(T.forEach(e=>p({type:"UPDATE_ORDER_STATUS",payload:{orderId:e,status:"to_pack"}})),b(`${T.size} orders marked as picked`),D(new Set)):"create_pick_batch"===t?v(!0):"export"===t&&(K(Array.from(T)),D(new Set))),e.target.value=""}},className:"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50",children:[(0,t.jsx)("option",{value:"",children:"Bulk Actions"}),(0,t.jsx)("option",{value:"create_pick_batch",children:"Create Pick Batch"}),(0,t.jsx)("option",{value:"mark_picked",children:"Mark as Picked"}),(0,t.jsx)("option",{value:"export",children:"Export Selected"})]}),(0,t.jsxs)("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-clipboard-list text-sm"}),"Create Batch"]})]})]})}),(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700/50",children:(0,t.jsxs)("tr",{className:"text-left text-xs text-slate-400 uppercase tracking-wider",children:[(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:(0,t.jsx)("input",{type:"checkbox",checked:T.size===q.length&&q.length>0,onChange:()=>{D(T.size===q.length?new Set:new Set(q.map(e=>e.id)))},className:"rounded bg-slate-700 border-slate-600"})}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Order"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Customer"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Channel"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium",children:"Items"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-right",children:"Total"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-right",children:"Profit"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-center",children:"Margin"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-center",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:q.map(e=>(0,t.jsxs)("tr",{className:`transition-colors cursor-pointer hover:bg-slate-800/30 ${T.has(e.id)?"bg-emerald-500/5":""}`,onClick:()=>u.push(`/orders/${e.id}`),children:[(0,t.jsx)("td",{className:"px-4 py-4",onClick:t=>{var s;let a;return s=e.id,t.stopPropagation(),void((a=new Set(T)).has(s)?a.delete(s):a.add(s),D(a))},children:(0,t.jsx)("input",{type:"checkbox",checked:T.has(e.id),onChange:()=>{},className:"rounded bg-slate-700 border-slate-600"})}),(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsxs)("div",{className:"font-mono text-sm font-medium text-white",children:["#",e.orderNumber]}),e.veeqoId&&(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["Veeqo: ",e.veeqoId]})]}),(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsx)("div",{className:"text-sm text-white",children:R(e.createdAt)}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:new Date(e.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-white",children:e.customer.name}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:e.customer.email}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:[e.customer.address.city,", ",e.customer.address.state]})]}),(0,t.jsx)("td",{className:"px-4 py-4",children:(0,t.jsx)(c.ChannelBadge,{channel:e.channel})}),(0,t.jsxs)("td",{className:"px-4 py-4",children:[(0,t.jsxs)("div",{className:"text-sm text-white",children:[e.items.reduce((e,t)=>e+t.quantity,0)," items"]}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:[e.items.length," SKUs"]})]}),(0,t.jsx)("td",{className:"px-4 py-4 text-right",children:(0,t.jsx)("div",{className:"text-sm font-medium text-white",children:(0,o.formatCurrency)(e.total)})}),(0,t.jsx)("td",{className:"px-4 py-4 text-right",children:(0,t.jsx)("div",{className:`text-sm font-medium ${e.profit>=0?"text-emerald-400":"text-red-400"}`,children:(0,o.formatCurrency)(e.profit)})}),(0,t.jsx)("td",{className:"px-4 py-4 text-center",children:(0,t.jsx)(c.MarginBadge,{margin:e.margin})}),(0,t.jsx)("td",{className:"px-4 py-4 text-center",children:(0,t.jsx)(c.OrderStatusBadge,{status:e.status})})]},e.id))})]})}),0===L.length&&(0,t.jsxs)("div",{className:"py-12 text-center",children:[(0,t.jsx)("i",{className:"fas fa-inbox text-4xl text-slate-600 mb-4"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"No orders found"}),y&&(0,t.jsx)("button",{onClick:()=>N(""),className:"mt-2 text-emerald-400 hover:text-emerald-300 text-sm",children:"Clear search"})]}),(0,t.jsx)(m.Pagination,{currentPage:P,totalPages:z,totalItems:L.length,itemsPerPage:10,itemLabel:"orders",onPageChange:F})]}),(0,t.jsx)(n.CreateOrderModal,{isOpen:g,onClose:()=>f(!1)}),(0,t.jsx)(d.CreatePickBatchModal,{isOpen:j,onClose:()=>{v(!1),D(new Set)},selectedOrderIds:Array.from(T)})]})}function h(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"p-6 text-slate-400",children:"Loading orders..."}),children:(0,t.jsx)(u,{})})}e.s(["default",()=>h])}]);