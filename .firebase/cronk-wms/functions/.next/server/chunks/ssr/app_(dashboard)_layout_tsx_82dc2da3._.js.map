{"version":3,"sources":["../../../../components/layout/Sidebar.tsx","../../../../components/layout/Header.tsx","../../../../components/ProtectedRoute.tsx","../../../../app/%28dashboard%29/layout.tsx","../../../../node_modules/lucide-react/src/icons/refresh-cw.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useApp } from '@/context/AppContext';\nimport { useAuth } from '@/context/AuthContext';\nimport { usePermissions } from '@/hooks/usePermissions';\nimport { Permission, getRoleBadgeColor, getRoleDisplayName } from '@/lib/permissions';\n\ninterface NavItem {\n  href?: string;\n  icon: string;\n  label: string;\n  badge?: number;\n  children?: NavItem[];\n  id?: string;\n  isBrand?: boolean;\n  /** Permission required to see this item */\n  permission?: Permission;\n  /** Multiple permissions - user needs ANY of these */\n  permissions?: Permission[];\n}\n\nexport default function Sidebar() {\n  const pathname = usePathname();\n  const { state } = useApp();\n  const { userProfile, logout } = useAuth();\n  const { can, canAny, role } = usePermissions();\n  const [expandedMenus, setExpandedMenus] = useState<string[]>([]);\n\n  // Calculate badges from state\n  const toPickCount = state.orders.filter(o => o.status === 'to_pick' || o.status === 'picking').length;\n  const toPackCount = state.orders.filter(o => o.status === 'to_pack' || o.status === 'packing').length;\n  const pendingOrdersCount = state.orders.filter(o => !['shipped', 'delivered', 'cancelled', 'draft'].includes(o.status)).length;\n  const draftOrdersCount = state.orders.filter(o => o.status === 'draft').length;\n  const pendingReturnsCount = state.returns?.filter(r => !['refunded', 'rejected'].includes(r.status)).length || 0;\n  const pendingTransfersCount = state.transfers?.filter(t => t.status === 'in_transit').length || 0;\n  const pendingPOsCount = state.purchaseOrders?.filter(po => !['received', 'cancelled'].includes(po.status)).length || 0;\n  const pendingWOsCount = state.workOrders?.filter(wo => !['completed', 'cancelled'].includes(wo.status)).length || 0;\n\n  // Navigation structure with permissions\n  const navItems: NavItem[] = [\n    {\n      href: '/',\n      icon: 'fa-chart-line',\n      label: 'Dashboard',\n      permission: 'dashboard.view',\n    },\n    {\n      id: 'inventory',\n      icon: 'fa-boxes-stacked',\n      label: 'Inventory',\n      permission: 'inventory.view',\n      children: [\n        { href: '/inventory', icon: 'fa-box', label: 'Products', permission: 'inventory.view' },\n        { href: '/locations', icon: 'fa-warehouse', label: 'Locations', permission: 'inventory.view' },\n        { href: '/inventory/counts', icon: 'fa-clipboard-check', label: 'Stock Counts', permission: 'stock.cycle_count' },\n        { href: '/inventory/transfers', icon: 'fa-exchange-alt', label: 'Transfers', badge: pendingTransfersCount, permission: 'stock.transfer' },\n        { href: '/inventory/suppliers', icon: 'fa-truck-loading', label: 'Suppliers', permission: 'suppliers.view' },\n        { href: '/inventory/bundles', icon: 'fa-layer-group', label: 'Bundles & Kits', permission: 'inventory.view' },\n      ]\n    },\n    {\n      id: 'orders',\n      icon: 'fa-shopping-cart',\n      label: 'Orders',\n      badge: pendingOrdersCount,\n      permission: 'orders.view',\n      children: [\n        { href: '/orders', icon: 'fa-list', label: 'All Orders', badge: pendingOrdersCount, permission: 'orders.view' },\n        { href: '/orders/drafts', icon: 'fa-file-alt', label: 'Draft Orders', badge: draftOrdersCount, permission: 'orders.create' },\n        { href: '/orders/returns', icon: 'fa-undo', label: 'Returns', badge: pendingReturnsCount, permission: 'returns.view' },\n      ]\n    },\n    {\n      id: 'fulfillment',\n      icon: 'fa-shipping-fast',\n      label: 'Fulfillment',\n      badge: toPickCount + toPackCount,\n      permission: 'fulfillment.view',\n      children: [\n        { href: '/fulfillment', icon: 'fa-clipboard-list', label: 'Overview', permission: 'fulfillment.view' },\n        { href: '/fulfillment/pick', icon: 'fa-hand-pointer', label: 'Pick Station', badge: toPickCount, permission: 'fulfillment.pick' },\n        { href: '/fulfillment/pack', icon: 'fa-box-open', label: 'Pack Station', badge: toPackCount, permission: 'fulfillment.pack' },\n        { href: '/fulfillment/fba', icon: 'fa-amazon', label: 'FBA Prep', isBrand: true, permission: 'fba.view' },\n        { href: '/fulfillment/shipping', icon: 'fa-truck', label: 'Shipping', permission: 'fulfillment.ship' },\n      ]\n    },\n    {\n      id: 'operations',\n      icon: 'fa-cogs',\n      label: 'Operations',\n      badge: pendingPOsCount + pendingWOsCount,\n      permissions: ['purchase_orders.view', 'work_orders.view'],\n      children: [\n        { href: '/operations/purchase-orders', icon: 'fa-file-invoice', label: 'Purchase Orders', badge: pendingPOsCount, permission: 'purchase_orders.view' },\n        { href: '/operations/work-orders', icon: 'fa-industry', label: 'Work Orders', badge: pendingWOsCount, permission: 'work_orders.view' },\n      ]\n    },\n    {\n      id: 'marketing',\n      icon: 'fa-bullhorn',\n      label: 'Marketing',\n      permission: 'marketing.view',\n      children: [\n        { href: '/marketing', icon: 'fa-chart-line', label: 'Dashboard', permission: 'marketing.view' },\n        { href: '/marketing/google-ads', icon: 'fa-google', label: 'Google Ads', isBrand: true, permission: 'marketing.view_spend' },\n        { href: '/marketing/meta-ads', icon: 'fa-meta', label: 'Meta Ads', isBrand: true, permission: 'marketing.view_spend' },\n        { href: '/marketing/amazon-ads', icon: 'fa-amazon', label: 'Amazon Ads', isBrand: true, permission: 'marketing.view_spend' },\n        { href: '/marketing/tiktok-ads', icon: 'fa-tiktok', label: 'TikTok Ads', isBrand: true, permission: 'marketing.view_spend' },\n        { href: '/marketing/email', icon: 'fa-envelope', label: 'Email Marketing', permission: 'marketing.view' },\n      ]\n    },\n  ];\n\n  const bottomNavItems: NavItem[] = [\n    {\n      id: 'reports',\n      icon: 'fa-chart-pie',\n      label: 'Reports',\n      permission: 'reports.view',\n      children: [\n        { href: '/reports', icon: 'fa-chart-line', label: 'Overview', permission: 'reports.view' },\n        { href: '/reports/sales', icon: 'fa-dollar-sign', label: 'Sales', permission: 'reports.view_financial' },\n        { href: '/reports/inventory', icon: 'fa-boxes-stacked', label: 'Inventory', permission: 'reports.view' },\n        { href: '/reports/shipping', icon: 'fa-truck-fast', label: 'Shipping', permission: 'reports.view' },\n        { href: '/reports/returns', icon: 'fa-rotate-left', label: 'Returns', permission: 'reports.view' },\n        { href: '/reports/marketing', icon: 'fa-bullhorn', label: 'Marketing', permission: 'marketing.view' },\n        { href: '/reports/financial', icon: 'fa-file-invoice-dollar', label: 'Financial', permission: 'reports.view_financial' },\n        { href: '/reports/custom', icon: 'fa-wand-magic-sparkles', label: 'Custom Builder', permission: 'reports.export' },\n        { href: '/reports/scheduled', icon: 'fa-clock', label: 'Scheduled', permission: 'reports.export' },\n      ]\n    },\n    { href: '/settings', icon: 'fa-cog', label: 'Settings', permission: 'settings.view' },\n  ];\n\n  // Filter navigation items based on permissions\n  const filterNavByPermission = (items: NavItem[]): NavItem[] => {\n    return items.filter(item => {\n      // Check single permission\n      if (item.permission && !can(item.permission)) {\n        return false;\n      }\n      // Check multiple permissions (need at least one)\n      if (item.permissions && !canAny(item.permissions)) {\n        return false;\n      }\n      return true;\n    }).map(item => {\n      // Filter children too\n      if (item.children) {\n        return {\n          ...item,\n          children: filterNavByPermission(item.children),\n        };\n      }\n      return item;\n    }).filter(item => {\n      // Remove sections with no visible children\n      if (item.children && item.children.length === 0) {\n        return false;\n      }\n      return true;\n    });\n  };\n\n  const filteredNavItems = filterNavByPermission(navItems);\n  const filteredBottomNavItems = filterNavByPermission(bottomNavItems);\n\n  // Auto-expand menu based on current route\n  useEffect(() => {\n    [...filteredNavItems, ...filteredBottomNavItems].forEach(item => {\n      if (item.children && item.id) {\n        const isActive = item.children.some(child =>\n          child.href === pathname || pathname.startsWith(child.href + '/')\n        );\n        if (isActive && !expandedMenus.includes(item.id)) {\n          setExpandedMenus(prev => [...prev, item.id!]);\n        }\n      }\n    });\n  }, [pathname, filteredNavItems, filteredBottomNavItems]);\n\n  const toggleMenu = (menuId: string) => {\n    setExpandedMenus(prev =>\n      prev.includes(menuId)\n        ? prev.filter(id => id !== menuId)\n        : [...prev, menuId]\n    );\n  };\n\n  const isActiveRoute = (href: string) => {\n    if (href === '/') return pathname === '/';\n    return pathname === href || pathname.startsWith(href + '/');\n  };\n\n  const isParentActive = (item: NavItem) => {\n    if (!item.children) return false;\n    return item.children.some(child => child.href && isActiveRoute(child.href));\n  };\n\n  const renderNavItem = (item: NavItem) => {\n    if (item.children) {\n      return (\n        <div key={item.id || item.href}>\n          <button\n            onClick={() => toggleMenu(item.id!)}\n            className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${\n              isParentActive(item)\n                ? 'bg-emerald-500/10 text-emerald-400'\n                : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n            }`}\n          >\n            <i className={`fas ${item.icon} w-5`}></i>\n            <span className=\"font-medium\">{item.label}</span>\n            {(item.badge ?? 0) > 0 && (\n              <span className=\"ml-auto mr-2 bg-amber-500/20 text-amber-400 text-xs px-2 py-0.5 rounded-full\">\n                {item.badge}\n              </span>\n            )}\n            <i className={`fas fa-chevron-${expandedMenus.includes(item.id!) ? 'down' : 'right'} text-xs text-slate-500 ${(item.badge ?? 0) > 0 ? '' : 'ml-auto'}`}></i>\n          </button>\n\n          {expandedMenus.includes(item.id!) && (\n            <div className=\"ml-4 mt-1 space-y-1 border-l border-slate-700/50 pl-3\">\n              {item.children.map((child) => (\n                <Link\n                  key={child.href}\n                  href={child.href!}\n                  className={`flex items-center gap-3 px-4 py-2 rounded-lg transition-all text-sm ${\n                    isActiveRoute(child.href!)\n                      ? 'bg-emerald-500/10 text-emerald-400'\n                      : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n                  }`}\n                >\n                  <i className={`${child.isBrand ? 'fab' : 'fas'} ${child.icon} w-4 text-xs`}></i>\n                  <span>{child.label}</span>\n                  {(child.badge ?? 0) > 0 && (\n                    <span className={`ml-auto text-xs px-2 py-0.5 rounded-full ${\n                      child.label.includes('Pick') ? 'bg-amber-500/20 text-amber-400' :\n                      child.label.includes('Pack') ? 'bg-blue-500/20 text-blue-400' :\n                      child.label.includes('Return') ? 'bg-purple-500/20 text-purple-400' :\n                      child.label.includes('Draft') ? 'bg-slate-500/20 text-slate-400' :\n                      'bg-slate-500/20 text-slate-400'\n                    }`}>\n                      {child.badge}\n                    </span>\n                  )}\n                </Link>\n              ))}\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    return (\n      <Link\n        key={item.href}\n        href={item.href!}\n        className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${\n          isActiveRoute(item.href!)\n            ? 'bg-emerald-500/10 text-emerald-400 border border-emerald-500/20'\n            : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n        }`}\n      >\n        <i className={`fas ${item.icon} w-5`}></i>\n        <span className=\"font-medium\">{item.label}</span>\n        {(item.badge ?? 0) > 0 && (\n          <span className=\"ml-auto bg-amber-500/20 text-amber-400 text-xs px-2 py-0.5 rounded-full\">\n            {item.badge}\n          </span>\n        )}\n      </Link>\n    );\n  };\n\n  return (\n    <aside className=\"fixed left-0 top-0 z-40 h-screen w-64 bg-slate-900/80 border-r border-slate-700/50 flex flex-col\">\n      {/* Logo */}\n      <Link href=\"/\" className=\"block p-5 border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-xl flex items-center justify-center\">\n            <i className=\"fas fa-leaf text-white text-lg\"></i>\n          </div>\n          <div>\n            <h1 className=\"font-bold text-white text-lg\">Cronk HQ</h1>\n            <p className=\"text-xs text-slate-400\">Operations & Fulfillment</p>\n          </div>\n        </div>\n      </Link>\n\n      {/* Main Navigation */}\n      <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\">\n        {filteredNavItems.map(renderNavItem)}\n\n        {/* Divider */}\n        <div className=\"my-4 border-t border-slate-700/50\"></div>\n\n        {/* Bottom Nav Items */}\n        {filteredBottomNavItems.map(renderNavItem)}\n      </nav>\n\n      {/* User */}\n      <div className=\"p-4 border-t border-slate-700/50\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-9 h-9 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center\">\n            <span className=\"text-white font-medium text-sm\">\n              {userProfile?.displayName\n                ? userProfile.displayName.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2)\n                : userProfile?.email?.slice(0, 2).toUpperCase() || 'U'}\n            </span>\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"text-sm font-medium text-white truncate\">\n              {userProfile?.displayName || userProfile?.email || 'User'}\n            </div>\n            <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs border ${getRoleBadgeColor(role)}`}>\n              {getRoleDisplayName(role)}\n            </span>\n          </div>\n          <button\n            onClick={() => logout()}\n            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors\"\n            title=\"Sign out\"\n          >\n            <i className=\"fas fa-sign-out-alt\"></i>\n          </button>\n        </div>\n      </div>\n    </aside>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport {\n  Bell,\n  RefreshCw,\n  Calendar,\n  ChevronDown,\n  Check,\n  AlertTriangle,\n  Package,\n  ShoppingCart,\n  X,\n} from 'lucide-react';\nimport { useDateRange, DateRangePreset } from '@/context/DateRangeContext';\nimport { useAuth } from '@/context/AuthContext';\n\ninterface DateRangeOption {\n  value: DateRangePreset;\n  label: string;\n  divider?: boolean;\n}\n\nconst dateRangeOptions: DateRangeOption[] = [\n  { value: 'today', label: 'Today' },\n  { value: 'yesterday', label: 'Yesterday' },\n  { value: 'wtd', label: 'Week to Date' },\n  { value: 'mtd', label: 'Month to Date' },\n  { value: 'ytd', label: 'Year to Date' },\n  { value: 'last7', label: 'Last 7 Days', divider: true },\n  { value: 'last30', label: 'Last 30 Days' },\n  { value: 'last90', label: 'Last 90 Days' },\n  { value: 'custom', label: 'Custom Range', divider: true },\n];\n\n// Demo-only mock notifications\nconst demoNotifications = [\n  {\n    id: 1,\n    type: 'warning',\n    title: 'Low Stock Alert',\n    message: 'Big Bud 1L is below reorder point (12 units)',\n    time: '5 min ago',\n  },\n  {\n    id: 2,\n    type: 'order',\n    title: 'New Order',\n    message: 'Order #10492 received from Shopify',\n    time: '12 min ago',\n  },\n  {\n    id: 3,\n    type: 'success',\n    title: 'Shipment Delivered',\n    message: 'Order #10485 delivered to customer',\n    time: '1 hour ago',\n  },\n];\n\nexport default function Header() {\n  const { dateRange, preset, setPreset, setCustomRange } = useDateRange();\n  const { isDemo } = useAuth();\n  const [showDateDropdown, setShowDateDropdown] = useState(false);\n  const [showCustomPicker, setShowCustomPicker] = useState(false);\n  const [customStartDate, setCustomStartDate] = useState('');\n  const [customEndDate, setCustomEndDate] = useState('');\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [lastSync, setLastSync] = useState('2 min ago');\n\n  // Only show mock notifications in demo mode\n  const notifications = isDemo ? demoNotifications : [];\n\n  const handleSync = () => {\n    setIsSyncing(true);\n    setTimeout(() => {\n      setIsSyncing(false);\n      setLastSync('Just now');\n    }, 2000);\n  };\n\n  const handlePresetSelect = (value: DateRangePreset) => {\n    if (value === 'custom') {\n      // Open custom picker modal\n      const today = new Date();\n      const thirtyDaysAgo = new Date(today);\n      thirtyDaysAgo.setDate(today.getDate() - 30);\n\n      setCustomStartDate(thirtyDaysAgo.toISOString().split('T')[0]);\n      setCustomEndDate(today.toISOString().split('T')[0]);\n      setShowCustomPicker(true);\n      setShowDateDropdown(false);\n    } else {\n      setPreset(value);\n      setShowDateDropdown(false);\n    }\n  };\n\n  const handleCustomRangeApply = () => {\n    if (customStartDate && customEndDate) {\n      const start = new Date(customStartDate);\n      const end = new Date(customEndDate);\n\n      if (start <= end) {\n        setCustomRange(start, end);\n        setShowCustomPicker(false);\n      }\n    }\n  };\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'warning':\n        return <AlertTriangle className=\"h-4 w-4 text-amber-400\" />;\n      case 'order':\n        return <ShoppingCart className=\"h-4 w-4 text-blue-400\" />;\n      case 'success':\n        return <Check className=\"h-4 w-4 text-emerald-400\" />;\n      default:\n        return <Package className=\"h-4 w-4 text-slate-400\" />;\n    }\n  };\n\n  // Format date range for display\n  const getDisplayLabel = () => {\n    if (preset === 'custom') {\n      return dateRange.label;\n    }\n    return dateRangeOptions.find((o) => o.value === preset)?.label || 'Select Range';\n  };\n\n  return (\n    <>\n      <header className=\"fixed top-0 left-64 right-0 z-30 h-16 bg-slate-900/80 backdrop-blur border-b border-slate-700/50\">\n        <div className=\"flex h-full items-center justify-between px-6\">\n          {/* Left side - Page context area (can be used by pages) */}\n          <div className=\"flex items-center gap-4\">\n            {/* This space can be used for breadcrumbs or page-specific actions */}\n          </div>\n\n          {/* Right side - Actions */}\n          <div className=\"flex items-center gap-4\">\n            {/* Date Range Picker */}\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowDateDropdown(!showDateDropdown)}\n                className=\"flex items-center gap-2 rounded-lg bg-slate-800/50 px-4 py-2 text-sm font-medium text-white border border-slate-700/50 hover:bg-slate-700/50 transition-colors\"\n              >\n                <Calendar className=\"h-4 w-4 text-slate-400\" />\n                <span>{getDisplayLabel()}</span>\n                <ChevronDown className=\"h-4 w-4 text-slate-400\" />\n              </button>\n\n              {showDateDropdown && (\n                <>\n                  <div\n                    className=\"fixed inset-0 z-10\"\n                    onClick={() => setShowDateDropdown(false)}\n                  />\n                  <div className=\"absolute right-0 top-full mt-2 z-20 w-48 rounded-xl bg-slate-800 border border-slate-700/50 shadow-xl overflow-hidden\">\n                    {dateRangeOptions.map((option, index) => (\n                      <div key={option.value}>\n                        {option.divider && index > 0 && (\n                          <div className=\"border-t border-slate-700/50 my-1\" />\n                        )}\n                        <button\n                          onClick={() => handlePresetSelect(option.value)}\n                          className={`w-full px-4 py-2.5 text-left text-sm transition-colors ${\n                            preset === option.value\n                              ? 'bg-emerald-500/20 text-emerald-400'\n                              : 'text-slate-300 hover:bg-slate-700/50'\n                          }`}\n                        >\n                          {option.label}\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </>\n              )}\n            </div>\n\n            {/* Sync Status */}\n            <button\n              onClick={handleSync}\n              disabled={isSyncing}\n              className=\"flex items-center gap-2 rounded-lg bg-slate-800/50 px-4 py-2 text-sm font-medium border border-slate-700/50 hover:bg-slate-700/50 transition-colors disabled:opacity-50\"\n            >\n              <RefreshCw\n                className={`h-4 w-4 text-emerald-400 ${isSyncing ? 'animate-spin' : ''}`}\n              />\n              <span className=\"text-slate-300\">\n                {isSyncing ? 'Syncing...' : `Synced ${lastSync}`}\n              </span>\n            </button>\n\n            {/* Notifications */}\n            <div className=\"relative\">\n              <button\n                onClick={() => setShowNotifications(!showNotifications)}\n                className=\"relative flex h-10 w-10 items-center justify-center rounded-lg bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 transition-colors\"\n              >\n                <Bell className=\"h-5 w-5 text-slate-400\" />\n                {notifications.length > 0 && (\n                  <span className=\"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500 text-xs font-bold text-white\">\n                    {notifications.length}\n                  </span>\n                )}\n              </button>\n\n              {showNotifications && (\n                <>\n                  <div\n                    className=\"fixed inset-0 z-10\"\n                    onClick={() => setShowNotifications(false)}\n                  />\n                  <div className=\"absolute right-0 top-full mt-2 z-20 w-80 rounded-xl bg-slate-800 border border-slate-700/50 shadow-xl overflow-hidden\">\n                    <div className=\"border-b border-slate-700/50 px-4 py-3\">\n                      <h3 className=\"text-sm font-semibold text-white\">\n                        Notifications\n                      </h3>\n                    </div>\n                    <div className=\"max-h-80 overflow-y-auto\">\n                      {notifications.length === 0 ? (\n                        <div className=\"px-4 py-8 text-center text-slate-400\">\n                          <Bell className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                          <p className=\"text-sm\">No notifications</p>\n                        </div>\n                      ) : (\n                        notifications.map((notification) => (\n                          <div\n                            key={notification.id}\n                            className=\"flex gap-3 px-4 py-3 hover:bg-slate-700/30 transition-colors border-b border-slate-700/30 last:border-0\"\n                          >\n                            <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-slate-700/50\">\n                              {getNotificationIcon(notification.type)}\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"text-sm font-medium text-white\">\n                                {notification.title}\n                              </p>\n                              <p className=\"text-xs text-slate-400 truncate\">\n                                {notification.message}\n                              </p>\n                              <p className=\"text-xs text-slate-500 mt-1\">\n                                {notification.time}\n                              </p>\n                            </div>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                    <div className=\"border-t border-slate-700/50 px-4 py-2\">\n                      <button className=\"w-full text-center text-sm text-emerald-400 hover:text-emerald-300 transition-colors\">\n                        View all notifications\n                      </button>\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Custom Date Range Modal */}\n      {showCustomPicker && (\n        <>\n          <div\n            className=\"fixed inset-0 bg-black/50 z-50\"\n            onClick={() => setShowCustomPicker(false)}\n          />\n          <div className=\"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-md bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl\">\n            <div className=\"flex items-center justify-between p-4 border-b border-slate-700\">\n              <h3 className=\"text-lg font-semibold text-white\">Custom Date Range</h3>\n              <button\n                onClick={() => setShowCustomPicker(false)}\n                className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-6 space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                  Start Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={customStartDate}\n                  onChange={(e) => setCustomStartDate(e.target.value)}\n                  max={customEndDate || undefined}\n                  className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                  End Date\n                </label>\n                <input\n                  type=\"date\"\n                  value={customEndDate}\n                  onChange={(e) => setCustomEndDate(e.target.value)}\n                  min={customStartDate || undefined}\n                  max={new Date().toISOString().split('T')[0]}\n                  className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500\"\n                />\n              </div>\n\n              {customStartDate && customEndDate && (\n                <p className=\"text-sm text-slate-400\">\n                  Selected: {new Date(customStartDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })} - {new Date(customEndDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\n                </p>\n              )}\n            </div>\n\n            <div className=\"flex items-center justify-end gap-3 p-4 border-t border-slate-700\">\n              <button\n                onClick={() => setShowCustomPicker(false)}\n                className=\"px-4 py-2 text-slate-300 hover:text-white transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleCustomRangeApply}\n                disabled={!customStartDate || !customEndDate}\n                className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-700 disabled:text-slate-500 text-white font-medium rounded-lg transition-colors\"\n              >\n                Apply Range\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n","'use client'\n\nimport { useEffect } from 'react'\nimport { useRouter, usePathname } from 'next/navigation'\nimport { useAuth } from '@/context/AuthContext'\nimport { useOrganization } from '@/context/OrganizationContext'\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode\n  allowedRoles?: ('admin' | 'warehouse' | 'viewer')[]\n  requireOrganization?: boolean // Default: true - redirect to setup if no org\n}\n\nexport function ProtectedRoute({\n  children,\n  allowedRoles,\n  requireOrganization = true,\n}: ProtectedRouteProps) {\n  const { user, userProfile, loading: authLoading, isDemo } = useAuth()\n  const { organization, loading: orgLoading, needsSetup } = useOrganization()\n  const router = useRouter()\n  const pathname = usePathname()\n\n  const isLoading = authLoading || orgLoading\n\n  useEffect(() => {\n    if (isLoading) return\n\n    if (!user) {\n      // Not logged in - redirect to login\n      router.push(`/login?redirect=${encodeURIComponent(pathname)}`)\n      return\n    }\n\n    // Check role-based access\n    if (allowedRoles && userProfile && !allowedRoles.includes(userProfile.role)) {\n      router.push('/unauthorized')\n      return\n    }\n\n    // Check organization requirement (skip for demo mode)\n    if (requireOrganization && !isDemo && needsSetup) {\n      router.push('/setup')\n      return\n    }\n  }, [user, userProfile, isLoading, router, pathname, allowedRoles, organization, isDemo, needsSetup, requireOrganization])\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-slate-950 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-slate-400\">Loading...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Not authenticated\n  if (!user) {\n    return null\n  }\n\n  // Not authorized\n  if (allowedRoles && userProfile && !allowedRoles.includes(userProfile.role)) {\n    return null\n  }\n\n  // Needs organization setup (non-demo users)\n  if (requireOrganization && !isDemo && needsSetup) {\n    return null\n  }\n\n  return <>{children}</>\n}\n","'use client'\n\nimport { ProtectedRoute } from '@/components/ProtectedRoute'\nimport Sidebar from '@/components/layout/Sidebar'\nimport Header from '@/components/layout/Header'\n\nexport default function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <ProtectedRoute>\n      <Sidebar />\n      <Header />\n      <main className=\"ml-64 pt-16 min-h-screen bg-slate-900\">\n        <div className=\"p-6\">\n          {children}\n        </div>\n      </main>\n    </ProtectedRoute>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n];\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('refresh-cw', __iconNode);\n\nexport default RefreshCw;\n"],"names":[],"mappings":"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","ignoreList":[4]}