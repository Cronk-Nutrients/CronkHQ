module.exports=[12466,a=>{"use strict";var b=a.i(87924),c=a.i(38246);let d={primary:"bg-emerald-600 hover:bg-emerald-500 text-white border-transparent",secondary:"bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700",ghost:"bg-transparent hover:bg-slate-800 text-slate-400 hover:text-white border-transparent",danger:"bg-red-600 hover:bg-red-500 text-white border-transparent"},e={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};function f({variant:a="primary",size:f="md",icon:g,iconPosition:h="left",children:i,className:j="",disabled:k,href:l,...m}){let n=`inline-flex items-center justify-center gap-2 font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${d[a]} ${e[f]} ${j}`,o=(0,b.jsxs)(b.Fragment,{children:[g&&"left"===h&&(0,b.jsx)("i",{className:g}),i,g&&"right"===h&&(0,b.jsx)("i",{className:g})]});return l?(0,b.jsx)(c.default,{href:l,className:n,children:o}):(0,b.jsx)("button",{className:n,disabled:k,...m,children:o})}a.s(["Button",()=>f])},92191,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18740);a.i(69387);var e=a.i(60574),f=a.i(90761),g=a.i(89697),h=a.i(12466),i=a.i(38246);let j=[{name:"Gray",value:"#64748b"},{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Amber",value:"#f59e0b"},{name:"Yellow",value:"#eab308"},{name:"Lime",value:"#84cc16"},{name:"Green",value:"#22c55e"},{name:"Emerald",value:"#10b981"},{name:"Teal",value:"#14b8a6"},{name:"Cyan",value:"#06b6d4"},{name:"Blue",value:"#3b82f6"},{name:"Indigo",value:"#6366f1"},{name:"Violet",value:"#8b5cf6"},{name:"Purple",value:"#a855f7"},{name:"Pink",value:"#ec4899"}];function k(){let{organization:a}=(0,f.useOrganization)(),{success:k,error:l}=(0,g.useToast)(),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)("#10b981"),[A,B]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(!a?.id)return;let b=(0,e.collection)(d.db,"organizations",a.id,"categories"),c=(0,e.query)(b,(0,e.orderBy)("sortOrder"),(0,e.orderBy)("name")),f=(0,e.onSnapshot)(c,a=>{n(a.docs.map(a=>({id:a.id,...a.data()}))),p(!1)});return()=>f()},[a?.id]);let C=()=>{t(null),v(""),x(""),z("#10b981"),r(!0)},D=async()=>{if(a?.id&&u.trim()){B(!0);try{let b=(0,e.collection)(d.db,"organizations",a.id,"categories");if(s)await (0,e.updateDoc)((0,e.doc)(b,s.id),{name:u.trim(),description:w.trim()||null,color:y,updatedAt:(0,e.serverTimestamp)()}),k("Category updated");else{let a=(0,e.doc)(b);await (0,e.setDoc)(a,{name:u.trim(),slug:u.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").substring(0,50),description:w.trim()||null,parentId:null,color:y,productCount:0,isActive:!0,sortOrder:m.length,createdAt:(0,e.serverTimestamp)(),updatedAt:(0,e.serverTimestamp)()}),k("Category created")}r(!1)}catch(a){console.error("Error saving category:",a),l("Failed to save category")}finally{B(!1)}}},E=async b=>{if(a?.id){if(b.productCount>0)return void l(`Cannot delete category with ${b.productCount} products. Reassign products first.`);if(confirm(`Delete "${b.name}"?`))try{await (0,e.deleteDoc)((0,e.doc)(d.db,"organizations",a.id,"categories",b.id)),k("Category deleted")}catch(a){console.error("Error deleting category:",a),l("Failed to delete category")}}};return o?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):(0,b.jsxs)("div",{className:"max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-6",children:[(0,b.jsx)(i.default,{href:"/settings",className:"hover:text-white transition-colors",children:"Settings"}),(0,b.jsx)("i",{className:"fas fa-chevron-right text-xs"}),(0,b.jsx)("span",{className:"text-white",children:"Categories"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Categories"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Organize your products into categories"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[(0,b.jsxs)("span",{className:"text-slate-400",children:[m.length," categories"]}),(0,b.jsxs)(h.Button,{onClick:C,children:[(0,b.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Category"]})]}),0===m.length?(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("i",{className:"fas fa-folder-open text-2xl text-slate-500"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No categories yet"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Create categories to organize your products"}),(0,b.jsxs)(h.Button,{variant:"secondary",onClick:C,children:[(0,b.jsx)("i",{className:"fas fa-plus mr-2"}),"Create Your First Category"]})]}):(0,b.jsx)("div",{className:"divide-y divide-slate-700",children:m.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-slate-800/30 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:a.color}}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.name}),a.description&&(0,b.jsx)("div",{className:"text-sm text-slate-500",children:a.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-sm text-slate-500",children:[a.productCount," products"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>{t(a),v(a.name),x(a.description||""),z(a.color),r(!0)},className:"p-2 text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)("i",{className:"fas fa-pencil"})}),(0,b.jsx)("button",{onClick:()=>E(a),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:(0,b.jsx)("i",{className:"fas fa-trash"})})]})]})]},a.id))})]}),q&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:s?"Edit Category":"Add Category"}),(0,b.jsx)("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-white",children:(0,b.jsx)("i",{className:"fas fa-times"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Category Name *"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),placeholder:"e.g., Liquid Nutrients, Labels, Accessories",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500",autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:w,onChange:a=>x(a.target.value),placeholder:"Optional description...",rows:2,className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Color"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(a=>(0,b.jsx)("button",{onClick:()=>z(a.value),className:`w-8 h-8 rounded-full transition-all ${y===a.value?"ring-2 ring-white ring-offset-2 ring-offset-slate-900":"hover:scale-110"}`,style:{backgroundColor:a.value},title:a.name},a.value))})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-700",children:[(0,b.jsx)(h.Button,{variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),(0,b.jsx)(h.Button,{onClick:D,disabled:A||!u.trim(),children:A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-check mr-2"}),s?"Update":"Create"]})})]})]})})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=_6c0d6d3a._.js.map