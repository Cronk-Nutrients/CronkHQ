module.exports=[12466,a=>{"use strict";var b=a.i(87924),c=a.i(38246);let d={primary:"bg-emerald-600 hover:bg-emerald-500 text-white border-transparent",secondary:"bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700",ghost:"bg-transparent hover:bg-slate-800 text-slate-400 hover:text-white border-transparent",danger:"bg-red-600 hover:bg-red-500 text-white border-transparent"},e={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};function f({variant:a="primary",size:f="md",icon:g,iconPosition:h="left",children:i,className:j="",disabled:k,href:l,...m}){let n=`inline-flex items-center justify-center gap-2 font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${d[a]} ${e[f]} ${j}`,o=(0,b.jsxs)(b.Fragment,{children:[g&&"left"===h&&(0,b.jsx)("i",{className:g}),i,g&&"right"===h&&(0,b.jsx)("i",{className:g})]});return l?(0,b.jsx)(c.default,{href:l,className:n,children:o}):(0,b.jsx)("button",{className:n,disabled:k,...m,children:o})}a.s(["Button",()=>f])},11808,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18740);a.i(69387);var e=a.i(60574),f=a.i(90761),g=a.i(89697),h=a.i(12466),i=a.i(38246);let j=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"EUR",name:"Euro",symbol:"€"},{code:"GBP",name:"British Pound",symbol:"£"},{code:"MXN",name:"Mexican Peso",symbol:"MX$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"}];function k(){let{organization:a}=(0,f.useOrganization)(),{success:k,error:l}=(0,g.useToast)(),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)("USD");(0,c.useEffect)(()=>{a?.id&&(async()=>{try{let b=(0,e.doc)(d.db,"organizations",a.id),c=await (0,e.getDoc)(b);if(c.exists()){let a=c.data();n(a.customPriceFields||[])}}catch(a){console.error("Error loading custom price fields:",a),l("Failed to load settings")}finally{p(!1)}})()},[a?.id,l]);let A=a=>a.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_").substring(0,30),B=()=>{v(null),x(""),z("USD"),t(!0)},C=async()=>{if(a?.id&&w.trim()){r(!0);try{let b=(0,e.doc)(d.db,"organizations",a.id);if(u){let a=m.map(a=>a.id===u.id?{...a,name:w,currency:y}:a);await (0,e.updateDoc)(b,{customPriceFields:a}),n(a),k("Price field updated")}else{let a=A(w);if(m.some(b=>b.key===a)){l("A field with this name already exists"),r(!1);return}let c={id:`cpf_${Date.now()}`,name:w,key:a,currency:y,isActive:!0,createdAt:new Date().toISOString()};await (0,e.updateDoc)(b,{customPriceFields:(0,e.arrayUnion)(c)}),n([...m,c]),k("Price field added")}t(!1)}catch(a){console.error("Error saving field:",a),l("Failed to save field")}finally{r(!1)}}},D=async b=>{if(a?.id&&confirm(`Delete "${b.name}"? This won't remove values from existing products.`))try{let c=(0,e.doc)(d.db,"organizations",a.id),f=m.filter(a=>a.id!==b.id);await (0,e.updateDoc)(c,{customPriceFields:f}),n(f),k("Price field deleted")}catch(a){console.error("Error deleting field:",a),l("Failed to delete field")}};return o?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):(0,b.jsxs)("div",{className:"max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-6",children:[(0,b.jsx)(i.default,{href:"/settings",className:"hover:text-white transition-colors",children:"Settings"}),(0,b.jsx)("i",{className:"fas fa-chevron-right text-xs"}),(0,b.jsx)("span",{className:"text-white",children:"Products"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Product Settings"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Configure product fields and pricing options"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Custom Pricing Fields"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Define custom price fields like Amazon, Wholesale, MAP, etc."})]}),(0,b.jsxs)(h.Button,{onClick:B,children:[(0,b.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Field"]})]}),0===m.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("i",{className:"fas fa-tags text-2xl text-slate-500"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No custom price fields defined yet"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6 max-w-sm mx-auto",children:"Create custom price fields to track pricing across different sales channels and markets."}),(0,b.jsxs)(h.Button,{variant:"secondary",onClick:B,children:[(0,b.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Your First Field"]})]}):(0,b.jsx)("div",{className:"space-y-3",children:m.map(a=>{let c=j.find(b=>b.code===a.currency);return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-emerald-400 font-semibold",children:c?.symbol||"$"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-slate-500",children:["Key: ",(0,b.jsx)("span",{className:"font-mono",children:a.key}),(0,b.jsx)("span",{className:"mx-2",children:"|"}),a.currency]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{v(a),x(a.name),z(a.currency),t(!0)},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Edit field",children:(0,b.jsx)("i",{className:"fas fa-pencil"})}),(0,b.jsx)("button",{onClick:()=>D(a),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:"Delete field",children:(0,b.jsx)("i",{className:"fas fa-trash"})})]})]},a.id)})})]}),s&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-md",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:u?"Edit Price Field":"Add Price Field"}),(0,b.jsx)("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-white",children:(0,b.jsx)("i",{className:"fas fa-times"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Field Name *"}),(0,b.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),placeholder:"e.g., Amazon, Wholesale, MAP Price",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors",autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Currency *"}),(0,b.jsx)("select",{value:y,onChange:a=>z(a.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-emerald-500 transition-colors",children:j.map(a=>(0,b.jsxs)("option",{value:a.code,children:[a.code," - ",a.name]},a.code))})]}),w&&!u&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Key (auto-generated)"}),(0,b.jsx)("div",{className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 font-mono text-slate-400",children:A(w)})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-700",children:[(0,b.jsx)(h.Button,{variant:"secondary",onClick:()=>t(!1),children:"Cancel"}),(0,b.jsx)(h.Button,{onClick:C,disabled:q||!w.trim(),children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-check mr-2"}),u?"Update Field":"Add Field"]})})]})]})})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=_d21d9d0c._.js.map