module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},19337,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(18740);function d(a){if(!a)return a;let c={...a};for(let a in c)c[a]instanceof b.Timestamp?c[a]=c[a].toDate():c[a]&&"object"==typeof c[a]&&!Array.isArray(c[a])&&(c[a]=d(c[a]));return c}class e{orgId;collectionName;constructor(a,b){this.orgId=a,this.collectionName=b}getCollectionRef(){return(0,b.collection)(c.db,"organizations",this.orgId,this.collectionName)}getDocRef(a){return(0,b.doc)(c.db,"organizations",this.orgId,this.collectionName,a)}async getAll(...a){let c=this.getCollectionRef(),e=a.length>0?(0,b.query)(c,...a):(0,b.query)(c);return(await (0,b.getDocs)(e)).docs.map(a=>d({id:a.id,...a.data()}))}async get(a){let c=this.getDocRef(a),e=await (0,b.getDoc)(c);return e.exists()?d({id:e.id,...e.data()}):null}async create(a,c){let d=this.getCollectionRef(),e=c?(0,b.doc)(d,c):(0,b.doc)(d);return await (0,b.setDoc)(e,{...a,createdAt:(0,b.serverTimestamp)(),updatedAt:(0,b.serverTimestamp)()}),e.id}async update(a,c){let d=this.getDocRef(a);await (0,b.updateDoc)(d,{...c,updatedAt:(0,b.serverTimestamp)()})}async delete(a){let c=this.getDocRef(a);await (0,b.deleteDoc)(c)}subscribe(a,c,...e){let f=this.getCollectionRef(),g=e.length>0?(0,b.query)(f,...e):(0,b.query)(f);return(0,b.onSnapshot)(g,b=>{a(b.docs.map(a=>d({id:a.id,...a.data()})))},c)}subscribeToDoc(a,c,e){let f=this.getDocRef(a);return(0,b.onSnapshot)(f,a=>{a.exists()?c(d({id:a.id,...a.data()})):c(null)},e)}async batchCreate(a){let d=(0,b.writeBatch)(c.db),e=[];for(let c of a){let a=(0,b.doc)(this.getCollectionRef());e.push(a.id),d.set(a,{...c,createdAt:(0,b.serverTimestamp)(),updatedAt:(0,b.serverTimestamp)()})}return await d.commit(),e}async batchUpdate(a){let d=(0,b.writeBatch)(c.db);for(let{id:c,data:e}of a){let a=this.getDocRef(c);d.update(a,{...e,updatedAt:(0,b.serverTimestamp)()})}await d.commit()}async batchDelete(a){let d=(0,b.writeBatch)(c.db);for(let b of a)d.delete(this.getDocRef(b));await d.commit()}async getPaginated(a,c,...e){let f=this.getCollectionRef(),g=(0,b.query)(f,...e,(0,b.limit)(a+1));c&&(g=(0,b.query)(f,...e,(0,b.startAfter)(c),(0,b.limit)(a+1)));let h=await (0,b.getDocs)(g),i=h.docs.length>a,j=i?h.docs.slice(0,-1):h.docs;return{data:j.map(a=>d({id:a.id,...a.data()})),lastDoc:j.length>0?j[j.length-1]:null,hasMore:i}}}function f(a){return"demo-org-id"===a}a.s(["FirestoreService",()=>e,"isDemoOrganization",()=>f])},85628,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(53131),f=a.i(90761),g=a.i(50121),h=a.i(19337);let i=[{name:"Main Warehouse",type:"warehouse",address:"2115 Avenue I, Rosenberg, TX 77471",isActive:!0},{name:"Amazon FBA",type:"fba",isActive:!0}];async function j(a){let b=new h.FirestoreService(a,"locations"),c=await b.getAll();if(c.length>0)return console.log("Locations already exist, skipping seed"),c;let d=[];for(let a of i){let c=await b.create(a);d.push(c)}return console.log("Seeded default locations"),b.getAll()}async function k(a,b){let c=new h.FirestoreService(a,"products");if((await c.getAll()).length>0)return void console.log("Products already exist, skipping seed");let d=new Date().toISOString();for(let a of[{sku:"CRONK-GROW-32",name:"Cronk Grow 32oz",category:"nutrient",size:"1L",weight:32,prices:{msrp:29.99,shopify:29.99,amazon:34.99,wholesale:19.99,distributor:14.99},costs:{base:8.5,amazonPrep:2,shopify:1},reorderPoint:25,casePackQty:12,isActive:!0,createdAt:d,updatedAt:d},{sku:"CRONK-BLOOM-32",name:"Cronk Bloom 32oz",category:"nutrient",size:"1L",weight:32,prices:{msrp:29.99,shopify:29.99,amazon:34.99,wholesale:19.99,distributor:14.99},costs:{base:8.5,amazonPrep:2,shopify:1},reorderPoint:25,casePackQty:12,isActive:!0,createdAt:d,updatedAt:d},{sku:"CRONK-MICRO-32",name:"Cronk Micro 32oz",category:"nutrient",size:"1L",weight:32,prices:{msrp:24.99,shopify:24.99,amazon:29.99,wholesale:16.99,distributor:12.99},costs:{base:7.25,amazonPrep:2,shopify:1},reorderPoint:30,casePackQty:12,isActive:!0,createdAt:d,updatedAt:d},{sku:"CRONK-GROW-128",name:"Cronk Grow Gallon",category:"nutrient",size:"4L",weight:128,prices:{msrp:79.99,shopify:79.99,amazon:89.99,wholesale:54.99,distributor:44.99},costs:{base:22,amazonPrep:3,shopify:2},reorderPoint:15,casePackQty:4,isActive:!0,createdAt:d,updatedAt:d},{sku:"CRONK-BLOOM-128",name:"Cronk Bloom Gallon",category:"nutrient",size:"4L",weight:128,prices:{msrp:79.99,shopify:79.99,amazon:89.99,wholesale:54.99,distributor:44.99},costs:{base:22,amazonPrep:3,shopify:2},reorderPoint:15,casePackQty:4,isActive:!0,createdAt:d,updatedAt:d}])await c.create(a);console.log("Seeded demo products")}async function l(a){let b=new h.FirestoreService(a,"suppliers");(await b.getAll()).length>0?console.log("Suppliers already exist, skipping seed"):(await b.create({name:"HIGROCORP INC.",contactName:"Supplier Contact",email:"orders@higrocorp.com",address:{line1:"123 Manufacturing Way",city:"Toronto",state:"ON",postalCode:"M5V 1A1",country:"CA"},currency:"CAD"}),console.log("Seeded default supplier"))}async function m(a,b=!1){try{let c=await j(a);if(await l(a),b&&c.length>0){let b=c.find(a=>"warehouse"===a.type)||c[0];await k(a,b.id)}console.log("Organization data seeded successfully")}catch(a){throw console.error("Error seeding organization data:",a),a}}function n(){let a=(0,d.useRouter)(),{user:h,userProfile:i,isDemo:j,loading:k,logout:l}=(0,e.useAuth)(),{organization:n,loading:o,createOrganization:p,checkPendingInvites:q,acceptInvite:r,declineInvite:s,error:t,clearError:u}=(0,f.useOrganization)(),[v,w]=(0,c.useState)("choice"),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)("free"),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null);(0,c.useEffect)(()=>{(j||n)&&a.push("/")},[j,n,a]),(0,c.useEffect)(()=>{k||h||a.push("/login")},[h,k,a]),(0,c.useEffect)(()=>{(async()=>{if(h?.email){G(!0);try{let a=await q(h.email);E(a)}catch(a){console.error("Error checking invites:",a)}finally{G(!1)}}})()},[h?.email,q]);let J=async b=>{if(b.preventDefault(),!x.trim())return void I("Please enter an organization name");C(!0),I(null),u();try{let b=await p(x.trim(),z);try{await m(b.id,!1)}catch(a){console.error("Error seeding organization data:",a)}a.push("/")}catch(a){I(a instanceof Error?a.message:"Failed to create organization")}finally{C(!1)}},K=async b=>{I(null),u();try{await r(b),a.push("/")}catch(a){I(a instanceof Error?a.message:"Failed to accept invitation")}},L=async a=>{try{await s(a),E(b=>b.filter(b=>b.id!==a))}catch(a){I(a instanceof Error?a.message:"Failed to decline invitation")}};return k||o?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):h?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-xl",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-emerald-500/20",children:(0,b.jsx)("i",{className:"fas fa-leaf text-white text-2xl"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Welcome to Cronk HQ"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Set up your organization to get started"})]}),(H||t)&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-3",children:[(0,b.jsx)("i",{className:"fas fa-exclamation-circle text-red-400"}),(0,b.jsx)("span",{className:"text-red-400 text-sm",children:H||t})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 backdrop-blur border border-slate-800 rounded-2xl p-8",children:["choice"===v&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white text-center mb-6",children:"How would you like to get started?"}),D.length>0&&(0,b.jsx)("button",{onClick:()=>w("invites"),className:"w-full p-4 bg-emerald-500/10 border-2 border-emerald-500/30 rounded-xl text-left hover:bg-emerald-500/20 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-envelope-open text-emerald-400 text-xl"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium text-white",children:"You have pending invitations"}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:[D.length," organization",1!==D.length?"s":""," invited you to join"]})]}),(0,b.jsx)("span",{className:"bg-emerald-500 text-white text-xs font-medium px-2.5 py-1 rounded-full",children:D.length})]})}),(0,b.jsx)("button",{onClick:()=>w("create"),className:"w-full p-4 bg-slate-800/50 border-2 border-slate-700 rounded-xl text-left hover:border-emerald-500/50 hover:bg-slate-800 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-building text-blue-400 text-xl"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-white",children:"Create a new organization"}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Start fresh with your own workspace"})]})]})}),0===D.length&&(0,b.jsx)("div",{className:"text-center py-4",children:(0,b.jsxs)("p",{className:"text-slate-500 text-sm",children:["Have an invite code?"," ",(0,b.jsx)("button",{onClick:()=>w("invites"),className:"text-emerald-400 hover:text-emerald-300",children:"Enter it here"})]})}),(0,b.jsx)("div",{className:"mt-8 pt-6 border-t border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"text-slate-400",children:["Signed in as ",(0,b.jsx)("span",{className:"text-white",children:h.email})]}),(0,b.jsx)("button",{onClick:()=>l(),className:"text-slate-400 hover:text-white transition-colors",children:"Sign out"})]})})]}),"create"===v&&(0,b.jsxs)("form",{onSubmit:J,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>w("choice"),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)("i",{className:"fas fa-arrow-left"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Create your organization"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"orgName",className:"block text-sm font-medium text-slate-300 mb-2",children:"Organization Name"}),(0,b.jsx)("input",{id:"orgName",type:"text",value:x,onChange:a=>y(a.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-colors",placeholder:"Acme Inc.",required:!0,autoFocus:!0}),(0,b.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"This will be your workspace name visible to all team members"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Select a Plan"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["free","starter","professional","enterprise"].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>A(a),className:`p-4 rounded-lg border-2 text-left transition-colors ${z===a?"border-emerald-500 bg-emerald-500/10":"border-slate-700 bg-slate-800/30 hover:border-slate-600"}`,children:[(0,b.jsx)("div",{className:"font-medium text-white capitalize",children:a}),(0,b.jsxs)("div",{className:"text-xs text-slate-400 mt-1",children:[-1===g.PLAN_LIMITS[a].users?"Unlimited":g.PLAN_LIMITS[a].users," users"]})]},a))})]}),(0,b.jsx)("button",{type:"submit",disabled:B||!x.trim(),className:"w-full bg-emerald-600 hover:bg-emerald-500 disabled:bg-emerald-800 disabled:cursor-not-allowed text-white font-medium py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:B?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-plus"}),"Create Organization"]})})]}),"invites"===v&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("button",{type:"button",onClick:()=>w("choice"),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)("i",{className:"fas fa-arrow-left"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Pending Invitations"})]}),F?(0,b.jsx)("div",{className:"flex justify-center py-8",children:(0,b.jsx)("div",{className:"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):D.length>0?(0,b.jsx)("div",{className:"space-y-3",children:D.map(a=>(0,b.jsx)("div",{className:"p-4 bg-slate-800/50 border border-slate-700 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-white",children:a.organizationName}),(0,b.jsxs)("div",{className:"text-sm text-slate-400 mt-1",children:["Invited by ",a.invitedByName||"Team admin"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)("span",{className:"text-xs bg-slate-700 text-slate-300 px-2 py-0.5 rounded capitalize",children:a.role}),(0,b.jsxs)("span",{className:"text-xs text-slate-500",children:["Expires ",new Date(a.expiresAt).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>L(a.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Decline",children:(0,b.jsx)("i",{className:"fas fa-times"})}),(0,b.jsx)("button",{onClick:()=>K(a.id),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-medium rounded-lg transition-colors",children:"Accept"})]})]})},a.id))}):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("i",{className:"fas fa-envelope text-slate-600 text-2xl"})}),(0,b.jsx)("p",{className:"text-slate-400",children:"No pending invitations"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Ask your team admin to send you an invite"})]})]})]})]})}):null}a.s(["default",()=>n],85628)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cb696973._.js.map