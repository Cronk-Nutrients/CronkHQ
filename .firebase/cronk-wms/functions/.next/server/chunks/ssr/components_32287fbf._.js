module.exports=[12466,a=>{"use strict";var b=a.i(87924),c=a.i(38246);let d={primary:"bg-emerald-600 hover:bg-emerald-500 text-white border-transparent",secondary:"bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700",ghost:"bg-transparent hover:bg-slate-800 text-slate-400 hover:text-white border-transparent",danger:"bg-red-600 hover:bg-red-500 text-white border-transparent"},e={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};function f({variant:a="primary",size:f="md",icon:g,iconPosition:h="left",children:i,className:j="",disabled:k,href:l,...m}){let n=`inline-flex items-center justify-center gap-2 font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${d[a]} ${e[f]} ${j}`,o=(0,b.jsxs)(b.Fragment,{children:[g&&"left"===h&&(0,b.jsx)("i",{className:g}),i,g&&"right"===h&&(0,b.jsx)("i",{className:g})]});return l?(0,b.jsx)(c.default,{href:l,className:n,children:o}):(0,b.jsx)("button",{className:n,disabled:k,...m,children:o})}a.s(["Button",()=>f])},51127,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18740);a.i(69387);var e=a.i(60574),f=a.i(90761),g=a.i(53131),h=a.i(89697),i=a.i(12466);let j=[{value:"warehouse",label:"Warehouse",icon:"fa-warehouse",description:"Main storage facility"},{value:"fba",label:"Amazon FBA",icon:"fa-amazon",description:"Amazon fulfillment center"},{value:"retail",label:"Retail Store",icon:"fa-store",description:"Physical retail location"},{value:"3pl",label:"3PL Provider",icon:"fa-truck-loading",description:"Third-party logistics"},{value:"dropship",label:"Dropship",icon:"fa-shipping-fast",description:"Supplier ships direct"},{value:"other",label:"Other",icon:"fa-box",description:"Custom location type"}];function k({location:a,onClose:k,onSave:l}){let{organization:m}=(0,f.useOrganization)(),{user:n}=(0,g.useAuth)(),{success:o,error:p}=(0,h.useToast)(),q=!!a,[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("warehouse"),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)("USA"),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)(""),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&(s(a.name),u(a.code),w(a.type),y(a.isDefault),A(a.isActive),C(a.trackSublocations||!1),E(a.notes||""),a.address&&(G(a.address.street1||""),I(a.address.city||""),K(a.address.state||""),M(a.address.postalCode||""),O(a.address.country||"USA")),a.contact&&(Q(a.contact.name||""),S(a.contact.email||""),U(a.contact.phone||"")),a.fbaDetails&&(W(a.fbaDetails.marketplaceId||""),Y(a.fbaDetails.fulfillmentCenterId||"")))},[a]),(0,c.useEffect)(()=>{q||!r||t||u(r.toUpperCase().replace(/[^A-Z0-9\s]/g,"").replace(/\s+/g,"-").substring(0,10))},[r,q,t]);let _=async()=>{if(m?.id&&n?.uid&&r.trim()&&t.trim()){$(!0);try{let b=(0,e.collection)(d.db,"organizations",m.id,"locations"),c=F||H||J||L,f=P||R||T,g={name:r.trim(),code:t.trim().toUpperCase(),type:v,isDefault:x,isActive:z,trackSublocations:B,notes:D.trim()||null,address:c?{street1:F.trim()||"",city:H.trim()||"",state:J.trim()||"",postalCode:L.trim()||"",country:N.trim()||"USA"}:null,contact:f?{name:P.trim()||null,email:R.trim()||null,phone:T.trim()||null}:null,fbaDetails:"fba"===v&&(V||X)?{marketplaceId:V.trim()||null,fulfillmentCenterId:X.trim()||null}:null,updatedAt:(0,e.serverTimestamp)()};if(q&&a)await (0,e.updateDoc)((0,e.doc)(b,a.id),g),o("Location updated");else{let a=(0,e.doc)(b);await (0,e.setDoc)(a,{...g,totalProducts:0,totalUnits:0,createdAt:(0,e.serverTimestamp)(),createdBy:n.uid}),o("Location created")}l()}catch(a){console.error("Error saving location:",a),p("Failed to save location")}finally{$(!1)}}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:q?"Edit Location":"Add Location"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:q?`Editing ${a?.name}`:"Create a new warehouse or storage location"})]}),(0,b.jsx)("button",{onClick:k,className:"text-slate-400 hover:text-white",children:(0,b.jsx)("i",{className:"fas fa-times"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Location Name *"}),(0,b.jsx)("input",{type:"text",value:r,onChange:a=>s(a.target.value),placeholder:"e.g., Main Warehouse",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500",autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Location Code *"}),(0,b.jsx)("input",{type:"text",value:t,onChange:a=>u(a.target.value.toUpperCase()),placeholder:"e.g., WH-MAIN",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 uppercase"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-3",children:"Location Type *"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3",children:j.map(a=>{let c=v===a.value;return(0,b.jsxs)("button",{type:"button",onClick:()=>w(a.value),className:`flex flex-col items-center gap-2 p-4 rounded-lg border transition-all ${c?"bg-emerald-500/20 border-emerald-500/50 text-emerald-400":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:[(0,b.jsx)("i",{className:`${"fba"===a.value?"fab":"fas"} ${a.icon} text-xl`}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.label}),(0,b.jsx)("span",{className:"text-xs text-slate-500 text-center",children:a.description})]},a.value)})})]}),"fba"===v&&(0,b.jsxs)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-orange-400 mb-2",children:[(0,b.jsx)("i",{className:"fab fa-amazon"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"FBA Settings"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Marketplace ID"}),(0,b.jsx)("input",{type:"text",value:V,onChange:a=>W(a.target.value),placeholder:"e.g., ATVPDKIKX0DER",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Fulfillment Center ID"}),(0,b.jsx)("input",{type:"text",value:X,onChange:a=>Y(a.target.value),placeholder:"e.g., PHX3",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-3",children:"Address"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("input",{type:"text",value:F,onChange:a=>G(a.target.value),placeholder:"Street Address",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("input",{type:"text",value:H,onChange:a=>I(a.target.value),placeholder:"City",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),(0,b.jsx)("input",{type:"text",value:J,onChange:a=>K(a.target.value),placeholder:"State/Province",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("input",{type:"text",value:L,onChange:a=>M(a.target.value),placeholder:"Postal Code",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),(0,b.jsx)("input",{type:"text",value:N,onChange:a=>O(a.target.value),placeholder:"Country",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-3",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,b.jsx)("input",{type:"text",value:P,onChange:a=>Q(a.target.value),placeholder:"Contact Name",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),(0,b.jsx)("input",{type:"email",value:R,onChange:a=>S(a.target.value),placeholder:"Email",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"}),(0,b.jsx)("input",{type:"tel",value:T,onChange:a=>U(a.target.value),placeholder:"Phone",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:bg-slate-800",children:[(0,b.jsx)("input",{type:"checkbox",checked:x,onChange:a=>y(a.target.checked),className:"w-4 h-4 rounded border-slate-600 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-slate-900"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white text-sm font-medium",children:"Default Location"}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"New inventory will be added here by default"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:bg-slate-800",children:[(0,b.jsx)("input",{type:"checkbox",checked:B,onChange:a=>C(a.target.checked),className:"w-4 h-4 rounded border-slate-600 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-slate-900"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white text-sm font-medium",children:"Track Sublocations"}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Enable bins, aisles, shelves, and zones"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:bg-slate-800",children:[(0,b.jsx)("input",{type:"checkbox",checked:z,onChange:a=>A(a.target.checked),className:"w-4 h-4 rounded border-slate-600 text-emerald-500 focus:ring-emerald-500 focus:ring-offset-slate-900"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white text-sm font-medium",children:"Active"}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Location is available for receiving and transfers"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Notes"}),(0,b.jsx)("textarea",{value:D,onChange:a=>E(a.target.value),placeholder:"Additional notes about this location...",rows:3,className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 resize-none"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-700",children:[(0,b.jsx)(i.Button,{variant:"secondary",onClick:k,children:"Cancel"}),(0,b.jsx)(i.Button,{onClick:_,disabled:Z||!r.trim()||!t.trim(),children:Z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-check mr-2"}),q?"Update Location":"Create Location"]})})]})]})})}a.s(["default",()=>k])}];

//# sourceMappingURL=components_32287fbf._.js.map