module.exports=[53278,63461,a=>{"use strict";var b=a.i(87924),c=a.i(88860);function d({icon:a,iconColor:d,value:e,label:f,format:g="number",onClick:h,isActive:i=!1,borderColor:j}){let k={blue:{border:"border-blue-500/30",bg:"bg-blue-500/10",hover:"hover:bg-blue-500/10",iconBg:"bg-blue-500/20",ring:"ring-blue-500/30"},emerald:{border:"border-emerald-500/30",bg:"bg-emerald-500/10",hover:"hover:bg-emerald-500/10",iconBg:"bg-emerald-500/20",ring:"ring-emerald-500/30"},amber:{border:"border-amber-500/30",bg:"bg-amber-500/10",hover:"hover:bg-amber-500/10",iconBg:"bg-amber-500/20",ring:"ring-amber-500/30"},red:{border:"border-red-500/30",bg:"bg-red-500/10",hover:"hover:bg-red-500/10",iconBg:"bg-red-500/20",ring:"ring-red-500/30"},purple:{border:"border-purple-500/30",bg:"bg-purple-500/10",hover:"hover:bg-purple-500/10",iconBg:"bg-purple-500/20",ring:"ring-purple-500/30"},slate:{border:"border-slate-700/50",bg:"bg-slate-700/30",hover:"hover:bg-slate-700/30",iconBg:"bg-slate-700/50",ring:"ring-slate-500/30"}},l=k[d]||k.slate,m="currency"===g?(0,c.formatCurrency)("number"==typeof e?e:0):"number"===g?(0,c.formatNumber)("number"==typeof e?e:0):e,n="slate"===d||"white"===d?"text-white":`text-${d}-400`;return(0,b.jsx)("div",{onClick:h,className:`bg-slate-800/50 backdrop-blur border rounded-xl p-4 transition-colors ${h?"cursor-pointer":""} ${l.hover} ${i?`${l.border.replace("/30","/50")} ${l.bg} ring-2 ${l.ring}`:j||l.border}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-lg ${l.iconBg} flex items-center justify-center`,children:(0,b.jsx)("i",{className:`fas ${a} text-${d}-400`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`text-2xl font-bold ${n}`,children:m}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:f})]})]})})}function e({children:a,columns:c=4}){return(0,b.jsx)("div",{className:`grid ${{4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6",7:"grid-cols-7"}[c]} gap-4`,children:a})}function f({current:a,total:c,completed:d=!1}){let e=c>0?a/c*100:0;return(0,b.jsxs)("div",{className:"w-32",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,b.jsxs)("span",{className:"text-slate-400",children:[a,"/",c]}),(0,b.jsxs)("span",{className:"text-slate-500",children:[Math.round(e),"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2",children:(0,b.jsx)("div",{className:`rounded-full h-2 transition-all ${d?"bg-emerald-500":"bg-blue-500"}`,style:{width:`${e}%`}})})]})}function g({value:a,onChange:c,options:d,placeholder:e}){return(0,b.jsxs)("select",{value:a,onChange:a=>c(a.target.value),className:"bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2.5 text-slate-200 focus:outline-none focus:border-emerald-500",children:[e&&(0,b.jsx)("option",{value:"",children:e}),d.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})}function h({value:a,onChange:c,placeholder:d="Search..."}){return(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),(0,b.jsx)("input",{type:"text",placeholder:d,value:a,onChange:a=>c(a.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500/50"})]})}function i({onClick:a}){return(0,b.jsxs)("button",{onClick:a,className:"px-3 py-2.5 text-slate-400 hover:text-slate-200 transition-colors flex items-center gap-2",children:[(0,b.jsx)("i",{className:"fas fa-times text-sm"}),"Clear"]})}function j({children:a}){return(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:a})}function k({title:a,subtitle:c,icon:d,backHref:e,actions:f}){return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[e&&(0,b.jsx)("a",{href:e,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)("i",{className:"fas fa-arrow-left"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[d,a]}),c&&(0,b.jsx)("p",{className:"text-sm text-slate-400",children:c})]})]}),f]})}a.s(["ClickableStatCard",()=>d,"InventoryStatsGrid",()=>e,"ProgressBar",()=>f],53278),a.s(["ClearFiltersButton",()=>i,"FilterBar",()=>j,"FilterSelect",()=>g,"PageHeader",()=>k,"SearchInput",()=>h],63461)},11954,a=>{"use strict";var b=a.i(87924);function c({status:a,config:c,animated:d=!1}){let e=c[a];if(!e)return null;let f={slate:"bg-slate-500/10 text-slate-400 border-slate-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",emerald:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",red:"bg-red-500/10 text-red-400 border-red-500/20",purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",orange:"bg-orange-500/10 text-orange-400 border-orange-500/20",cyan:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20"};return(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full border ${f[e.color]||f.slate}`,children:[(0,b.jsx)("i",{className:`fas ${e.icon} ${d?"fa-spin":""} text-[10px]`}),e.label]})}function d({type:a,config:c}){let d=c[a];return d?(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded border ${{purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20"}[d.color]||""}`,children:d.label}):null}function e({status:a,compact:c=!1}){let d={in_stock:{text:"In Stock",color:"text-emerald-400",bg:"bg-emerald-500/10",icon:"✓"},low_stock:{text:"Low Stock",color:"text-amber-400",bg:"bg-amber-500/10",icon:"↓"},out_of_stock:{text:"Out of Stock",color:"text-red-400",bg:"bg-red-500/10",icon:"✗"}}[a];return c?(0,b.jsxs)("span",{className:`text-xs ${d.color}`,children:[d.icon," ",d.text]}):(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded ${d.bg} ${d.color}`,children:d.text})}let f={nutrients:{gradient:"from-emerald-500/20 to-emerald-600/20",border:"border-emerald-500/20",text:"text-emerald-400",icon:"fa-flask",label:"Nutrients"},supplements:{gradient:"from-purple-500/20 to-purple-600/20",border:"border-purple-500/20",text:"text-purple-400",icon:"fa-seedling",label:"Supplements"},ph_adjusters:{gradient:"from-blue-500/20 to-blue-600/20",border:"border-blue-500/20",text:"text-blue-400",icon:"fa-vial",label:"pH Adjusters"},bundles:{gradient:"from-amber-500/20 to-amber-600/20",border:"border-amber-500/20",text:"text-amber-400",icon:"fa-boxes-stacked",label:"Bundles"}};function g(a){return f[a]||f.nutrients}function h({category:a,size:c="md"}){let d=g(a),e={sm:{container:"w-8 h-8",icon:"text-sm"},md:{container:"w-12 h-12",icon:""},lg:{container:"w-16 h-16",icon:"text-2xl"}};return(0,b.jsx)("div",{className:`${e[c].container} bg-gradient-to-br ${d.gradient} rounded-lg flex items-center justify-center border ${d.border}`,children:(0,b.jsx)("i",{className:`fas ${d.icon} ${d.text} ${e[c].icon}`})})}a.s(["CategoryIcon",()=>h,"StatusBadge",()=>c,"StockStatus",()=>e,"TypeBadge",()=>d,"categoryStyles",0,f,"countTypeConfig",0,{full:{label:"Full Count",color:"purple"},cycle:{label:"Cycle Count",color:"blue"},spot:{label:"Spot Check",color:"amber"}},"getCategoryStyle",()=>g,"stockCountStatusConfig",0,{draft:{color:"slate",icon:"fa-file",label:"Draft"},in_progress:{color:"blue",icon:"fa-spinner",label:"In Progress"},completed:{color:"emerald",icon:"fa-check-circle",label:"Completed"},cancelled:{color:"red",icon:"fa-times-circle",label:"Cancelled"}},"transferStatusConfig",0,{draft:{color:"slate",icon:"fa-edit",label:"Draft"},pending:{color:"amber",icon:"fa-clock",label:"Pending"},in_transit:{color:"blue",icon:"fa-truck",label:"In Transit"},received:{color:"emerald",icon:"fa-check",label:"Received"},cancelled:{color:"red",icon:"fa-times",label:"Cancelled"}}])},89648,a=>{"use strict";var b=a.i(87924);function c({icon:a,title:c,description:d,showFilterHint:e,action:f}){return(0,b.jsxs)("div",{className:"p-8 text-center text-slate-500",children:[(0,b.jsx)("i",{className:`fas ${a} text-4xl mb-4 text-slate-600`}),(0,b.jsx)("p",{className:"font-medium text-white mb-2",children:c}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:d}),e&&(0,b.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting your filters"}),f&&(0,b.jsx)("div",{className:"mt-4",children:f})]})}function d({currentPage:a,totalPages:c,totalItems:d,itemsPerPage:e,itemLabel:f="items",onPageChange:g}){if(c<=1)return null;let h=Math.min(a*e,d);return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-slate-700/50",children:[(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:["Showing ",(a-1)*e+1," to ",h," of ",d," ",f]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>g(Math.max(1,a-1)),disabled:1===a,className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors",children:(0,b.jsx)("i",{className:"fas fa-chevron-left"})}),Array.from({length:Math.min(5,c)},(d,e)=>{let f;return f=c<=5||a<=3?e+1:a>=c-2?c-4+e:a-2+e,(0,b.jsx)("button",{onClick:()=>g(f),className:`px-3 py-1.5 rounded-lg transition-colors ${a===f?"bg-emerald-600 text-white":"bg-slate-700/50 hover:bg-slate-600/50 text-slate-300"}`,children:f},f)}),(0,b.jsx)("button",{onClick:()=>g(Math.min(c,a+1)),disabled:a===c,className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors",children:(0,b.jsx)("i",{className:"fas fa-chevron-right"})})]})]})}function e({children:a}){return(0,b.jsx)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:a})}function f({icon:a,onClick:c,color:d="slate",title:e,disabled:f}){return(0,b.jsx)("button",{onClick:c,disabled:f,title:e,className:`p-2 rounded-lg transition-colors ${{slate:"text-slate-400 hover:bg-slate-600/50",blue:"text-blue-400 hover:bg-blue-500/20",emerald:"text-emerald-400 hover:bg-emerald-500/20",amber:"text-amber-400 hover:bg-amber-500/20",red:"text-red-400 hover:bg-red-500/20"}[d]} ${f?"opacity-50 cursor-not-allowed":""}`,children:(0,b.jsx)("i",{className:`fas ${a}`})})}function g({icon:a,label:c,onClick:d,variant:e="primary"}){return(0,b.jsxs)("button",{onClick:d,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${{primary:"bg-emerald-600 hover:bg-emerald-500 text-white",secondary:"bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300"}[e]}`,children:[(0,b.jsx)("i",{className:`fas ${a} text-sm`}),c]})}a.s(["ActionButton",()=>f,"EmptyState",()=>c,"Pagination",()=>d,"PrimaryActionButton",()=>g,"TableWrapper",()=>e])},55e3,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(98263),f=a.i(89697);a.i(94660);var g=a.i(2087),h=a.i(11954),i=a.i(53278),j=a.i(63461),k=a.i(89648);function l(){let a=(0,d.useSearchParams)(),l=(0,d.useRouter)(),{state:m,dispatch:n}=(0,e.useApp)(),{success:o,warning:p}=(0,f.useToast)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(a.get("status")||""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(1),A=(0,c.useMemo)(()=>m.stockCounts.filter(a=>{let b=a.countNumber.toLowerCase().includes(s.toLowerCase())||a.name.toLowerCase().includes(s.toLowerCase())||a.locationName.toLowerCase().includes(s.toLowerCase()),c=!u||a.status===u,d=!w||a.type===w;return b&&c&&d}),[m.stockCounts,s,u,w]),B=Math.ceil(A.length/10),C=A.slice((y-1)*10,10*y),D=(0,c.useMemo)(()=>{let a=new Date,b=new Date(a.getFullYear(),a.getMonth(),1);return{activeCounts:m.stockCounts.filter(a=>"in_progress"===a.status).length,completedThisMonth:m.stockCounts.filter(a=>"completed"===a.status&&a.completedAt&&new Date(a.completedAt)>=b).length,discrepancyItems:m.stockCounts.filter(a=>"in_progress"===a.status||"completed"===a.status).reduce((a,b)=>a+b.summary.discrepancyItems,0),totalVariance:m.stockCounts.filter(a=>"completed"===a.status).reduce((a,b)=>a+b.summary.totalVariance,0)}},[m.stockCounts]),E=a=>{v(b=>b===a?"":a),z(1)},F=!!(s||u||w);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(j.PageHeader,{title:"Stock Counts",subtitle:"Physical inventory verification",backHref:"/inventory",actions:(0,b.jsx)(k.PrimaryActionButton,{icon:"fa-plus",label:"New Count",onClick:()=>r(!0)})}),(0,b.jsxs)(i.InventoryStatsGrid,{children:[(0,b.jsx)(i.ClickableStatCard,{icon:"fa-clipboard-list",iconColor:"blue",value:D.activeCounts,label:"Active Counts",onClick:()=>E("in_progress"),isActive:"in_progress"===u}),(0,b.jsx)(i.ClickableStatCard,{icon:"fa-check-circle",iconColor:"emerald",value:D.completedThisMonth,label:"Completed This Month",onClick:()=>E("completed"),isActive:"completed"===u}),(0,b.jsx)(i.ClickableStatCard,{icon:"fa-exclamation-triangle",iconColor:"amber",value:D.discrepancyItems,label:"Items with Discrepancy"}),(0,b.jsx)(i.ClickableStatCard,{icon:"fa-dollar-sign",iconColor:D.totalVariance>=0?"emerald":"red",value:Math.abs(D.totalVariance),format:"currency",label:"Total Variance Value"})]}),(0,b.jsxs)(j.FilterBar,{children:[(0,b.jsx)(j.SearchInput,{value:s,onChange:t,placeholder:"Search counts..."}),(0,b.jsx)(j.FilterSelect,{value:u,onChange:a=>{v(a),z(1)},placeholder:"All Statuses",options:[{value:"draft",label:"Draft"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}]}),(0,b.jsx)(j.FilterSelect,{value:w,onChange:a=>{x(a),z(1)},placeholder:"All Types",options:[{value:"full",label:"Full Count"},{value:"cycle",label:"Cycle Count"},{value:"spot",label:"Spot Check"}]}),F&&(0,b.jsx)(j.ClearFiltersButton,{onClick:()=>{t(""),v(""),x(""),z(1)}})]}),(0,b.jsxs)(k.TableWrapper,{children:[(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,b.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Count #"}),(0,b.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Type"}),(0,b.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Location"}),(0,b.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Progress"}),(0,b.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Started"}),(0,b.jsx)("th",{className:"text-right p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===C.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:8,children:(0,b.jsx)(k.EmptyState,{icon:"fa-clipboard-check",title:"No stock counts found",description:F?"Try adjusting your filters":"Create your first stock count to verify inventory",showFilterHint:F})})}):C.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/30 cursor-pointer transition-colors",onClick:()=>l.push(`/inventory/counts/${a.id}`),children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"font-medium text-white",children:a.countNumber})}),(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsx)("div",{className:"text-slate-200",children:a.name}),a.assignedTo&&(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["Assigned to: ",a.assignedTo]})]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)(h.TypeBadge,{type:a.type,config:h.countTypeConfig})}),(0,b.jsx)("td",{className:"p-4 text-slate-300",children:a.locationName}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)(i.ProgressBar,{current:a.summary.countedItems,total:a.summary.totalItems,completed:"completed"===a.status})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)(h.StatusBadge,{status:a.status,config:h.stockCountStatusConfig,animated:"in_progress"===a.status})}),(0,b.jsx)("td",{className:"p-4 text-slate-300",children:a.startedAt?new Date(a.startedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"}),(0,b.jsx)("td",{className:"p-4 text-right",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["draft"===a.status&&(0,b.jsx)(k.ActionButton,{icon:"fa-play",color:"blue",title:"Start Count",onClick:()=>l.push(`/inventory/counts/${a.id}`)}),"in_progress"===a.status&&(0,b.jsx)(k.ActionButton,{icon:"fa-arrow-right",color:"emerald",title:"Continue Count",onClick:()=>l.push(`/inventory/counts/${a.id}`)}),"in_progress"!==a.status&&(0,b.jsx)(k.ActionButton,{icon:"fa-trash",color:"red",title:"Delete",onClick:b=>{(b.stopPropagation(),"in_progress"===a.status)?p("Cannot delete an active count. Cancel it first."):(n({type:"DELETE_STOCK_COUNT",payload:a.id}),o(`Stock count ${a.countNumber} deleted`))}}),(0,b.jsx)(k.ActionButton,{icon:"fa-chevron-right",title:"View Details",onClick:()=>l.push(`/inventory/counts/${a.id}`)})]})})]},a.id))})]}),(0,b.jsx)(k.Pagination,{currentPage:y,totalPages:B,totalItems:A.length,itemsPerPage:10,itemLabel:"counts",onPageChange:z})]}),(0,b.jsx)(g.CreateStockCountModal,{isOpen:q,onClose:()=>r(!1)})]})}function m(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,b.jsx)("div",{className:"h-8 bg-slate-800/50 rounded w-48"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-24 bg-slate-800/50 rounded-xl"},c))}),(0,b.jsx)("div",{className:"h-96 bg-slate-800/50 rounded-xl"})]}),children:(0,b.jsx)(l,{})})}a.s(["default",()=>m])}];

//# sourceMappingURL=_a735b8e8._.js.map