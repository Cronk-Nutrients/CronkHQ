{"version":3,"sources":["../../../../app/%28dashboard%29/operations/purchase-orders/page.tsx","../../../../components/panels/OrderDetailPanel.tsx","../../../../components/ui/SlideOver.tsx","../../../../components/panels/PODetailPanel.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport {\n  Clock,\n  Truck,\n  Package,\n  DollarSign,\n  Plus,\n  FileText,\n  Check,\n  Eye,\n  AlertTriangle,\n  Send,\n  Edit,\n  Download,\n} from 'lucide-react';\nimport { useApp, PurchaseOrder, PurchaseOrderItem } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { useConfirm } from '@/components/ui/ConfirmDialog';\nimport { CreatePOModal, ReceivePOModal } from '@/components/modals';\nimport { PODetailPanel } from '@/components/panels';\nimport { formatCurrencyPrecise, formatNumber, formatDate } from '@/lib/formatting';\nimport { Breadcrumb } from '@/components/Breadcrumb';\nimport {\n  POStatusBadge,\n  OperationsStatCard,\n  OperationsStatsGrid,\n  SearchInput,\n  FilterSelect,\n  FilterBar,\n  PaginationFooter,\n} from '@/components/operations';\n\nexport default function PurchaseOrdersPage() {\n  const { state, dispatch } = useApp();\n  const { success, error } = useToast();\n  const confirm = useConfirm();\n\n  // UI State\n  const [statusFilter, setStatusFilter] = useState('');\n  const [supplierFilter, setSupplierFilter] = useState('');\n  const [currencyFilter, setCurrencyFilter] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Modal/Panel State\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showReceiveModal, setShowReceiveModal] = useState(false);\n  const [showDetailPanel, setShowDetailPanel] = useState(false);\n  const [selectedPO, setSelectedPO] = useState<PurchaseOrder | null>(null);\n  const [editPO, setEditPO] = useState<PurchaseOrder | null>(null);\n  const [initialItems, setInitialItems] = useState<PurchaseOrderItem[]>([]);\n\n  // Get unique suppliers\n  const suppliers = useMemo(() => {\n    const supplierSet = new Set<string>();\n    state.purchaseOrders.forEach(po => {\n      if (po.supplier) supplierSet.add(po.supplier);\n    });\n    return Array.from(supplierSet).sort();\n  }, [state.purchaseOrders]);\n\n  // Filter POs\n  const filteredPOs = useMemo(() => {\n    return state.purchaseOrders.filter(po => {\n      if (statusFilter && po.status !== statusFilter) return false;\n      if (supplierFilter && po.supplier !== supplierFilter) return false;\n      if (currencyFilter && po.currency !== currencyFilter) return false;\n      if (searchQuery) {\n        const query = searchQuery.toLowerCase();\n        return (\n          po.poNumber.toLowerCase().includes(query) ||\n          po.supplier.toLowerCase().includes(query)\n        );\n      }\n      return true;\n    });\n  }, [state.purchaseOrders, statusFilter, supplierFilter, currencyFilter, searchQuery]);\n\n  // Stats\n  const stats = useMemo(() => {\n    const now = new Date();\n    const thisMonth = new Date(now.getFullYear(), now.getMonth(), 1);\n\n    return {\n      totalPOs: state.purchaseOrders.length,\n      draftCount: state.purchaseOrders.filter(po => po.status === 'draft').length,\n      sentCount: state.purchaseOrders.filter(po => po.status === 'sent').length,\n      partialCount: state.purchaseOrders.filter(po => po.status === 'partial').length,\n      pendingValue: state.purchaseOrders\n        .filter(po => ['sent', 'partial'].includes(po.status))\n        .reduce((sum, po) => sum + po.total, 0),\n      receivedThisMonth: state.purchaseOrders.filter(po => {\n        if (po.status !== 'received') return false;\n        return new Date(po.updatedAt) >= thisMonth;\n      }).length,\n    };\n  }, [state.purchaseOrders]);\n\n  // Get product stock\n  const getProductStock = (productId: string) => {\n    return state.inventory\n      .filter(i => i.productId === productId)\n      .reduce((sum, i) => sum + i.quantity, 0);\n  };\n\n  // Low stock suggestions\n  const lowStockItems = useMemo(() => {\n    return state.products\n      .filter(product => {\n        const totalStock = getProductStock(product.id);\n        return totalStock <= product.reorderPoint;\n      })\n      .map(product => {\n        const currentStock = getProductStock(product.id);\n        const suggestedQty = Math.max(product.reorderPoint * 2 - currentStock, 1);\n        return { ...product, currentStock, suggestedQty };\n      })\n      .slice(0, 8);\n  }, [state.products, state.inventory]);\n\n  // Add low stock item to PO\n  const addToPO = (product: typeof lowStockItems[0]) => {\n    const newItem: PurchaseOrderItem = {\n      productId: product.id,\n      productName: product.name,\n      sku: product.sku,\n      quantity: product.suggestedQty,\n      receivedQty: 0,\n      unitCost: product.cost.rolling,\n    };\n\n    setInitialItems(prev => {\n      if (prev.some(i => i.productId === product.id)) return prev;\n      return [...prev, newItem];\n    });\n\n    if (!showCreateModal) {\n      setEditPO(null);\n      setShowCreateModal(true);\n    }\n\n    success(`Added ${product.name} to PO`);\n  };\n\n  // Handlers\n  const handleViewPO = (po: PurchaseOrder) => {\n    setSelectedPO(po);\n    setShowDetailPanel(true);\n  };\n\n  const handleEditPO = (po: PurchaseOrder) => {\n    if (po.status !== 'draft') {\n      error('Only draft POs can be edited');\n      return;\n    }\n    setEditPO(po);\n    setInitialItems([]);\n    setShowDetailPanel(false);\n    setShowCreateModal(true);\n  };\n\n  const handleReceivePO = (po: PurchaseOrder) => {\n    setSelectedPO(po);\n    setShowDetailPanel(false);\n    setShowReceiveModal(true);\n  };\n\n  const handleSendPO = async (po: PurchaseOrder) => {\n    const confirmed = await confirm({\n      title: 'Send Purchase Order',\n      message: `Send PO ${po.poNumber} to ${po.supplier}? This will mark it as sent.`,\n      confirmText: 'Send PO',\n    });\n\n    if (confirmed) {\n      dispatch({\n        type: 'UPDATE_PURCHASE_ORDER',\n        payload: { ...po, status: 'sent', updatedAt: new Date() },\n      });\n      success(`PO ${po.poNumber} marked as sent`);\n    }\n  };\n\n  const handleExport = () => {\n    const headers = ['PO Number', 'Supplier', 'Status', 'Currency', 'Items', 'Subtotal', 'Shipping', 'Total', 'Expected Date', 'Created'];\n    const rows = filteredPOs.map(po => [\n      po.poNumber, po.supplier, po.status, po.currency, po.items.length.toString(),\n      po.subtotal.toFixed(2), po.shipping.toFixed(2), po.total.toFixed(2),\n      po.expectedDate ? formatDate(po.expectedDate) : '', formatDate(po.createdAt),\n    ]);\n\n    const csv = [headers.join(','), ...rows.map(r => r.join(','))].join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `purchase-orders-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n\n    success('Exported purchase orders to CSV');\n  };\n\n  const handleCloseCreateModal = () => {\n    setShowCreateModal(false);\n    setEditPO(null);\n    setInitialItems([]);\n  };\n\n  const clearFilters = () => {\n    setStatusFilter('');\n    setSupplierFilter('');\n    setCurrencyFilter('');\n    setSearchQuery('');\n  };\n\n  const hasFilters = !!(statusFilter || supplierFilter || currencyFilter || searchQuery);\n\n  return (\n    <div className=\"space-y-6\">\n      <Breadcrumb items={[{ label: 'Operations' }, { label: 'Purchase Orders' }]} />\n\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-white\">Purchase Orders</h1>\n          <p className=\"text-sm text-slate-400\">Manage supplier orders and inventory replenishment</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <button\n            onClick={handleExport}\n            className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <Download className=\"w-4 h-4\" />\n            Export\n          </button>\n          <button\n            onClick={() => { setEditPO(null); setInitialItems([]); setShowCreateModal(true); }}\n            className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            New PO\n          </button>\n        </div>\n      </div>\n\n      {/* Stats Row */}\n      <OperationsStatsGrid>\n        <OperationsStatCard icon={FileText} iconColor=\"slate\" value={stats.totalPOs} label=\"Total POs\" onClick={() => setStatusFilter('')} isActive={!statusFilter} />\n        <OperationsStatCard icon={Edit} iconColor=\"slate\" value={stats.draftCount} label=\"Drafts\" onClick={() => setStatusFilter('draft')} isActive={statusFilter === 'draft'} />\n        <OperationsStatCard icon={Clock} iconColor=\"amber\" value={stats.sentCount} label=\"Pending\" onClick={() => setStatusFilter('sent')} isActive={statusFilter === 'sent'} accentBorder />\n        <OperationsStatCard icon={Truck} iconColor=\"blue\" value={stats.partialCount} label=\"Partial\" onClick={() => setStatusFilter('partial')} isActive={statusFilter === 'partial'} accentBorder />\n        <OperationsStatCard icon={DollarSign} iconColor=\"slate\" value={formatCurrencyPrecise(stats.pendingValue)} label=\"Pending Value\" />\n        <OperationsStatCard icon={Check} iconColor=\"emerald\" value={stats.receivedThisMonth} label=\"Received MTD\" onClick={() => setStatusFilter('received')} isActive={statusFilter === 'received'} accentBorder />\n      </OperationsStatsGrid>\n\n      {/* Filters */}\n      <FilterBar onClear={clearFilters} showClear={hasFilters}>\n        <SearchInput value={searchQuery} onChange={setSearchQuery} placeholder=\"Search POs by number or supplier...\" />\n        <FilterSelect\n          value={statusFilter}\n          onChange={setStatusFilter}\n          placeholder=\"All Statuses\"\n          options={[\n            { value: 'draft', label: 'Draft' },\n            { value: 'sent', label: 'Pending' },\n            { value: 'partial', label: 'Partial' },\n            { value: 'received', label: 'Received' },\n            { value: 'cancelled', label: 'Cancelled' },\n          ]}\n        />\n        <FilterSelect\n          value={supplierFilter}\n          onChange={setSupplierFilter}\n          placeholder=\"All Suppliers\"\n          options={suppliers.map(s => ({ value: s, label: s }))}\n        />\n        <FilterSelect\n          value={currencyFilter}\n          onChange={setCurrencyFilter}\n          placeholder=\"All Currencies\"\n          options={[{ value: 'USD', label: 'USD' }, { value: 'CAD', label: 'CAD' }]}\n        />\n      </FilterBar>\n\n      {/* PO Table */}\n      <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-slate-800/50 border-b border-slate-700/50\">\n              <tr className=\"text-left text-xs text-slate-400 uppercase tracking-wider\">\n                <th className=\"px-4 py-3 font-medium\">PO Number</th>\n                <th className=\"px-4 py-3 font-medium\">Supplier</th>\n                <th className=\"px-4 py-3 font-medium\">Items</th>\n                <th className=\"px-4 py-3 font-medium text-right\">Total</th>\n                <th className=\"px-4 py-3 font-medium\">Expected</th>\n                <th className=\"px-4 py-3 font-medium text-center\">Status</th>\n                <th className=\"px-4 py-3 font-medium text-center\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-slate-700/50\">\n              {filteredPOs.length === 0 ? (\n                <tr>\n                  <td colSpan={7} className=\"px-4 py-12 text-center text-slate-400\">\n                    {state.purchaseOrders.length === 0\n                      ? 'No purchase orders yet. Create your first PO!'\n                      : 'No purchase orders match your filters.'}\n                  </td>\n                </tr>\n              ) : (\n                filteredPOs.map(po => {\n                  const totalUnits = po.items.reduce((sum, item) => sum + item.quantity, 0);\n                  const receivedUnits = po.items.reduce((sum, item) => sum + item.receivedQty, 0);\n\n                  return (\n                    <tr key={po.id} className=\"hover:bg-slate-700/30 transition-colors cursor-pointer\" onClick={() => handleViewPO(po)}>\n                      <td className=\"px-4 py-4\">\n                        <div className=\"font-mono text-sm font-medium text-white\">{po.poNumber}</div>\n                        <div className=\"text-xs text-slate-500\">{formatDate(po.createdAt)}</div>\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <div className=\"text-sm text-white\">{po.supplier}</div>\n                        <div className=\"text-xs text-slate-500\">{po.currency}</div>\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <div className=\"text-sm text-white\">{po.items.length} items</div>\n                        <div className=\"text-xs text-slate-500\">\n                          {receivedUnits > 0\n                            ? `${formatNumber(receivedUnits)}/${formatNumber(totalUnits)} received`\n                            : `${formatNumber(totalUnits)} units`}\n                        </div>\n                      </td>\n                      <td className=\"px-4 py-4 text-right\">\n                        <div className=\"text-sm font-medium text-white\">{formatCurrencyPrecise(po.total)}</div>\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <div className=\"text-sm text-white\">{po.expectedDate ? formatDate(po.expectedDate) : '-'}</div>\n                      </td>\n                      <td className=\"px-4 py-4 text-center\">\n                        <POStatusBadge status={po.status} />\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <div className=\"flex items-center justify-center gap-1\" onClick={e => e.stopPropagation()}>\n                          <button onClick={() => handleViewPO(po)} className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors\" title=\"View\">\n                            <Eye className=\"w-4 h-4\" />\n                          </button>\n                          {po.status === 'draft' && (\n                            <>\n                              <button onClick={() => handleEditPO(po)} className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors\" title=\"Edit\">\n                                <Edit className=\"w-4 h-4\" />\n                              </button>\n                              <button onClick={() => handleSendPO(po)} className=\"px-3 py-1.5 bg-amber-600 hover:bg-amber-500 text-white text-xs rounded-lg\">\n                                <Send className=\"w-3 h-3 inline mr-1\" />Send\n                              </button>\n                            </>\n                          )}\n                          {(po.status === 'sent' || po.status === 'partial') && (\n                            <button onClick={() => handleReceivePO(po)} className=\"px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white text-xs rounded-lg\">\n                              Receive\n                            </button>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })\n              )}\n            </tbody>\n          </table>\n        </div>\n        <PaginationFooter showing={filteredPOs.length} total={state.purchaseOrders.length} label=\"purchase orders\" />\n      </div>\n\n      {/* Low Stock Suggestions */}\n      {lowStockItems.length > 0 && (\n        <div className=\"bg-slate-800/50 backdrop-blur border border-amber-500/30 rounded-xl overflow-hidden\">\n          <div className=\"px-5 py-4 border-b border-slate-700/50 flex items-center gap-3\">\n            <AlertTriangle className=\"w-5 h-5 text-amber-400\" />\n            <div>\n              <h2 className=\"font-semibold text-white\">Low Stock Suggestions</h2>\n              <p className=\"text-xs text-slate-400\">Products below reorder point - consider adding to next PO</p>\n            </div>\n          </div>\n          <div className=\"p-4 grid grid-cols-4 gap-3\">\n            {lowStockItems.map(item => (\n              <div key={item.id} className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-3\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Package className=\"w-4 h-4 text-amber-400\" />\n                  <span className=\"text-sm font-medium text-white truncate\">{item.name}</span>\n                </div>\n                <div className=\"text-xs text-slate-400 mb-1\">SKU: {item.sku}</div>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-slate-400\">Stock:</span>\n                  <span className=\"text-amber-400 font-medium\">\n                    {formatNumber(item.currentStock)} / {formatNumber(item.reorderPoint)}\n                  </span>\n                </div>\n                <button\n                  onClick={() => addToPO(item)}\n                  className=\"mt-2 w-full px-2 py-1.5 bg-amber-500/20 text-amber-400 text-xs rounded hover:bg-amber-500/30 transition-colors\"\n                >\n                  + Add to PO ({formatNumber(item.suggestedQty)} units)\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Modals */}\n      <CreatePOModal isOpen={showCreateModal} onClose={handleCloseCreateModal} editPO={editPO} initialItems={initialItems} />\n      <ReceivePOModal isOpen={showReceiveModal} onClose={() => { setShowReceiveModal(false); setSelectedPO(null); }} po={selectedPO} />\n      <PODetailPanel isOpen={showDetailPanel} onClose={() => { setShowDetailPanel(false); setSelectedPO(null); }} po={selectedPO} onEdit={handleEditPO} onReceive={handleReceivePO} />\n    </div>\n  );\n}\n","'use client';\n\nimport { useMemo } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { SlideOver } from '@/components/ui/SlideOver';\nimport { Button } from '@/components/ui/Button';\nimport { useApp, Order } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { useConfirm } from '@/components/ui/ConfirmDialog';\nimport { formatCurrency, formatNumber } from '@/lib/formatting';\n\ninterface OrderDetailPanelProps {\n  isOpen: boolean;\n  onClose: () => void;\n  order: Order | null;\n}\n\nexport function OrderDetailPanel({ isOpen, onClose, order }: OrderDetailPanelProps) {\n  const router = useRouter();\n  const { dispatch } = useApp();\n  const { success, warning } = useToast();\n  const confirm = useConfirm();\n\n  if (!order) return null;\n\n  // Get status badge\n  const getStatusBadge = (status: Order['status']) => {\n    const styles: Record<Order['status'], { bg: string; text: string; label: string }> = {\n      draft: { bg: 'bg-slate-500/20', text: 'text-slate-400', label: 'Draft' },\n      to_pick: { bg: 'bg-amber-500/20', text: 'text-amber-400', label: 'To Pick' },\n      picking: { bg: 'bg-blue-500/20', text: 'text-blue-400', label: 'Picking' },\n      to_pack: { bg: 'bg-purple-500/20', text: 'text-purple-400', label: 'To Pack' },\n      packing: { bg: 'bg-indigo-500/20', text: 'text-indigo-400', label: 'Packing' },\n      ready: { bg: 'bg-cyan-500/20', text: 'text-cyan-400', label: 'Ready to Ship' },\n      shipped: { bg: 'bg-emerald-500/20', text: 'text-emerald-400', label: 'Shipped' },\n      delivered: { bg: 'bg-green-500/20', text: 'text-green-400', label: 'Delivered' },\n      cancelled: { bg: 'bg-red-500/20', text: 'text-red-400', label: 'Cancelled' },\n    };\n    const style = styles[status];\n    return (\n      <span className={`px-2 py-1 ${style.bg} ${style.text} text-xs rounded-full`}>\n        {style.label}\n      </span>\n    );\n  };\n\n  // Get channel icon\n  const getChannelIcon = (channel: Order['channel']) => {\n    switch (channel) {\n      case 'shopify':\n        return <i className=\"fab fa-shopify text-green-400\"></i>;\n      case 'amazon_fbm':\n      case 'amazon_fba':\n        return <i className=\"fab fa-amazon text-orange-400\"></i>;\n      case 'manual':\n        return <i className=\"fas fa-user text-slate-400\"></i>;\n    }\n  };\n\n  // Format date\n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  // Action handlers\n  const handleStartPicking = () => {\n    dispatch({\n      type: 'UPDATE_ORDER_STATUS',\n      payload: { orderId: order.id, status: 'picking' },\n    });\n    success(`Started picking order ${order.orderNumber}`);\n    router.push(`/pick?order=${order.id}`);\n    onClose();\n  };\n\n  const handleCompletePick = () => {\n    dispatch({\n      type: 'UPDATE_ORDER_STATUS',\n      payload: { orderId: order.id, status: 'to_pack' },\n    });\n    success(`Order ${order.orderNumber} ready for packing`);\n  };\n\n  const handleStartPacking = () => {\n    dispatch({\n      type: 'UPDATE_ORDER_STATUS',\n      payload: { orderId: order.id, status: 'packing' },\n    });\n    success(`Started packing order ${order.orderNumber}`);\n    router.push(`/pack?order=${order.id}`);\n    onClose();\n  };\n\n  const handleMarkReady = () => {\n    dispatch({\n      type: 'UPDATE_ORDER_STATUS',\n      payload: { orderId: order.id, status: 'ready' },\n    });\n    success(`Order ${order.orderNumber} ready to ship`);\n  };\n\n  const handleMarkShipped = () => {\n    dispatch({\n      type: 'UPDATE_ORDER_STATUS',\n      payload: { orderId: order.id, status: 'shipped' },\n    });\n    success(`Order ${order.orderNumber} marked as shipped`);\n  };\n\n  const handlePrintLabel = () => {\n    // Placeholder for printing shipping label\n    success('Opening print dialog...');\n    handlePrintPackingSlip();\n  };\n\n  const handlePrintPackingSlip = () => {\n    const printWindow = window.open('', '_blank');\n    if (!printWindow) {\n      warning('Please allow popups to print');\n      return;\n    }\n\n    printWindow.document.write(`\n      <html>\n        <head>\n          <title>Packing Slip - ${order.orderNumber}</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }\n            .header { border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }\n            .header h1 { margin: 0 0 5px 0; }\n            .customer { margin-bottom: 20px; }\n            .items { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n            .items th, .items td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n            .items th { background: #f5f5f5; }\n            .totals { float: right; width: 250px; }\n            .totals table { width: 100%; }\n            .totals td { padding: 4px 0; }\n            .totals .total { font-weight: bold; font-size: 1.2em; border-top: 2px solid #000; }\n          </style>\n        </head>\n        <body>\n          <div class=\"header\">\n            <h1>Packing Slip</h1>\n            <p><strong>Order:</strong> ${order.orderNumber}</p>\n            <p><strong>Date:</strong> ${formatDate(order.createdAt)}</p>\n            <p><strong>Channel:</strong> ${order.channel.replace('_', ' ').toUpperCase()}</p>\n          </div>\n          <div class=\"customer\">\n            <h3>Ship To:</h3>\n            <p>\n              ${order.customer.name}<br>\n              ${order.customer.address.street}<br>\n              ${order.customer.address.city}, ${order.customer.address.state} ${order.customer.address.zip}<br>\n              ${order.customer.address.country}\n            </p>\n            ${order.customer.phone ? `<p>Phone: ${order.customer.phone}</p>` : ''}\n          </div>\n          <table class=\"items\">\n            <thead>\n              <tr>\n                <th>Item</th>\n                <th>SKU</th>\n                <th style=\"text-align: center;\">Qty</th>\n                <th style=\"text-align: right;\">Price</th>\n                <th style=\"text-align: right;\">Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${order.items.map(item => `\n                <tr>\n                  <td>${item.productName}</td>\n                  <td>${item.sku}</td>\n                  <td style=\"text-align: center;\">${item.quantity}</td>\n                  <td style=\"text-align: right;\">$${item.price.toFixed(2)}</td>\n                  <td style=\"text-align: right;\">$${(item.price * item.quantity).toFixed(2)}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n          <div class=\"totals\">\n            <table>\n              <tr><td>Subtotal:</td><td style=\"text-align: right;\">$${order.subtotal.toFixed(2)}</td></tr>\n              <tr><td>Shipping:</td><td style=\"text-align: right;\">$${order.shipping.toFixed(2)}</td></tr>\n              <tr><td>Tax:</td><td style=\"text-align: right;\">$${order.tax.toFixed(2)}</td></tr>\n              ${order.discount > 0 ? `<tr><td>Discount:</td><td style=\"text-align: right;\">-$${order.discount.toFixed(2)}</td></tr>` : ''}\n              <tr class=\"total\"><td>Total:</td><td style=\"text-align: right;\">$${order.total.toFixed(2)}</td></tr>\n            </table>\n          </div>\n          <div style=\"clear: both; margin-top: 40px; text-align: center; color: #666;\">\n            <p>Thank you for your order!</p>\n          </div>\n        </body>\n      </html>\n    `);\n\n    printWindow.document.close();\n    printWindow.print();\n  };\n\n  const handleCancel = async () => {\n    const confirmed = await confirm({\n      title: 'Cancel Order',\n      message: `Are you sure you want to cancel order ${order.orderNumber}? This will notify the customer.`,\n      confirmText: 'Cancel Order',\n      cancelText: 'Keep Order',\n      destructive: true,\n    });\n\n    if (confirmed) {\n      dispatch({\n        type: 'UPDATE_ORDER_STATUS',\n        payload: { orderId: order.id, status: 'cancelled' },\n      });\n      success(`Order ${order.orderNumber} cancelled`);\n    }\n  };\n\n  // Get available actions based on status\n  const getActionButtons = () => {\n    switch (order.status) {\n      case 'to_pick':\n        return (\n          <>\n            <Button variant=\"secondary\" onClick={handleCancel}>\n              Cancel Order\n            </Button>\n            <Button onClick={handleStartPicking}>\n              <i className=\"fas fa-clipboard-list mr-2\"></i>\n              Start Picking\n            </Button>\n          </>\n        );\n      case 'picking':\n        return (\n          <>\n            <Button variant=\"secondary\" onClick={handleCancel}>\n              Cancel Order\n            </Button>\n            <Button onClick={handleCompletePick}>\n              <i className=\"fas fa-check mr-2\"></i>\n              Complete Pick\n            </Button>\n          </>\n        );\n      case 'to_pack':\n        return (\n          <>\n            <Button variant=\"secondary\" onClick={handleCancel}>\n              Cancel Order\n            </Button>\n            <Button onClick={handleStartPacking}>\n              <i className=\"fas fa-box mr-2\"></i>\n              Start Packing\n            </Button>\n          </>\n        );\n      case 'packing':\n        return (\n          <>\n            <Button variant=\"secondary\" onClick={handlePrintPackingSlip}>\n              <i className=\"fas fa-print mr-2\"></i>\n              Print Slip\n            </Button>\n            <Button onClick={handleMarkReady}>\n              <i className=\"fas fa-check mr-2\"></i>\n              Mark Ready\n            </Button>\n          </>\n        );\n      case 'ready':\n        return (\n          <>\n            <Button variant=\"secondary\" onClick={handlePrintLabel}>\n              <i className=\"fas fa-tag mr-2\"></i>\n              Print Label\n            </Button>\n            <Button onClick={handleMarkShipped}>\n              <i className=\"fas fa-truck mr-2\"></i>\n              Mark Shipped\n            </Button>\n          </>\n        );\n      case 'shipped':\n        return (\n          <>\n            {order.trackingNumber && (\n              <Button\n                variant=\"secondary\"\n                onClick={() => window.open(`https://www.google.com/search?q=${order.trackingNumber}`, '_blank')}\n              >\n                <i className=\"fas fa-external-link-alt mr-2\"></i>\n                Track Package\n              </Button>\n            )}\n            <Button variant=\"secondary\" onClick={handlePrintPackingSlip}>\n              <i className=\"fas fa-print mr-2\"></i>\n              Print Slip\n            </Button>\n          </>\n        );\n      case 'delivered':\n      case 'cancelled':\n        return (\n          <Button variant=\"secondary\" onClick={handlePrintPackingSlip}>\n            <i className=\"fas fa-print mr-2\"></i>\n            Print Slip\n          </Button>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <SlideOver\n      open={isOpen}\n      onClose={onClose}\n      title={order.orderNumber}\n      subtitle={`${order.channel.replace('_', ' ').toUpperCase()} Order`}\n      width=\"lg\"\n      footer={getActionButtons()}\n    >\n      <div className=\"space-y-6\">\n        {/* Status & Channel */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            {getChannelIcon(order.channel)}\n            <span className=\"text-slate-300 capitalize\">{order.channel.replace('_', ' ')}</span>\n          </div>\n          {getStatusBadge(order.status)}\n        </div>\n\n        {/* Customer Info */}\n        <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-white mb-3\">Customer Information</h3>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-slate-400\">Name</span>\n              <span className=\"text-white\">{order.customer.name}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-slate-400\">Email</span>\n              <span className=\"text-white\">{order.customer.email}</span>\n            </div>\n            {order.customer.phone && (\n              <div className=\"flex justify-between\">\n                <span className=\"text-slate-400\">Phone</span>\n                <span className=\"text-white\">{order.customer.phone}</span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Shipping Address */}\n        <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-white mb-3\">Shipping Address</h3>\n          <div className=\"text-sm text-slate-300\">\n            <p>{order.customer.address.street}</p>\n            <p>\n              {order.customer.address.city}, {order.customer.address.state} {order.customer.address.zip}\n            </p>\n            <p>{order.customer.address.country}</p>\n          </div>\n        </div>\n\n        {/* Order Items */}\n        <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg overflow-hidden\">\n          <div className=\"px-4 py-3 border-b border-slate-700/50\">\n            <h3 className=\"text-sm font-medium text-white\">\n              Order Items ({order.items.reduce((sum, i) => sum + i.quantity, 0)} items)\n            </h3>\n          </div>\n          <div className=\"divide-y divide-slate-700/50\">\n            {order.items.map((item, idx) => (\n              <div key={idx} className=\"px-4 py-3 flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center\">\n                    <i className=\"fas fa-flask text-emerald-400\"></i>\n                  </div>\n                  <div>\n                    <div className=\"text-sm text-white\">{item.productName}</div>\n                    <div className=\"text-xs text-slate-400\">{item.sku}</div>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-sm text-white\">\n                    {item.quantity} x {formatCurrency(item.price)}\n                  </div>\n                  <div className=\"text-xs text-slate-400\">\n                    {formatCurrency(item.price * item.quantity)}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Order Totals */}\n        <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-white mb-3\">Order Summary</h3>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-slate-400\">Subtotal</span>\n              <span className=\"text-white\">{formatCurrency(order.subtotal)}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-slate-400\">Shipping</span>\n              <span className=\"text-white\">{formatCurrency(order.shipping)}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-slate-400\">Tax</span>\n              <span className=\"text-white\">{formatCurrency(order.tax)}</span>\n            </div>\n            {order.discount > 0 && (\n              <div className=\"flex justify-between\">\n                <span className=\"text-slate-400\">Discount</span>\n                <span className=\"text-emerald-400\">-{formatCurrency(order.discount)}</span>\n              </div>\n            )}\n            <div className=\"flex justify-between pt-2 border-t border-slate-700\">\n              <span className=\"font-medium text-white\">Total</span>\n              <span className=\"font-bold text-white\">{formatCurrency(order.total)}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Profit Analysis */}\n        <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-white mb-3\">Profit Analysis</h3>\n          <div className=\"grid grid-cols-3 gap-3\">\n            <div className=\"text-center\">\n              <div className=\"text-xs text-slate-400 mb-1\">COGS</div>\n              <div className=\"text-lg font-bold text-white\">{formatCurrency(order.cogs)}</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-xs text-slate-400 mb-1\">Profit</div>\n              <div className={`text-lg font-bold ${order.profit >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>\n                {formatCurrency(order.profit)}\n              </div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-xs text-slate-400 mb-1\">Margin</div>\n              <div className={`text-lg font-bold ${order.margin >= 30 ? 'text-emerald-400' : order.margin >= 15 ? 'text-amber-400' : 'text-red-400'}`}>\n                {order.margin.toFixed(1)}%\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Shipping Info (if shipped) */}\n        {order.trackingNumber && (\n          <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n            <h3 className=\"text-sm font-medium text-white mb-3\">Shipping Information</h3>\n            <div className=\"space-y-2 text-sm\">\n              {order.carrier && (\n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-400\">Carrier</span>\n                  <span className=\"text-white uppercase\">{order.carrier}</span>\n                </div>\n              )}\n              {order.service && (\n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-400\">Service</span>\n                  <span className=\"text-white\">{order.service}</span>\n                </div>\n              )}\n              <div className=\"flex justify-between\">\n                <span className=\"text-slate-400\">Tracking</span>\n                <span className=\"text-blue-400 font-mono\">{order.trackingNumber}</span>\n              </div>\n              {order.shippedAt && (\n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-400\">Shipped</span>\n                  <span className=\"text-white\">{formatDate(order.shippedAt)}</span>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Timestamps */}\n        <div className=\"text-xs text-slate-500 space-y-1\">\n          <div>Created: {formatDate(order.createdAt)}</div>\n          <div>Updated: {formatDate(order.updatedAt)}</div>\n          {order.veeqoId && <div>Veeqo ID: {order.veeqoId}</div>}\n        </div>\n      </div>\n    </SlideOver>\n  );\n}\n\nexport default OrderDetailPanel;\n","'use client';\n\nimport { ReactNode, useEffect } from 'react';\n\ninterface SlideOverProps {\n  open: boolean;\n  onClose: () => void;\n  title: string;\n  subtitle?: string;\n  children: ReactNode;\n  footer?: ReactNode;\n  width?: 'sm' | 'md' | 'lg' | 'xl';\n  className?: string;\n}\n\nconst widthClasses = {\n  sm: 'w-[360px]',\n  md: 'w-[480px]',\n  lg: 'w-[600px]',\n  xl: 'w-[800px]',\n};\n\nexport function SlideOver({\n  open,\n  onClose,\n  title,\n  subtitle,\n  children,\n  footer,\n  width = 'md',\n  className = '',\n}: SlideOverProps) {\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && open) {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [open, onClose]);\n\n  // Prevent body scroll when open\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  if (!open) return null;\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40\"\n        onClick={onClose}\n      />\n\n      {/* Panel */}\n      <div className={`fixed inset-y-0 right-0 ${widthClasses[width]} bg-slate-900 border-l border-slate-700 shadow-2xl z-50 flex flex-col ${className}`}>\n        {/* Header */}\n        <div className=\"sticky top-0 bg-slate-900 border-b border-slate-700 px-6 py-4 flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-lg font-semibold text-white\">{title}</h2>\n            {subtitle && (\n              <p className=\"text-sm text-slate-400\">{subtitle}</p>\n            )}\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-times\"></i>\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {children}\n        </div>\n\n        {/* Footer */}\n        {footer && (\n          <div className=\"sticky bottom-0 bg-slate-900 border-t border-slate-700 px-6 py-4 flex items-center justify-end gap-3\">\n            {footer}\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default SlideOver;\n","'use client';\n\nimport { useMemo } from 'react';\nimport { SlideOver } from '@/components/ui/SlideOver';\nimport { Button } from '@/components/ui/Button';\nimport { useApp, PurchaseOrder } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { useConfirm } from '@/components/ui/ConfirmDialog';\nimport { formatCurrency, formatCurrencyPrecise, formatNumber, formatDate, formatDateTime } from '@/lib/formatting';\nimport {\n  Package,\n  Send,\n  Check,\n  X,\n  Edit,\n  Printer,\n  Clock,\n  Truck,\n  DollarSign,\n  FileText,\n  AlertTriangle,\n} from 'lucide-react';\n\ninterface PODetailPanelProps {\n  isOpen: boolean;\n  onClose: () => void;\n  po: PurchaseOrder | null;\n  onEdit?: (po: PurchaseOrder) => void;\n  onReceive?: (po: PurchaseOrder) => void;\n}\n\nexport function PODetailPanel({ isOpen, onClose, po, onEdit, onReceive }: PODetailPanelProps) {\n  const { dispatch } = useApp();\n  const { success, error } = useToast();\n  const confirm = useConfirm();\n\n  // Calculate receiving progress\n  const progress = useMemo(() => {\n    if (!po) return { totalOrdered: 0, totalReceived: 0, percent: 0 };\n\n    const totalOrdered = po.items.reduce((sum, item) => sum + item.quantity, 0);\n    const totalReceived = po.items.reduce((sum, item) => sum + item.receivedQty, 0);\n    const percent = totalOrdered > 0 ? (totalReceived / totalOrdered) * 100 : 0;\n\n    return { totalOrdered, totalReceived, percent };\n  }, [po]);\n\n  // Get status badge\n  const getStatusBadge = (status: PurchaseOrder['status']) => {\n    switch (status) {\n      case 'draft':\n        return (\n          <span className=\"px-3 py-1 bg-slate-500/20 text-slate-300 text-sm rounded-full\">\n            Draft\n          </span>\n        );\n      case 'sent':\n        return (\n          <span className=\"px-3 py-1 bg-amber-500/20 text-amber-400 text-sm rounded-full\">\n            Sent / Pending\n          </span>\n        );\n      case 'partial':\n        return (\n          <span className=\"px-3 py-1 bg-blue-500/20 text-blue-400 text-sm rounded-full\">\n            Partially Received\n          </span>\n        );\n      case 'received':\n        return (\n          <span className=\"px-3 py-1 bg-emerald-500/20 text-emerald-400 text-sm rounded-full\">\n            Received\n          </span>\n        );\n      case 'cancelled':\n        return (\n          <span className=\"px-3 py-1 bg-red-500/20 text-red-400 text-sm rounded-full\">\n            Cancelled\n          </span>\n        );\n      default:\n        return null;\n    }\n  };\n\n  // Handle send PO\n  const handleSendPO = async () => {\n    if (!po) return;\n\n    const confirmed = await confirm({\n      title: 'Send Purchase Order',\n      message: `Send PO ${po.poNumber} to ${po.supplier}? This will mark it as sent.`,\n      confirmText: 'Send PO',\n    });\n\n    if (confirmed) {\n      const updatedPO: PurchaseOrder = {\n        ...po,\n        status: 'sent',\n        updatedAt: new Date(),\n      };\n      dispatch({ type: 'UPDATE_PURCHASE_ORDER', payload: updatedPO });\n      success(`PO ${po.poNumber} marked as sent`);\n    }\n  };\n\n  // Handle cancel PO\n  const handleCancelPO = async () => {\n    if (!po) return;\n\n    if (po.status === 'received') {\n      error('Cannot cancel a received PO');\n      return;\n    }\n\n    const confirmed = await confirm({\n      title: 'Cancel Purchase Order',\n      message: `Cancel PO ${po.poNumber}? This cannot be undone.`,\n      confirmText: 'Cancel PO',\n      destructive: true,\n    });\n\n    if (confirmed) {\n      const updatedPO: PurchaseOrder = {\n        ...po,\n        status: 'cancelled',\n        updatedAt: new Date(),\n      };\n      dispatch({ type: 'UPDATE_PURCHASE_ORDER', payload: updatedPO });\n      success(`PO ${po.poNumber} cancelled`);\n      onClose();\n    }\n  };\n\n  // Handle delete PO\n  const handleDeletePO = async () => {\n    if (!po) return;\n\n    if (po.status !== 'draft') {\n      error('Only draft POs can be deleted');\n      return;\n    }\n\n    const confirmed = await confirm({\n      title: 'Delete Purchase Order',\n      message: `Delete PO ${po.poNumber}? This cannot be undone.`,\n      confirmText: 'Delete',\n      destructive: true,\n    });\n\n    if (confirmed) {\n      dispatch({ type: 'DELETE_PURCHASE_ORDER', payload: po.id });\n      success(`PO ${po.poNumber} deleted`);\n      onClose();\n    }\n  };\n\n  // Handle print\n  const handlePrint = () => {\n    if (!po) return;\n\n    const printContent = `\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>PO ${po.poNumber}</title>\n        <style>\n          body { font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }\n          h1 { margin-bottom: 5px; }\n          .subtitle { color: #666; margin-bottom: 20px; }\n          .header { display: flex; justify-content: space-between; margin-bottom: 30px; }\n          .info { margin-bottom: 20px; }\n          .info-row { display: flex; margin-bottom: 5px; }\n          .info-label { width: 120px; color: #666; }\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }\n          th { background: #f5f5f5; font-weight: 600; }\n          .text-right { text-align: right; }\n          .totals { margin-top: 20px; text-align: right; }\n          .total-row { display: flex; justify-content: flex-end; gap: 40px; margin-bottom: 5px; }\n          .total-final { font-weight: bold; font-size: 18px; border-top: 2px solid #333; padding-top: 10px; }\n          .notes { margin-top: 30px; padding: 15px; background: #f9f9f9; border-radius: 5px; }\n        </style>\n      </head>\n      <body>\n        <div class=\"header\">\n          <div>\n            <h1>Purchase Order</h1>\n            <div class=\"subtitle\">${po.poNumber}</div>\n          </div>\n          <div class=\"text-right\">\n            <div><strong>Cronk Nutrients</strong></div>\n            <div>Date: ${formatDate(po.createdAt)}</div>\n          </div>\n        </div>\n\n        <div class=\"info\">\n          <div class=\"info-row\"><span class=\"info-label\">Supplier:</span> ${po.supplier}</div>\n          <div class=\"info-row\"><span class=\"info-label\">Currency:</span> ${po.currency}</div>\n          <div class=\"info-row\"><span class=\"info-label\">Expected Date:</span> ${po.expectedDate ? formatDate(po.expectedDate) : 'Not specified'}</div>\n          <div class=\"info-row\"><span class=\"info-label\">Status:</span> ${po.status.charAt(0).toUpperCase() + po.status.slice(1)}</div>\n        </div>\n\n        <table>\n          <thead>\n            <tr>\n              <th>Product</th>\n              <th>SKU</th>\n              <th class=\"text-right\">Qty</th>\n              <th class=\"text-right\">Unit Cost</th>\n              <th class=\"text-right\">Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${po.items.map(item => `\n              <tr>\n                <td>${item.productName}</td>\n                <td>${item.sku}</td>\n                <td class=\"text-right\">${item.quantity}</td>\n                <td class=\"text-right\">$${item.unitCost.toFixed(2)}</td>\n                <td class=\"text-right\">$${(item.quantity * item.unitCost).toFixed(2)}</td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n\n        <div class=\"totals\">\n          <div class=\"total-row\">\n            <span>Subtotal:</span>\n            <span>$${po.subtotal.toFixed(2)}</span>\n          </div>\n          <div class=\"total-row\">\n            <span>Shipping:</span>\n            <span>$${po.shipping.toFixed(2)}</span>\n          </div>\n          <div class=\"total-row total-final\">\n            <span>Total:</span>\n            <span>$${po.total.toFixed(2)}</span>\n          </div>\n        </div>\n\n        ${po.notes ? `<div class=\"notes\"><strong>Notes:</strong><br/>${po.notes}</div>` : ''}\n      </body>\n      </html>\n    `;\n\n    const printWindow = window.open('', '_blank');\n    if (printWindow) {\n      printWindow.document.write(printContent);\n      printWindow.document.close();\n      printWindow.print();\n    }\n  };\n\n  if (!po) return null;\n\n  return (\n    <SlideOver\n      open={isOpen}\n      onClose={onClose}\n      title={po.poNumber}\n      subtitle={po.supplier}\n      width=\"lg\"\n      footer={\n        <>\n          {/* Actions based on status */}\n          {po.status === 'draft' && (\n            <>\n              <Button variant=\"danger\" onClick={handleDeletePO}>\n                <X className=\"w-4 h-4\" />\n                Delete\n              </Button>\n              <Button variant=\"secondary\" onClick={() => onEdit?.(po)}>\n                <Edit className=\"w-4 h-4\" />\n                Edit\n              </Button>\n              <Button onClick={handleSendPO}>\n                <Send className=\"w-4 h-4\" />\n                Send PO\n              </Button>\n            </>\n          )}\n          {po.status === 'sent' && (\n            <>\n              <Button variant=\"secondary\" onClick={handleCancelPO}>\n                Cancel PO\n              </Button>\n              <Button onClick={() => onReceive?.(po)}>\n                <Package className=\"w-4 h-4\" />\n                Receive Items\n              </Button>\n            </>\n          )}\n          {po.status === 'partial' && (\n            <>\n              <Button variant=\"secondary\" onClick={handleCancelPO}>\n                Cancel PO\n              </Button>\n              <Button onClick={() => onReceive?.(po)}>\n                <Package className=\"w-4 h-4\" />\n                Receive More\n              </Button>\n            </>\n          )}\n          {po.status === 'received' && (\n            <Button variant=\"secondary\" onClick={handlePrint}>\n              <Printer className=\"w-4 h-4\" />\n              Print PO\n            </Button>\n          )}\n          {po.status === 'cancelled' && (\n            <Button variant=\"secondary\" onClick={onClose}>\n              Close\n            </Button>\n          )}\n        </>\n      }\n    >\n      <div className=\"space-y-6\">\n        {/* Status & Actions Header */}\n        <div className=\"flex items-center justify-between\">\n          {getStatusBadge(po.status)}\n          <button\n            onClick={handlePrint}\n            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg\"\n            title=\"Print PO\"\n          >\n            <Printer className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Progress Bar (for sent/partial) */}\n        {(po.status === 'sent' || po.status === 'partial' || po.status === 'received') && (\n          <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-sm text-slate-400\">Receiving Progress</span>\n              <span className=\"text-sm text-white\">\n                {formatNumber(progress.totalReceived)} / {formatNumber(progress.totalOrdered)} received\n              </span>\n            </div>\n            <div className=\"w-full bg-slate-700 rounded-full h-2\">\n              <div\n                className={`h-2 rounded-full transition-all ${\n                  progress.percent >= 100 ? 'bg-emerald-500' : 'bg-blue-500'\n                }`}\n                style={{ width: `${Math.min(progress.percent, 100)}%` }}\n              />\n            </div>\n            <div className=\"text-xs text-slate-500 mt-1\">\n              {progress.percent.toFixed(0)}% complete\n            </div>\n          </div>\n        )}\n\n        {/* PO Details */}\n        <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-white mb-3\">PO Details</h3>\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            <div className=\"flex items-center gap-2\">\n              <FileText className=\"w-4 h-4 text-slate-400\" />\n              <span className=\"text-slate-400\">PO Number:</span>\n              <span className=\"text-white font-mono\">{po.poNumber}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Truck className=\"w-4 h-4 text-slate-400\" />\n              <span className=\"text-slate-400\">Supplier:</span>\n              <span className=\"text-white\">{po.supplier}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <DollarSign className=\"w-4 h-4 text-slate-400\" />\n              <span className=\"text-slate-400\">Currency:</span>\n              <span className=\"text-white\">{po.currency}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"w-4 h-4 text-slate-400\" />\n              <span className=\"text-slate-400\">Expected:</span>\n              <span className=\"text-white\">\n                {po.expectedDate ? formatDate(po.expectedDate) : 'Not set'}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Line Items */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Line Items</h3>\n          <div className=\"border border-slate-700 rounded-lg overflow-hidden\">\n            <table className=\"w-full\">\n              <thead className=\"bg-slate-800/50\">\n                <tr className=\"text-xs text-slate-400 uppercase tracking-wider\">\n                  <th className=\"px-4 py-3 text-left\">Product</th>\n                  <th className=\"px-4 py-3 text-center\">Ordered</th>\n                  <th className=\"px-4 py-3 text-center\">Received</th>\n                  <th className=\"px-4 py-3 text-right\">Unit Cost</th>\n                  <th className=\"px-4 py-3 text-right\">Total</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-slate-700/50\">\n                {po.items.map(item => {\n                  const isComplete = item.receivedQty >= item.quantity;\n                  const isPartial = item.receivedQty > 0 && item.receivedQty < item.quantity;\n\n                  return (\n                    <tr\n                      key={item.productId}\n                      className={isComplete ? 'bg-emerald-500/5' : ''}\n                    >\n                      <td className=\"px-4 py-3\">\n                        <div className=\"text-sm text-white\">{item.productName}</div>\n                        <div className=\"text-xs text-slate-400 font-mono\">{item.sku}</div>\n                      </td>\n                      <td className=\"px-4 py-3 text-center text-sm text-white\">\n                        {formatNumber(item.quantity)}\n                      </td>\n                      <td className=\"px-4 py-3 text-center text-sm\">\n                        <span className={\n                          isComplete ? 'text-emerald-400' :\n                          isPartial ? 'text-blue-400' :\n                          'text-slate-400'\n                        }>\n                          {formatNumber(item.receivedQty)}\n                          {isComplete && <Check className=\"w-3 h-3 inline ml-1\" />}\n                        </span>\n                      </td>\n                      <td className=\"px-4 py-3 text-right text-sm text-slate-300\">\n                        {formatCurrencyPrecise(item.unitCost)}\n                      </td>\n                      <td className=\"px-4 py-3 text-right text-sm text-white font-medium\">\n                        {formatCurrencyPrecise(item.quantity * item.unitCost)}\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Totals */}\n        <div className=\"flex justify-end\">\n          <div className=\"w-64 bg-slate-800/50 border border-slate-700/50 rounded-lg p-4 space-y-2\">\n            <div className=\"flex justify-between text-sm\">\n              <span className=\"text-slate-400\">Subtotal:</span>\n              <span className=\"text-white\">{formatCurrencyPrecise(po.subtotal)}</span>\n            </div>\n            <div className=\"flex justify-between text-sm\">\n              <span className=\"text-slate-400\">Shipping:</span>\n              <span className=\"text-white\">{formatCurrencyPrecise(po.shipping)}</span>\n            </div>\n            <div className=\"flex justify-between pt-2 border-t border-slate-700\">\n              <span className=\"text-white font-medium\">Total:</span>\n              <span className=\"text-white font-bold\">{formatCurrencyPrecise(po.total)}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Notes */}\n        {po.notes && (\n          <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n            <h3 className=\"text-sm font-medium text-white mb-2\">Notes</h3>\n            <p className=\"text-sm text-slate-300\">{po.notes}</p>\n          </div>\n        )}\n\n        {/* Timeline */}\n        <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-white mb-3\">Timeline</h3>\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-2 h-2 rounded-full bg-emerald-500\"></div>\n              <div className=\"text-sm\">\n                <span className=\"text-white\">Created</span>\n                <span className=\"text-slate-400 ml-2\">{formatDateTime(po.createdAt)}</span>\n              </div>\n            </div>\n            {po.status !== 'draft' && (\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-2 h-2 rounded-full bg-blue-500\"></div>\n                <div className=\"text-sm\">\n                  <span className=\"text-white\">Sent to Supplier</span>\n                  <span className=\"text-slate-400 ml-2\">{formatDateTime(po.updatedAt)}</span>\n                </div>\n              </div>\n            )}\n            {(po.status === 'partial' || po.status === 'received') && progress.totalReceived > 0 && (\n              <div className=\"flex items-center gap-3\">\n                <div className={`w-2 h-2 rounded-full ${po.status === 'received' ? 'bg-emerald-500' : 'bg-amber-500'}`}></div>\n                <div className=\"text-sm\">\n                  <span className=\"text-white\">\n                    {po.status === 'received' ? 'Fully Received' : 'Partially Received'}\n                  </span>\n                  <span className=\"text-slate-400 ml-2\">{formatDateTime(po.updatedAt)}</span>\n                </div>\n              </div>\n            )}\n            {po.status === 'cancelled' && (\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-2 h-2 rounded-full bg-red-500\"></div>\n                <div className=\"text-sm\">\n                  <span className=\"text-white\">Cancelled</span>\n                  <span className=\"text-slate-400 ml-2\">{formatDateTime(po.updatedAt)}</span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </SlideOver>\n  );\n}\n\nexport default PODetailPanel;\n"],"names":[],"mappings":"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"}