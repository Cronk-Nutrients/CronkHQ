{"version":3,"sources":["../../../../app/%28dashboard%29/inventory/transfers/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { useApp, StockTransfer, TransferItem } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { StatusBadge, transferStatusConfig } from '@/components/inventory/StatusBadge';\nimport { formatDateTime } from '@/lib/formatting';\n\ntype TransferStatus = StockTransfer['status'];\n\nexport default function TransferDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { state, dispatch } = useApp();\n  const { success, error } = useToast();\n\n  const transferId = params.id as string;\n  const transfer = state.transfers.find(t => t.id === transferId);\n\n  // Ship modal state\n  const [showShipModal, setShowShipModal] = useState(false);\n  const [shipQuantities, setShipQuantities] = useState<Record<string, number>>({});\n\n  // Receive modal state\n  const [showReceiveModal, setShowReceiveModal] = useState(false);\n  const [receiveQuantities, setReceiveQuantities] = useState<Record<string, number>>({});\n\n  // Cancel confirmation\n  const [showCancelConfirm, setShowCancelConfirm] = useState(false);\n\n  // Initialize ship quantities when opening modal\n  const openShipModal = () => {\n    if (!transfer) return;\n    const quantities: Record<string, number> = {};\n    transfer.items.forEach(item => {\n      quantities[item.productId] = item.requestedQty;\n    });\n    setShipQuantities(quantities);\n    setShowShipModal(true);\n  };\n\n  // Initialize receive quantities when opening modal\n  const openReceiveModal = () => {\n    if (!transfer) return;\n    const quantities: Record<string, number> = {};\n    transfer.items.forEach(item => {\n      quantities[item.productId] = item.shippedQty;\n    });\n    setReceiveQuantities(quantities);\n    setShowReceiveModal(true);\n  };\n\n  // Handle ship transfer\n  const handleShipTransfer = () => {\n    if (!transfer) return;\n\n    const updatedItems: TransferItem[] = transfer.items.map(item => ({\n      ...item,\n      shippedQty: shipQuantities[item.productId] || 0,\n      status: 'shipped' as const,\n    }));\n\n    const updatedTransfer: StockTransfer = {\n      ...transfer,\n      status: 'in_transit',\n      items: updatedItems,\n      shippedAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    // Deduct stock from source location\n    transfer.items.forEach(item => {\n      const shippedQty = shipQuantities[item.productId] || 0;\n      if (shippedQty > 0) {\n        dispatch({\n          type: 'ADJUST_STOCK',\n          payload: {\n            productId: item.productId,\n            locationId: transfer.fromLocation,\n            adjustment: -shippedQty,\n          },\n        });\n      }\n    });\n\n    dispatch({ type: 'UPDATE_TRANSFER', payload: updatedTransfer });\n    success('Transfer shipped successfully');\n    setShowShipModal(false);\n  };\n\n  // Handle receive transfer\n  const handleReceiveTransfer = () => {\n    if (!transfer) return;\n\n    const updatedItems: TransferItem[] = transfer.items.map(item => {\n      const receivedQty = receiveQuantities[item.productId] || 0;\n      const isShort = receivedQty < item.shippedQty;\n      return {\n        ...item,\n        receivedQty,\n        status: isShort ? 'short' as const : 'received' as const,\n      };\n    });\n\n    const updatedTransfer: StockTransfer = {\n      ...transfer,\n      status: 'received',\n      items: updatedItems,\n      receivedAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    // Add stock to destination location\n    transfer.items.forEach(item => {\n      const receivedQty = receiveQuantities[item.productId] || 0;\n      if (receivedQty > 0) {\n        dispatch({\n          type: 'ADJUST_STOCK',\n          payload: {\n            productId: item.productId,\n            locationId: transfer.toLocation,\n            adjustment: receivedQty,\n          },\n        });\n      }\n    });\n\n    dispatch({ type: 'UPDATE_TRANSFER', payload: updatedTransfer });\n\n    // Check for short items\n    const shortItems = updatedItems.filter(item => item.status === 'short');\n    if (shortItems.length > 0) {\n      success(`Transfer received with ${shortItems.length} short item(s)`);\n    } else {\n      success('Transfer received successfully');\n    }\n    setShowReceiveModal(false);\n  };\n\n  // Handle cancel transfer\n  const handleCancelTransfer = () => {\n    if (!transfer) return;\n\n    // If in transit, restore stock to source location\n    if (transfer.status === 'in_transit') {\n      transfer.items.forEach(item => {\n        if (item.shippedQty > 0) {\n          dispatch({\n            type: 'ADJUST_STOCK',\n            payload: {\n              productId: item.productId,\n              locationId: transfer.fromLocation,\n              adjustment: item.shippedQty,\n            },\n          });\n        }\n      });\n    }\n\n    const updatedTransfer: StockTransfer = {\n      ...transfer,\n      status: 'cancelled',\n      updatedAt: new Date(),\n    };\n\n    dispatch({ type: 'UPDATE_TRANSFER', payload: updatedTransfer });\n    success('Transfer cancelled');\n    setShowCancelConfirm(false);\n  };\n\n  // Status timeline steps\n  const statusSteps: { key: TransferStatus; label: string; icon: string }[] = [\n    { key: 'pending', label: 'Pending', icon: 'fa-clock' },\n    { key: 'in_transit', label: 'In Transit', icon: 'fa-truck' },\n    { key: 'received', label: 'Received', icon: 'fa-check-circle' },\n  ];\n\n  const getStatusIndex = (status: TransferStatus) => {\n    if (status === 'cancelled') return -1;\n    if (status === 'draft') return -1;\n    return statusSteps.findIndex(s => s.key === status);\n  };\n\n  // Use shared StatusBadge component with transferStatusConfig\n\n  const getItemStatusBadge = (status: TransferItem['status']) => {\n    const badges: Record<TransferItem['status'], { bg: string; text: string; label: string }> = {\n      pending: { bg: 'bg-slate-500/20', text: 'text-slate-400', label: 'Pending' },\n      shipped: { bg: 'bg-blue-500/20', text: 'text-blue-400', label: 'Shipped' },\n      received: { bg: 'bg-emerald-500/20', text: 'text-emerald-400', label: 'Received' },\n      short: { bg: 'bg-amber-500/20', text: 'text-amber-400', label: 'Short' },\n    };\n    const badge = badges[status];\n    return (\n      <span className={`px-2 py-0.5 ${badge.bg} ${badge.text} rounded text-xs font-medium`}>\n        {badge.label}\n      </span>\n    );\n  };\n\n  // Using shared formatDateTime from lib/formatting\n\n  // Calculate totals\n  const totals = useMemo(() => {\n    if (!transfer) return { requested: 0, shipped: 0, received: 0 };\n    return {\n      requested: transfer.items.reduce((sum, item) => sum + item.requestedQty, 0),\n      shipped: transfer.items.reduce((sum, item) => sum + item.shippedQty, 0),\n      received: transfer.items.reduce((sum, item) => sum + item.receivedQty, 0),\n    };\n  }, [transfer]);\n\n  if (!transfer) {\n    return (\n      <div className=\"flex items-center justify-center h-96\">\n        <div className=\"text-center\">\n          <i className=\"fas fa-exclamation-triangle text-amber-400 text-4xl mb-4\"></i>\n          <h2 className=\"text-xl font-bold text-white mb-2\">Transfer Not Found</h2>\n          <p className=\"text-slate-400 mb-4\">The transfer you're looking for doesn't exist.</p>\n          <Link\n            href=\"/inventory/transfers\"\n            className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors\"\n          >\n            Back to Transfers\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  const currentStatusIndex = getStatusIndex(transfer.status);\n  const canShip = transfer.status === 'pending';\n  const canReceive = transfer.status === 'in_transit';\n  const canCancel = transfer.status !== 'received' && transfer.status !== 'cancelled';\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-4\">\n          <Link\n            href=\"/inventory/transfers\"\n            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-arrow-left\"></i>\n          </Link>\n          <div>\n            <div className=\"flex items-center gap-3\">\n              <h1 className=\"text-2xl font-bold text-white\">{transfer.transferNumber}</h1>\n              <StatusBadge status={transfer.status} config={transferStatusConfig} />\n            </div>\n            <p className=\"text-sm text-slate-400 mt-1\">\n              Created {transfer.createdAt ? formatDateTime(transfer.createdAt) : '-'}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          {canCancel && (\n            <button\n              onClick={() => setShowCancelConfirm(true)}\n              className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors\"\n            >\n              Cancel Transfer\n            </button>\n          )}\n          {canShip && (\n            <button\n              onClick={openShipModal}\n              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n            >\n              <i className=\"fas fa-truck\"></i>\n              Ship Transfer\n            </button>\n          )}\n          {canReceive && (\n            <button\n              onClick={openReceiveModal}\n              className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n            >\n              <i className=\"fas fa-check\"></i>\n              Receive Transfer\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Status Timeline */}\n      {transfer.status !== 'cancelled' && (\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6\">\n          <h2 className=\"text-lg font-semibold text-white mb-6\">Transfer Progress</h2>\n          <div className=\"relative\">\n            {/* Progress Line */}\n            <div className=\"absolute left-0 right-0 top-5 h-1 bg-slate-700 rounded\">\n              <div\n                className=\"h-full bg-emerald-500 rounded transition-all duration-500\"\n                style={{\n                  width: `${((currentStatusIndex + 1) / statusSteps.length) * 100}%`,\n                }}\n              ></div>\n            </div>\n\n            {/* Steps */}\n            <div className=\"relative flex justify-between\">\n              {statusSteps.map((step, index) => {\n                const isComplete = index <= currentStatusIndex;\n                const isCurrent = index === currentStatusIndex;\n                return (\n                  <div key={step.key} className=\"flex flex-col items-center\">\n                    <div\n                      className={`w-10 h-10 rounded-full flex items-center justify-center z-10 transition-all ${\n                        isComplete\n                          ? 'bg-emerald-500 text-white'\n                          : 'bg-slate-700 text-slate-400'\n                      } ${isCurrent ? 'ring-4 ring-emerald-500/30' : ''}`}\n                    >\n                      <i className={`fas ${step.icon}`}></i>\n                    </div>\n                    <span\n                      className={`mt-2 text-sm font-medium ${\n                        isComplete ? 'text-white' : 'text-slate-500'\n                      }`}\n                    >\n                      {step.label}\n                    </span>\n                    {step.key === 'pending' && transfer.createdAt && (\n                      <span className=\"text-xs text-slate-500 mt-1\">\n                        {transfer.createdAt ? formatDateTime(transfer.createdAt) : '-'}\n                      </span>\n                    )}\n                    {step.key === 'in_transit' && transfer.shippedAt && (\n                      <span className=\"text-xs text-slate-500 mt-1\">\n                        {transfer.shippedAt ? formatDateTime(transfer.shippedAt) : '-'}\n                      </span>\n                    )}\n                    {step.key === 'received' && transfer.receivedAt && (\n                      <span className=\"text-xs text-slate-500 mt-1\">\n                        {transfer.receivedAt ? formatDateTime(transfer.receivedAt) : '-'}\n                      </span>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Location Info */}\n      <div className=\"grid grid-cols-2 gap-6\">\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center\">\n              <i className=\"fas fa-arrow-up text-red-400\"></i>\n            </div>\n            <div>\n              <h3 className=\"text-sm font-medium text-slate-400\">From Location</h3>\n              <p className=\"text-lg font-semibold text-white\">{transfer.fromLocationName}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center\">\n              <i className=\"fas fa-arrow-down text-emerald-400\"></i>\n            </div>\n            <div>\n              <h3 className=\"text-sm font-medium text-slate-400\">To Location</h3>\n              <p className=\"text-lg font-semibold text-white\">{transfer.toLocationName}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Items */}\n      <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6\">\n        <h2 className=\"text-lg font-semibold text-white mb-4\">Transfer Items</h2>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-slate-700\">\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-slate-400\">Product</th>\n                <th className=\"text-left py-3 px-4 text-sm font-medium text-slate-400\">SKU</th>\n                <th className=\"text-center py-3 px-4 text-sm font-medium text-slate-400\">Requested</th>\n                <th className=\"text-center py-3 px-4 text-sm font-medium text-slate-400\">Shipped</th>\n                <th className=\"text-center py-3 px-4 text-sm font-medium text-slate-400\">Received</th>\n                <th className=\"text-center py-3 px-4 text-sm font-medium text-slate-400\">Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {transfer.items.map((item) => (\n                <tr key={item.productId} className=\"border-b border-slate-700/50 hover:bg-slate-700/30\">\n                  <td className=\"py-3 px-4 text-white\">{item.productName}</td>\n                  <td className=\"py-3 px-4 text-slate-400 font-mono text-sm\">{item.sku}</td>\n                  <td className=\"py-3 px-4 text-center text-white\">{item.requestedQty}</td>\n                  <td className=\"py-3 px-4 text-center text-white\">{item.shippedQty || '-'}</td>\n                  <td className=\"py-3 px-4 text-center\">\n                    {item.receivedQty > 0 ? (\n                      <span className={item.receivedQty < item.shippedQty ? 'text-amber-400' : 'text-white'}>\n                        {item.receivedQty}\n                        {item.receivedQty < item.shippedQty && (\n                          <span className=\"text-red-400 ml-1\">\n                            ({item.receivedQty - item.shippedQty})\n                          </span>\n                        )}\n                      </span>\n                    ) : (\n                      '-'\n                    )}\n                  </td>\n                  <td className=\"py-3 px-4 text-center\">{getItemStatusBadge(item.status)}</td>\n                </tr>\n              ))}\n            </tbody>\n            <tfoot>\n              <tr className=\"border-t border-slate-700\">\n                <td colSpan={2} className=\"py-3 px-4 text-sm font-medium text-slate-400\">\n                  Total ({transfer.items.length} item{transfer.items.length !== 1 ? 's' : ''})\n                </td>\n                <td className=\"py-3 px-4 text-center font-semibold text-white\">{totals.requested}</td>\n                <td className=\"py-3 px-4 text-center font-semibold text-white\">{totals.shipped || '-'}</td>\n                <td className=\"py-3 px-4 text-center font-semibold text-white\">{totals.received || '-'}</td>\n                <td></td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      </div>\n\n      {/* Notes */}\n      {transfer.notes && (\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6\">\n          <h2 className=\"text-lg font-semibold text-white mb-3\">Notes</h2>\n          <p className=\"text-slate-300\">{transfer.notes}</p>\n        </div>\n      )}\n\n      {/* Ship Modal */}\n      {showShipModal && (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4\">\n            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\" onClick={() => setShowShipModal(false)}></div>\n            <div className=\"relative bg-slate-900 border border-slate-700/50 rounded-2xl shadow-2xl w-full max-w-2xl\">\n              <div className=\"flex items-center justify-between p-6 border-b border-slate-700/50\">\n                <div>\n                  <h2 className=\"text-xl font-bold text-white\">Ship Transfer</h2>\n                  <p className=\"text-sm text-slate-400\">Confirm quantities being shipped</p>\n                </div>\n                <button\n                  onClick={() => setShowShipModal(false)}\n                  className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors\"\n                >\n                  <i className=\"fas fa-times\"></i>\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4 max-h-[60vh] overflow-y-auto\">\n                <div className=\"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 flex items-start gap-3\">\n                  <i className=\"fas fa-info-circle text-blue-400 mt-0.5\"></i>\n                  <div className=\"text-sm text-blue-300\">\n                    <p className=\"font-medium\">Shipping will deduct inventory</p>\n                    <p className=\"text-blue-400\">Stock will be removed from <span className=\"font-medium\">{transfer.fromLocationName}</span></p>\n                  </div>\n                </div>\n\n                {transfer.items.map((item) => (\n                  <div key={item.productId} className=\"flex items-center justify-between p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg\">\n                    <div>\n                      <div className=\"text-white font-medium\">{item.productName}</div>\n                      <div className=\"text-sm text-slate-400\">{item.sku}</div>\n                    </div>\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-sm text-slate-400\">Requested: {item.requestedQty}</span>\n                      <input\n                        type=\"number\"\n                        min={0}\n                        max={item.requestedQty}\n                        value={shipQuantities[item.productId] || 0}\n                        onChange={(e) => setShipQuantities({\n                          ...shipQuantities,\n                          [item.productId]: Math.min(parseInt(e.target.value) || 0, item.requestedQty),\n                        })}\n                        className=\"w-20 bg-slate-700/50 border border-slate-600 rounded px-3 py-2 text-white text-center focus:outline-none focus:border-emerald-500\"\n                      />\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"flex items-center justify-end gap-3 p-6 border-t border-slate-700/50\">\n                <button\n                  onClick={() => setShowShipModal(false)}\n                  className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleShipTransfer}\n                  className=\"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n                >\n                  <i className=\"fas fa-truck\"></i>\n                  Confirm Ship\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Receive Modal */}\n      {showReceiveModal && (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4\">\n            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\" onClick={() => setShowReceiveModal(false)}></div>\n            <div className=\"relative bg-slate-900 border border-slate-700/50 rounded-2xl shadow-2xl w-full max-w-2xl\">\n              <div className=\"flex items-center justify-between p-6 border-b border-slate-700/50\">\n                <div>\n                  <h2 className=\"text-xl font-bold text-white\">Receive Transfer</h2>\n                  <p className=\"text-sm text-slate-400\">Enter quantities received at destination</p>\n                </div>\n                <button\n                  onClick={() => setShowReceiveModal(false)}\n                  className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors\"\n                >\n                  <i className=\"fas fa-times\"></i>\n                </button>\n              </div>\n\n              <div className=\"p-6 space-y-4 max-h-[60vh] overflow-y-auto\">\n                <div className=\"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4 flex items-start gap-3\">\n                  <i className=\"fas fa-info-circle text-emerald-400 mt-0.5\"></i>\n                  <div className=\"text-sm text-emerald-300\">\n                    <p className=\"font-medium\">Receiving will add inventory</p>\n                    <p className=\"text-emerald-400\">Stock will be added to <span className=\"font-medium\">{transfer.toLocationName}</span></p>\n                  </div>\n                </div>\n\n                {transfer.items.map((item) => {\n                  const receivedQty = receiveQuantities[item.productId] || 0;\n                  const isShort = receivedQty < item.shippedQty;\n                  return (\n                    <div key={item.productId} className={`flex items-center justify-between p-4 bg-slate-800/50 border rounded-lg ${isShort ? 'border-amber-500/50' : 'border-slate-700/50'}`}>\n                      <div>\n                        <div className=\"text-white font-medium\">{item.productName}</div>\n                        <div className=\"text-sm text-slate-400\">{item.sku}</div>\n                      </div>\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"text-sm text-slate-400\">Shipped: {item.shippedQty}</span>\n                        <input\n                          type=\"number\"\n                          min={0}\n                          max={item.shippedQty}\n                          value={receivedQty}\n                          onChange={(e) => setReceiveQuantities({\n                            ...receiveQuantities,\n                            [item.productId]: Math.min(parseInt(e.target.value) || 0, item.shippedQty),\n                          })}\n                          className={`w-20 bg-slate-700/50 border rounded px-3 py-2 text-white text-center focus:outline-none ${\n                            isShort ? 'border-amber-500' : 'border-slate-600 focus:border-emerald-500'\n                          }`}\n                        />\n                        {isShort && (\n                          <span className=\"text-amber-400 text-sm\">\n                            <i className=\"fas fa-exclamation-triangle mr-1\"></i>\n                            Short\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n\n                {/* Summary of short items */}\n                {Object.keys(receiveQuantities).some(productId => {\n                  const item = transfer.items.find(i => i.productId === productId);\n                  return item && (receiveQuantities[productId] || 0) < item.shippedQty;\n                }) && (\n                  <div className=\"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 flex items-start gap-3\">\n                    <i className=\"fas fa-exclamation-triangle text-amber-400 mt-0.5\"></i>\n                    <div className=\"text-sm text-amber-300\">\n                      <p className=\"font-medium\">Some items are short</p>\n                      <p className=\"text-amber-400\">The quantities will be recorded but may require investigation.</p>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex items-center justify-end gap-3 p-6 border-t border-slate-700/50\">\n                <button\n                  onClick={() => setShowReceiveModal(false)}\n                  className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleReceiveTransfer}\n                  className=\"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n                >\n                  <i className=\"fas fa-check\"></i>\n                  Confirm Receive\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Cancel Confirmation Modal */}\n      {showCancelConfirm && (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4\">\n            <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\" onClick={() => setShowCancelConfirm(false)}></div>\n            <div className=\"relative bg-slate-900 border border-slate-700/50 rounded-2xl shadow-2xl w-full max-w-md\">\n              <div className=\"p-6 text-center\">\n                <div className=\"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-exclamation-triangle text-red-400 text-2xl\"></i>\n                </div>\n                <h2 className=\"text-xl font-bold text-white mb-2\">Cancel Transfer?</h2>\n                <p className=\"text-slate-400 mb-6\">\n                  {transfer.status === 'in_transit'\n                    ? 'This transfer is in transit. Cancelling will restore the shipped quantities to the source location.'\n                    : 'Are you sure you want to cancel this transfer?'}\n                </p>\n                <div className=\"flex items-center justify-center gap-3\">\n                  <button\n                    onClick={() => setShowCancelConfirm(false)}\n                    className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors\"\n                  >\n                    Keep Transfer\n                  </button>\n                  <button\n                    onClick={handleCancelTransfer}\n                    className=\"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors\"\n                  >\n                    Cancel Transfer\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}