module.exports=[47831,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(98263),f=a.i(34904),g=a.i(12466),h=a.i(47084),i=a.i(89697),j=a.i(57581);a.i(94660);var k=a.i(67668),l=a.i(93847),m=a.i(1027),n=a.i(15618),o=a.i(70106);let p=(0,o.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var q=a.i(81560),r=a.i(69012),s=a.i(25015),t=a.i(210),u=a.i(87532),v=a.i(38784),w=a.i(19256),x=a.i(73570),y=a.i(62143),z=a.i(41710),A=a.i(25483),B=a.i(5784);let C=(0,o.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),D=(0,o.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),E={order_created:v.ShoppingCart,order_status_changed:w.ArrowLeftRight,low_stock:x.AlertTriangle,item_received:y.PackageCheck,daily:z.Clock,manual:A.Hand};function F(){let{state:a,dispatch:o}=(0,e.useApp)(),{success:v,error:w}=(0,i.useToast)(),x=(0,j.useConfirm)(),[y,z]=(0,c.useState)(!1),[A,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)("all"),[K,L]=(0,c.useState)("all"),[M,N]=(0,c.useState)(null),O=(0,c.useMemo)(()=>a.automationRules.filter(a=>{if(G){let b=G.toLowerCase(),c=a.name.toLowerCase().includes(b),d=a.description?.toLowerCase().includes(b);if(!c&&!d)return!1}return("active"!==I||!!a.enabled)&&("disabled"!==I||!a.enabled)&&("all"===K||a.trigger.type===K)}).sort((a,b)=>a.priority-b.priority),[a.automationRules,G,I,K]),P=(0,c.useMemo)(()=>{let b=a.automationRules.length,c=a.automationRules.filter(a=>a.enabled).length;return{total:b,active:c,disabled:b-c}},[a.automationRules]),Q=()=>{F(null),z(!0)},R=a=>{F(a),z(!0)},S=async a=>{await x({title:"Delete Rule",message:`Delete "${a.name}"? This action cannot be undone.`,confirmText:"Delete",destructive:!0})&&(o({type:"DELETE_AUTOMATION_RULE",payload:a.id}),v(`Rule "${a.name}" deleted`))};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/settings",className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(t.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Automation Rules"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Automate repetitive warehouse tasks"})]})]}),(0,b.jsxs)(g.Button,{onClick:Q,children:[(0,b.jsx)(n.Plus,{className:"w-4 h-4"}),"Create Rule"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(f.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center",children:(0,b.jsx)(m.Zap,{className:"w-5 h-5 text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:P.total}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Total Rules"})]})]})}),(0,b.jsx)(f.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:(0,b.jsx)(s.Play,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-emerald-400",children:P.active}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Active"})]})]})}),(0,b.jsx)(f.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center",children:(0,b.jsx)(r.Filter,{className:"w-5 h-5 text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-400",children:P.disabled}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Disabled"})]})]})})]}),(0,b.jsx)(f.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:G,onChange:a=>H(a.target.value),placeholder:"Search rules...",className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,b.jsxs)("select",{value:I,onChange:a=>J(a.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500/50",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"active",children:"Active Only"}),(0,b.jsx)("option",{value:"disabled",children:"Disabled Only"})]}),(0,b.jsxs)("select",{value:K,onChange:a=>L(a.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500/50",children:[(0,b.jsx)("option",{value:"all",children:"All Triggers"}),(0,b.jsx)("option",{value:"order_created",children:"New Order"}),(0,b.jsx)("option",{value:"order_status_changed",children:"Status Change"}),(0,b.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,b.jsx)("option",{value:"item_received",children:"Item Received"}),(0,b.jsx)("option",{value:"daily",children:"Daily Schedule"}),(0,b.jsx)("option",{value:"manual",children:"Manual"})]})]})}),0===O.length?(0,b.jsxs)(f.Card,{className:"p-12 text-center",children:[(0,b.jsx)(m.Zap,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:0===a.automationRules.length?"No automation rules yet":"No rules match your filters"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:0===a.automationRules.length?"Create your first automation rule to streamline your warehouse operations":"Try adjusting your search or filters"}),0===a.automationRules.length&&(0,b.jsxs)(g.Button,{onClick:Q,children:[(0,b.jsx)(n.Plus,{className:"w-4 h-4"}),"Create Your First Rule"]})]}):(0,b.jsx)("div",{className:"space-y-3",children:O.map(a=>{let c=E[a.trigger.type]||m.Zap,d=M===a.id;return(0,b.jsx)(f.Card,{className:`overflow-hidden transition-all ${a.enabled?"border-emerald-500/30":"border-slate-700/50"}`,children:(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,b.jsx)("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${a.enabled?"bg-emerald-500/20":"bg-slate-700/50"}`,children:(0,b.jsx)(c,{className:`w-5 h-5 ${a.enabled?"text-emerald-400":"text-slate-400"}`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"font-medium text-white",children:a.name}),a.enabled?(0,b.jsx)("span",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-400 text-xs rounded-full",children:"Active"}):(0,b.jsx)("span",{className:"px-2 py-0.5 bg-slate-600/50 text-slate-400 text-xs rounded-full",children:"Disabled"}),(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-slate-700/50 text-slate-400 text-xs rounded",children:["Priority: ",a.priority]})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1 line-clamp-1",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(m.Zap,{className:"w-3 h-3"}),(0,l.getTriggerLabel)(a.trigger)]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(r.Filter,{className:"w-3 h-3"}),a.conditions.length," condition",1!==a.conditions.length?"s":""]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(s.Play,{className:"w-3 h-3"}),a.actions.length," action",1!==a.actions.length?"s":""]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Toggle,{checked:a.enabled,onChange:()=>{o({type:"TOGGLE_RULE",payload:a.id}),v(`Rule "${a.name}" ${a.enabled?"disabled":"enabled"}`)}}),(0,b.jsx)("button",{onClick:()=>{var b;N(M===(b=a.id)?null:b)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:d?(0,b.jsx)(C,{className:"w-4 h-4"}):(0,b.jsx)(B.ChevronDown,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>R(a),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(p,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>S(a),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(q.Trash2,{className:"w-4 h-4"})})]})]}),d&&(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-medium text-slate-400 uppercase mb-2",children:"Conditions"}),0===a.conditions.length?(0,b.jsx)("p",{className:"text-sm text-slate-500 italic",children:"No conditions - runs for all triggers"}):(0,b.jsx)("div",{className:"space-y-1",children:a.conditions.map((a,c)=>(0,b.jsxs)("div",{className:"text-sm text-slate-300",children:[c>0&&(0,b.jsx)("span",{className:"text-slate-500 mr-1",children:"AND"}),(0,b.jsx)("span",{className:"text-white",children:a.field}),(0,b.jsx)("span",{className:"text-slate-400 mx-1",children:a.operator.replace("_"," ")}),(0,b.jsx)("span",{className:"text-emerald-400",children:String(a.value)})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-medium text-slate-400 uppercase mb-2",children:"Actions"}),(0,b.jsx)("div",{className:"space-y-1",children:a.actions.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(s.Play,{className:"w-3 h-3 text-emerald-400"}),(0,b.jsx)("span",{className:"text-slate-300",children:(0,l.getActionLabel)(a)})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-slate-700/50",children:[(0,b.jsxs)(g.Button,{variant:"secondary",size:"sm",onClick:()=>{v(`Rule "${a.name}" triggered manually`)},children:[(0,b.jsx)(s.Play,{className:"w-4 h-4"}),"Run Now"]}),(0,b.jsxs)(g.Button,{variant:"secondary",size:"sm",onClick:()=>{let b;o({type:"ADD_AUTOMATION_RULE",payload:b={...a,id:crypto.randomUUID(),name:`${a.name} (Copy)`,enabled:!1,createdAt:new Date,updatedAt:new Date}}),v(`Rule duplicated as "${b.name}"`)},children:[(0,b.jsx)(D,{className:"w-4 h-4"}),"Duplicate"]}),(0,b.jsxs)(g.Button,{variant:"secondary",size:"sm",onClick:()=>R(a),children:[(0,b.jsx)(p,{className:"w-4 h-4"}),"Edit"]})]})]})]})},a.id)})}),(0,b.jsx)(f.Card,{className:"p-4 bg-blue-500/10 border-blue-500/30",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:(0,b.jsx)(m.Zap,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-white",children:"How Automation Rules Work"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Rules are evaluated in priority order (lowest first). When a trigger event occurs (like a new order), the system checks each rule's conditions. If conditions are met, all actions are executed automatically. Use rules to automate carrier assignment, order tagging, notifications, and more."})]})]})}),(0,b.jsx)(k.AutomationRuleModal,{isOpen:y,onClose:()=>z(!1),editRule:A})]})}a.s(["default",()=>F],47831)}];

//# sourceMappingURL=app_%28dashboard%29_settings_automations_page_tsx_f8451d6d._.js.map