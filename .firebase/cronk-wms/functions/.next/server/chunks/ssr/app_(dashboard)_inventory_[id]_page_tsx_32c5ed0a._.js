module.exports=[61092,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);a.i(69387);var f=a.i(60574),g=a.i(18740),h=a.i(90761),i=a.i(98263),j=a.i(39634),k=a.i(25641);function l({children:a,permission:c,type:d="cost",placeholder:e="â€¢â€¢â€¢â€¢â€¢",placeholderClassName:f=""}){let{can:g,canViewCosts:h,canViewFinancials:i,canViewRevenue:k}=(0,j.usePermissions)(),l=!1;if(c)l=g(c);else switch(d){case"cost":default:l=h;break;case"revenue":l=k;break;case"profit":case"margin":case"financial":l=i}return l?(0,b.jsx)(b.Fragment,{children:a}):(0,b.jsx)("span",{className:`text-slate-500 select-none ${f}`,title:"You don't have permission to view this",children:e})}function m({children:a,placeholder:c}){return(0,b.jsx)(l,{type:"cost",placeholder:c,children:a})}function n({children:a,placeholder:c}){return(0,b.jsx)(l,{type:"margin",placeholder:c,children:a})}var o=a.i(89697),p=a.i(57581),q=a.i(12466),r=a.i(68726),s=a.i(49611),t=a.i(88860);a.i(56298);var u=a.i(11954);a.i(60121);var v=a.i(5420),w=a.i(53131);function x({productId:a,images:d=[],onImagesChange:e,maxImages:i=10}){let{user:j}=(0,w.useAuth)(),{organization:k}=(0,h.useOrganization)(),{success:l,error:m}=(0,o.useToast)(),n=(0,c.useRef)(null),[p,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(0),[u,x]=(0,c.useState)(!1),y=async b=>{if(!b||0===b.length||!k?.id||!j)return;if(d.length+b.length>i)return void m(`Maximum ${i} images allowed`);r(!0),t(0);let c=[];try{for(let e=0;e<b.length;e++){let f=b[e];if(!f.type.startsWith("image/")){m(`${f.name} is not an image`);continue}if(f.size>5242880){m(`${f.name} is too large (max 5MB)`);continue}let h=Date.now(),i=f.name.replace(/[^a-zA-Z0-9.-]/g,"_"),l=`${h}_${i}`,n=`organizations/${k.id}/products/${a}/images/${l}`,o=(0,v.ref)(g.storage,n);await (0,v.uploadBytes)(o,f);let p=await (0,v.getDownloadURL)(o),q={id:`img_${h}_${e}`,url:p,thumbnailUrl:p,filename:l,size:f.size,isPrimary:0===d.length&&0===e,uploadedAt:new Date().toISOString(),uploadedBy:j.uid};c.push(q),t((e+1)/b.length*100)}if(c.length>0){let b=[...d,...c],h=(0,f.doc)(g.db,"organizations",k.id,"products",a);await (0,f.updateDoc)(h,{images:b,thumbnail:b.find(a=>a.isPrimary)?.thumbnailUrl||b[0]?.thumbnailUrl||null}),e?.(b),l(`${c.length} image${c.length>1?"s":""} uploaded`)}}catch(a){console.error("Upload error:",a),m("Failed to upload images")}finally{r(!1),t(0)}},z=async b=>{if(k?.id&&confirm("Delete this image?"))try{let c=`organizations/${k.id}/products/${a}/images/${b.filename}`,h=(0,v.ref)(g.storage,c);try{await (0,v.deleteObject)(h)}catch(a){console.warn("Could not delete from storage:",a)}let i=d.filter(a=>a.id!==b.id);b.isPrimary&&i.length>0&&(i[0].isPrimary=!0);let j=(0,f.doc)(g.db,"organizations",k.id,"products",a);await (0,f.updateDoc)(j,{images:i,thumbnail:i.find(a=>a.isPrimary)?.thumbnailUrl||null}),e?.(i),l("Image deleted")}catch(a){console.error("Delete error:",a),m("Failed to delete image")}},A=async b=>{if(k?.id&&!b.isPrimary)try{let c=d.map(a=>({...a,isPrimary:a.id===b.id})),h=(0,f.doc)(g.db,"organizations",k.id,"products",a);await (0,f.updateDoc)(h,{images:c,thumbnail:b.thumbnailUrl}),e?.(c),l("Primary image updated")}catch(a){console.error("Error setting primary:",a),m("Failed to update primary image")}};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-colors ${u?"border-emerald-500 bg-emerald-500/10":"border-slate-700 hover:border-slate-600"} ${p?"opacity-50 pointer-events-none":""}`,onDrop:a=>{a.preventDefault(),x(!1),y(a.dataTransfer.files)},onDragOver:a=>{a.preventDefault(),x(!0)},onDragLeave:()=>x(!1),children:[p?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("i",{className:"fas fa-spinner fa-spin text-2xl text-emerald-400"}),(0,b.jsxs)("p",{className:"text-slate-400",children:["Uploading... ",Math.round(s),"%"]}),(0,b.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden max-w-xs mx-auto",children:(0,b.jsx)("div",{className:"h-full bg-emerald-500 transition-all",style:{width:`${s}%`}})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-cloud-upload-alt text-3xl text-slate-500 mb-3"}),(0,b.jsx)("p",{className:"text-white mb-1",children:"Drag and drop images here"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mb-3",children:"or"}),(0,b.jsxs)(q.Button,{variant:"secondary",size:"sm",onClick:()=>n.current?.click(),children:[(0,b.jsx)("i",{className:"fas fa-folder-open mr-2"}),"Browse Files"]}),(0,b.jsxs)("p",{className:"text-slate-500 text-xs mt-3",children:["JPG, PNG, WebP - Max 5MB - Up to ",i," images"]})]}),(0,b.jsx)("input",{ref:n,type:"file",accept:"image/*",multiple:!0,onChange:a=>y(a.target.files),className:"hidden"})]}),d.length>0&&(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:d.map(a=>(0,b.jsxs)("div",{className:`relative group rounded-lg overflow-hidden border-2 aspect-square ${a.isPrimary?"border-emerald-500":"border-slate-700"}`,children:[(0,b.jsx)("img",{src:a.thumbnailUrl||a.url,alt:"Product",className:"w-full h-full object-cover"}),a.isPrimary&&(0,b.jsx)("div",{className:"absolute top-2 left-2 px-2 py-0.5 bg-emerald-500 text-white text-xs rounded",children:"Primary"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[!a.isPrimary&&(0,b.jsx)("button",{onClick:()=>A(a),className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",title:"Set as primary",children:(0,b.jsx)("i",{className:"fas fa-star text-white"})}),(0,b.jsx)("button",{onClick:()=>window.open(a.url,"_blank"),className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",title:"View full size",children:(0,b.jsx)("i",{className:"fas fa-expand text-white"})}),(0,b.jsx)("button",{onClick:()=>z(a),className:"p-2 bg-red-500/50 hover:bg-red-500/70 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)("i",{className:"fas fa-trash text-white"})})]})]},a.id))}),0===d.length&&!p&&(0,b.jsx)("p",{className:"text-center text-slate-500 text-sm py-4",children:"No images uploaded yet"})]})}let y={USD:"$",CAD:"C$",EUR:"â‚¬",GBP:"Â£",MXN:"MX$",AUD:"A$"},z={CA:"ðŸ‡¨ðŸ‡¦",US:"ðŸ‡ºðŸ‡¸",CN:"ðŸ‡¨ðŸ‡³",MX:"ðŸ‡²ðŸ‡½",DE:"ðŸ‡©ðŸ‡ª",GB:"ðŸ‡¬ðŸ‡§"};function A(){let a=(0,d.useParams)(),l=(0,d.useRouter)(),v=a.id,{organization:w}=(0,h.useOrganization)(),{state:A,dispatch:B}=(0,i.useApp)(),{canViewCosts:C,canEditProducts:D}=(0,j.usePermissions)(),{success:E,error:F}=(0,o.useToast)(),G=(0,p.useConfirm)(),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)("overview"),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),P=A.products.find(a=>a.id===v);(0,c.useEffect)(()=>{w?.id&&(async()=>{try{let a=(0,f.doc)(g.db,"organizations",w.id),b=await (0,f.getDoc)(a);b.exists()&&I(b.data().customPriceFields||[])}catch(a){console.error("Error loading custom price fields:",a)}})()},[w?.id]);let Q=(0,c.useMemo)(()=>P?A.locations.map(a=>{let b=A.inventory.find(b=>b.productId===P.id&&b.locationId===a.id);return{locationId:a.id,locationName:a.name,locationType:a.type,quantity:b?.quantity||0}}):[],[P,A.locations,A.inventory]),R=Q.reduce((a,b)=>a+b.quantity,0),S=!!P&&R<=P.reorderPoint,T=0===R,U=async()=>{!P||await G({title:"Delete Product",message:`Are you sure you want to delete "${P.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",destructive:!0})&&(B({type:"DELETE_PRODUCT",payload:P.id}),E(`Product "${P.name}" deleted successfully`),l.push("/inventory"))},V=(a,b)=>0===a?0:(a-b)/a*100;if(!P)return(0,b.jsx)("main",{className:"flex-1 overflow-auto flex items-center justify-center p-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("i",{className:"fas fa-box-open text-2xl text-slate-500"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Product Not Found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"This product doesn't exist or was deleted."}),(0,b.jsx)(e.default,{href:"/inventory",children:(0,b.jsxs)(q.Button,{variant:"secondary",children:[(0,b.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to Inventory"]})})]})});let W=T?{label:"Out of Stock",color:"red"}:S?{label:"Low Stock",color:"amber"}:{label:"In Stock",color:"emerald"};(0,u.getCategoryStyle)(P.category);let X=P.cost?.rolling||0,Y=P.prices?.msrp||0,Z=P.customPrices,$=(0,c.useMemo)(()=>Z?H.reduce((a,b)=>{let c=b.currency;a[c]||(a[c]=[]);let d=Z[b.key];return d&&a[c].push({field:b,value:d.value}),a},{}):{},[H,Z]),_=[{channel:"MSRP",price:P.prices?.msrp||0,cogs:X,margin:V(P.prices?.msrp||0,X)},{channel:"Shopify",icon:"fab fa-shopify",iconColor:"text-green-400",price:P.prices?.shopify||0,cogs:X,margin:V(P.prices?.shopify||0,X)},{channel:"Amazon",icon:"fab fa-amazon",iconColor:"text-orange-400",price:P.prices?.amazon||0,cogs:X,margin:V(P.prices?.amazon||0,X)},{channel:"Wholesale",icon:"fas fa-store",iconColor:"text-blue-400",price:P.prices?.wholesale||0,cogs:X,margin:V(P.prices?.wholesale||0,X)},{channel:"Distributor",icon:"fas fa-truck",iconColor:"text-purple-400",price:P.prices?.distributor||0,cogs:X,margin:V(P.prices?.distributor||0,X)}];return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("button",{onClick:()=>l.push("/inventory"),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors mt-1",children:(0,b.jsx)("i",{className:"fas fa-arrow-left"})}),(0,b.jsx)("div",{className:"w-20 h-20 bg-slate-800 rounded-xl flex items-center justify-center border border-slate-700",children:(0,b.jsx)(u.CategoryIcon,{category:P.category,size:"lg"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:P.name}),(0,b.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs bg-${W.color}-500/20 text-${W.color}-400`,children:W.label})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-400",children:["SKU: ",(0,b.jsx)("span",{className:"text-white font-mono",children:P.sku})]}),P.barcode&&(0,b.jsxs)("span",{className:"text-slate-400",children:["UPC: ",(0,b.jsx)("span",{className:"text-white font-mono",children:P.barcode})]}),(0,b.jsxs)("span",{className:"text-slate-400",children:["Category: ",(0,b.jsx)("span",{className:"text-white capitalize",children:P.category?.replace("_"," ")})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.PermissionGate,{permission:"products.edit",children:(0,b.jsxs)(q.Button,{variant:"secondary",onClick:()=>M(!0),children:[(0,b.jsx)("i",{className:"fas fa-pencil mr-2"}),"Edit"]})}),(0,b.jsx)(k.PermissionGate,{permission:"products.delete",children:(0,b.jsxs)(q.Button,{variant:"ghost",onClick:U,children:[(0,b.jsx)("i",{className:"fas fa-trash mr-2 text-red-400"}),"Delete"]})})]})]}),(0,b.jsx)("div",{className:"border-b border-slate-700",children:(0,b.jsx)("div",{className:"flex gap-6",children:[{key:"overview",label:"Overview",icon:"fa-chart-line"},{key:"images",label:"Images",icon:"fa-images"},{key:"pricing",label:"Pricing",icon:"fa-tags"},{key:"supplier",label:"Supplier",icon:"fa-truck-loading"},{key:"inventory",label:"Inventory",icon:"fa-warehouse"},{key:"history",label:"History",icon:"fa-clock-rotate-left"}].map(a=>(0,b.jsxs)("button",{onClick:()=>K(a.key),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${J===a.key?"border-emerald-500 text-emerald-400":"border-transparent text-slate-400 hover:text-white"}`,children:[(0,b.jsx)("i",{className:`fas ${a.icon}`}),a.label]},a.key))})}),"overview"===J&&(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-3",children:"Description"}),(0,b.jsx)("p",{className:"text-slate-300",children:P.description||"No description provided."})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Physical Attributes"}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Weight"}),(0,b.jsx)("div",{className:"text-white font-medium",children:P.weight?`${P.weight.value} ${P.weight.unit||"oz"}`:"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Length"}),(0,b.jsx)("div",{className:"text-white font-medium",children:P.dimensions?.length?`${P.dimensions.length}"`:"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Width"}),(0,b.jsx)("div",{className:"text-white font-medium",children:P.dimensions?.width?`${P.dimensions.width}"`:"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Height"}),(0,b.jsx)("div",{className:"text-white font-medium",children:P.dimensions?.height?`${P.dimensions.height}"`:"-"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Customs & Compliance"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"HS Code"}),(0,b.jsx)("div",{className:"text-white font-mono",children:P.hsCode||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Country of Origin"}),(0,b.jsx)("div",{className:"text-white",children:P.countryOfOrigin?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[z[P.countryOfOrigin]||""," ",P.countryOfOrigin]}):"-"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Units of Measure"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Base Unit"}),(0,b.jsx)("div",{className:"text-white",children:P.uom||"Each"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Purchase Unit"}),(0,b.jsx)("div",{className:"text-white",children:P.purchasingUom||"Case"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Units per Case"}),(0,b.jsx)("div",{className:"text-white",children:P.casePackQty||"-"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:`bg-slate-800/50 border rounded-xl p-5 ${S?"border-amber-500/30":"border-slate-700"}`,children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Stock Summary"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Total Stock"}),(0,b.jsx)("span",{className:`font-semibold ${T?"text-red-400":S?"text-amber-400":"text-white"}`,children:(0,t.formatNumber)(R)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Reorder Point"}),(0,b.jsx)("span",{className:"text-white",children:(0,t.formatNumber)(P.reorderPoint)})]})]}),(0,b.jsx)("button",{onClick:()=>K("inventory"),className:"w-full mt-4 text-sm text-emerald-400 hover:text-emerald-300",children:"View inventory details â†’"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Pricing"}),(0,b.jsxs)("div",{className:"space-y-3",children:[C&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Cost"}),(0,b.jsx)(m,{children:(0,b.jsx)("span",{className:"text-white font-semibold",children:(0,t.formatCurrency)(X)})})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Retail (MSRP)"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:(0,t.formatCurrency)(Y)})]}),C&&X>0&&Y>0&&(0,b.jsxs)("div",{className:"flex justify-between pt-2 border-t border-slate-700",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Margin"}),(0,b.jsx)(n,{children:(0,b.jsxs)("span",{className:"text-emerald-400 font-semibold",children:[V(Y,X).toFixed(1),"%"]})})]})]}),(0,b.jsx)("button",{onClick:()=>K("pricing"),className:"w-full mt-4 text-sm text-emerald-400 hover:text-emerald-300",children:"View all prices â†’"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Identifiers"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"SKU"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"text-white font-mono bg-slate-900/50 px-3 py-2 rounded-lg flex-1",children:P.sku}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(P.sku),E("SKU copied to clipboard")},className:"p-2 text-slate-400 hover:text-white",children:(0,b.jsx)("i",{className:"fas fa-copy"})})]})]}),P.barcode&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Barcode / UPC"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"text-white font-mono bg-slate-900/50 px-3 py-2 rounded-lg flex-1",children:P.barcode}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(P.barcode||""),E("Barcode copied to clipboard")},className:"p-2 text-slate-400 hover:text-white",children:(0,b.jsx)("i",{className:"fas fa-copy"})})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.PermissionGate,{permission:"inventory.adjust_stock",children:(0,b.jsxs)("button",{onClick:()=>O(!0),className:"w-full px-4 py-2.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg text-sm flex items-center gap-2 transition-colors",children:[(0,b.jsx)("i",{className:"fas fa-plus-minus w-5 text-center"}),"Adjust Stock"]})}),(0,b.jsxs)("button",{className:"w-full px-4 py-2.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg text-sm flex items-center gap-2 transition-colors",children:[(0,b.jsx)("i",{className:"fas fa-file-invoice w-5 text-center"}),"Create Purchase Order"]}),(0,b.jsxs)("button",{className:"w-full px-4 py-2.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg text-sm flex items-center gap-2 transition-colors",children:[(0,b.jsx)("i",{className:"fas fa-exchange-alt w-5 text-center"}),"Transfer Stock"]})]})]})]})]}),"images"===J&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:"Product Images"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Upload images for pick lists, packing slips, and product identification"})]}),(0,b.jsxs)("span",{className:"text-sm text-slate-500",children:[P.images?.length||0," / 10 images"]})]}),(0,b.jsx)(x,{productId:P.id,images:P.images||[],onImagesChange:()=>{}})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("i",{className:"fas fa-info-circle text-blue-400 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-blue-300 font-medium",children:"Where images are used"}),(0,b.jsxs)("ul",{className:"text-slate-400 mt-2 space-y-1",children:[(0,b.jsxs)("li",{children:["- ",(0,b.jsx)("strong",{className:"text-slate-300",children:"Pick Lists"})," - Help warehouse staff identify products"]}),(0,b.jsxs)("li",{children:["- ",(0,b.jsx)("strong",{className:"text-slate-300",children:"Packing Slips"})," - Show customers what's in their order"]}),(0,b.jsxs)("li",{children:["- ",(0,b.jsx)("strong",{className:"text-slate-300",children:"Product Catalog"})," - Display in inventory listings"]})]})]})]})})]}),"pricing"===J&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Standard Channel Pricing"}),(0,b.jsx)("div",{className:"space-y-3",children:_.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-700/50 last:border-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.icon&&(0,b.jsx)("i",{className:`${a.icon} ${a.iconColor}`}),(0,b.jsx)("span",{className:a.icon?"text-white":"text-slate-400",children:a.channel})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("span",{className:"text-white font-medium",children:(0,t.formatCurrency)(a.price)}),C&&a.price>0&&(0,b.jsx)(n,{children:(0,b.jsxs)("span",{className:`text-xs px-2 py-0.5 rounded-full ${a.margin>=50?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:[a.margin.toFixed(1),"%"]})})]})]},c))}),C&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-700",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Cost (COGS)"}),(0,b.jsx)(m,{children:(0,b.jsx)("span",{className:"text-white font-semibold",children:(0,t.formatCurrency)(X)})})]})})]}),Object.entries($).length>0?Object.entries($).map(([a,c])=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsxs)("h3",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-lg text-emerald-400",children:y[a]||"$"}),a," Custom Pricing"]}),(0,b.jsx)("div",{className:"space-y-3",children:c.map(({field:c,value:d})=>(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-slate-700/50 last:border-0",children:[(0,b.jsx)("span",{className:"text-slate-400",children:c.name}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[y[a],d.toFixed(2)]})]},c.key))})]},a)):(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Custom Pricing"}),(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,b.jsx)("i",{className:"fas fa-tags text-slate-500"})}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:"No custom prices set for this product."}),(0,b.jsx)(e.default,{href:"/settings/products",className:"text-emerald-400 text-sm hover:text-emerald-300",children:"Configure price fields â†’"})]})]})]}),"supplier"===J&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Supplier Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Supplier / Vendor"}),(0,b.jsx)("div",{className:"text-white font-medium text-lg",children:P.supplier||"No supplier assigned"})]}),P.supplierSku&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Vendor Product Code"}),(0,b.jsx)("div",{className:"text-white font-mono",children:P.supplierSku})]}),C&&P.supplierPrice&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Vendor Price"}),(0,b.jsx)(m,{children:(0,b.jsx)("div",{className:"text-white font-medium",children:(0,t.formatCurrency)(P.supplierPrice)})})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Purchasing Details"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Purchase Unit"}),(0,b.jsx)("div",{className:"text-white",children:P.purchasingUom||"Case"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Units per Case"}),(0,b.jsx)("div",{className:"text-white font-medium",children:P.casePackQty||"-"})]}),C&&P.casePackQty&&X>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Cost per Case"}),(0,b.jsx)(m,{children:(0,b.jsx)("div",{className:"text-white font-medium",children:(0,t.formatCurrency)(X*P.casePackQty)})})]})]})]})]}),"inventory"===J&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-5 py-4 border-b border-slate-700 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:"Stock by Location"}),(0,b.jsx)(k.PermissionGate,{permission:"inventory.adjust_stock",children:(0,b.jsxs)(q.Button,{variant:"secondary",size:"sm",onClick:()=>O(!0),children:[(0,b.jsx)("i",{className:"fas fa-plus-minus mr-2"}),"Adjust Stock"]})})]}),(0,b.jsxs)("div",{className:"p-5 space-y-3",children:[Q.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center",children:(0,b.jsx)("i",{className:`fas ${"fba"===a.locationType?"fa-amazon":"fa-warehouse"} text-slate-400`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-white",children:a.locationName}),(0,b.jsx)("div",{className:"text-xs text-slate-500 capitalize",children:a.locationType})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:`text-xl font-bold ${a.quantity>0?"text-white":"text-slate-500"}`,children:(0,t.formatNumber)(a.quantity)}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"units"})]})]},a.locationId)),(0,b.jsxs)("div",{className:"pt-4 mt-4 border-t border-slate-700",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Total Available"}),(0,b.jsx)("span",{className:`text-2xl font-bold ${T?"text-red-400":S?"text-amber-400":"text-white"}`,children:(0,t.formatNumber)(R)})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Reorder Point"}),(0,b.jsxs)("span",{className:"text-white",children:[(0,t.formatNumber)(P.reorderPoint)," units"]})]}),S&&!T&&(0,b.jsx)("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-amber-400 text-sm",children:[(0,b.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,b.jsx)("span",{children:"Stock is below reorder point"})]})})]})]})]}),C&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Inventory Value"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"At Cost"}),(0,b.jsx)(m,{children:(0,b.jsx)("div",{className:"text-xl font-bold text-white",children:(0,t.formatCurrency)(R*X)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"At Retail (MSRP)"}),(0,b.jsx)("div",{className:"text-xl font-bold text-white",children:(0,t.formatCurrency)(R*Y)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Potential Profit"}),(0,b.jsx)(m,{children:(0,b.jsx)("div",{className:"text-xl font-bold text-emerald-400",children:(0,t.formatCurrency)(R*(Y-X))})})]})]})]})]}),"history"===J&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-4",children:"Activity History"}),(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,b.jsx)("i",{className:"fas fa-clock-rotate-left text-slate-500"})}),(0,b.jsx)("p",{className:"text-slate-400 mb-2",children:"Stock movements and changes will be shown here."}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Coming soon"})]})]}),(0,b.jsx)(r.AddProductModal,{isOpen:L,onClose:()=>M(!1),editProduct:P}),(0,b.jsx)(s.AdjustStockModal,{isOpen:N,onClose:()=>O(!1),product:P})]})}a.s(["default",()=>A],61092)}];

//# sourceMappingURL=app_%28dashboard%29_inventory_%5Bid%5D_page_tsx_32c5ed0a._.js.map