module.exports=[11388,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11300),e=a.i(21161),f=a.i(10227),g=a.i(80032),h=a.i(83497),i=a.i(17545),j=a.i(33441),k=a.i(96221),l=a.i(15618);let m=(0,a.i(70106).default)("file-input",[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);var n=a.i(71931),o=a.i(33508),p=a.i(25015),q=a.i(87532),r=a.i(81560),s=a.i(98263),t=a.i(89697),u=a.i(91828);a.i(42390);var v=a.i(73736),w=a.i(77877);function x(){let{state:a,dispatch:x}=(0,s.useApp)(),{addToast:y}=(0,t.useToast)(),[z,A]=(0,c.useState)([{id:"fba-001",name:"FBA-2024-047",destination:"amazon_usa",destinationCode:"PHX5",destinationCity:"Phoenix, AZ",status:"prep",items:[{productId:"prod-1",productName:"1L Micro 5-0-1",sku:"CNMIC1L",quantity:144,prepped:144,casePacked:8},{productId:"prod-2",productName:"1L Bud Booster 0-1-3",sku:"CNBB1L",quantity:96,prepped:96,casePacked:5}],prepTasks:{stickers:!0,fnsku:!0,casePacked:!1,palletized:!1},shipByDate:new Date(Date.now()+1728e5),createdAt:new Date},{id:"fba-002",name:"FBA-2024-046",destination:"amazon_usa",destinationCode:"DFW7",destinationCity:"Dallas, TX",status:"ready",items:[{productId:"prod-3",productName:"1L CalMag 2-0-0",sku:"CNCM1L",quantity:144,prepped:144,casePacked:12},{productId:"prod-4",productName:"1L Grow 2-1-6",sku:"CNGR1L",quantity:48,prepped:48,casePacked:4}],prepTasks:{stickers:!0,fnsku:!0,casePacked:!0,palletized:!0},shipByDate:new Date(Date.now()+864e5),createdAt:new Date(Date.now()-1728e5)}]),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)("amazon_usa"),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)("UPS Freight"),[V,W]=(0,c.useState)(""),[X,Y]=(0,c.useState)(""),Z=(0,c.useMemo)(()=>{let a=z.filter(a=>"shipped"!==a.status),b=z.filter(a=>"prep"===a.status).length,c=z.filter(a=>"ready"===a.status).length,d=a.reduce((a,b)=>a+b.items.reduce((a,b)=>a+b.quantity,0),0),e=a.reduce((a,b)=>a+b.items.reduce((a,b)=>a+b.casePacked,0),0),f=z.filter(a=>"ready"===a.status).length;return{activeShipments:a.length,preppingCount:b,readyCount:c,unitsInPrep:d,casesPacked:e,palletsReady:f}},[z]),$=(0,c.useMemo)(()=>R?a.products.filter(a=>a.name.toLowerCase().includes(R.toLowerCase())||a.sku.toLowerCase().includes(R.toLowerCase())).slice(0,5):a.products.slice(0,5),[a.products,R]),_=b=>a.inventory.filter(a=>a.productId===b&&"loc-1"===a.locationId).reduce((a,b)=>a+b.quantity,0),aa=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"}),ab=(0,c.useMemo)(()=>{let a=P.reduce((a,b)=>a+b.quantity,0),b=Math.ceil(a/12),c=Math.ceil(b/20);return{totalUnits:a,totalCases:b,totalPallets:c,prepCost:.44*a}},[P]);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(u.Breadcrumb,{items:[{label:"Fulfillment",href:"/fulfillment"},{label:"FBA Prep"}]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)("i",{className:"fab fa-amazon text-orange-400 text-2xl"}),"FBA Prep"]}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Prepare and ship inventory to Amazon fulfillment centers"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2",children:[(0,b.jsx)(m,{className:"w-4 h-4"}),"Import from Seller Central"]}),(0,b.jsxs)("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,b.jsx)(l.Plus,{className:"w-4 h-4"}),"New FBA Shipment"]})]})]}),(0,b.jsxs)(v.FulfillmentStatsGrid,{columns:6,children:[(0,b.jsx)(v.FulfillmentStatCard,{icon:d.ClipboardList,iconColor:"orange",value:Z.activeShipments,label:"Active Shipments"}),(0,b.jsx)(v.FulfillmentStatCard,{icon:e.Settings,iconColor:"amber",value:Z.preppingCount,label:"Prepping"}),(0,b.jsx)(v.FulfillmentStatCard,{icon:f.Truck,iconColor:"blue",value:Z.readyCount,label:"Ready to Ship"}),(0,b.jsx)(v.FulfillmentStatCard,{icon:g.Box,iconColor:"slate",value:Z.unitsInPrep,label:"Units in Prep"}),(0,b.jsx)(v.FulfillmentStatCard,{icon:h.Package,iconColor:"slate",value:Z.casesPacked,label:"Cases Packed"}),(0,b.jsx)(v.FulfillmentStatCard,{icon:i.Layers,iconColor:"emerald",value:Z.palletsReady,label:"Pallets Ready"})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-6",children:z.filter(a=>"shipped"!==a.status).map(a=>{let c=a.items.reduce((a,b)=>a+b.quantity,0),d=a.items.reduce((a,b)=>a+b.prepped,0),e=a.items.reduce((a,b)=>a+b.casePacked,0),g=Math.ceil(c/12),i=.44*c;return(0,b.jsxs)("div",{className:`bg-slate-800/50 backdrop-blur border rounded-xl overflow-hidden ${"ready"===a.status?"border-blue-500/30":"border-amber-500/30"}`,children:[(0,b.jsxs)("div",{className:`px-5 py-4 border-b border-slate-700/50 flex items-center justify-between ${"ready"===a.status?"bg-blue-500/5":"bg-amber-500/5"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-orange-500/20 flex items-center justify-center",children:(0,b.jsx)("i",{className:"fab fa-amazon text-orange-400 text-xl"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-bold text-white",children:a.name}),(0,b.jsx)(w.FBAStatusBadge,{status:a.status})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)(w.AmazonDestinationBadge,{destination:a.destination,code:a.destinationCode}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:a.destinationCity})]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Ship By"}),(0,b.jsx)("div",{className:"text-lg font-bold text-white",children:aa(a.shipByDate)})]})]}),(0,b.jsxs)("div",{className:"p-5 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-400 mb-2",children:"CONTENTS"}),(0,b.jsx)("div",{className:"space-y-2",children:a.items.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-emerald-500/20 rounded flex items-center justify-center",children:(0,b.jsx)(h.Package,{className:"w-4 h-4 text-emerald-400"})}),(0,b.jsx)("span",{className:"text-white",children:a.productName})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("span",{className:"text-white font-medium",children:[a.quantity," units"]}),(0,b.jsxs)("span",{className:"text-slate-500 ml-2",children:[Math.ceil(a.quantity/12)," cases"]})]})]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Prep Progress"}),(0,b.jsxs)("span",{className:`font-medium ${"ready"===a.status?"text-emerald-400":"text-amber-400"}`,children:[d," / ",c," units"]})]}),(0,b.jsx)(v.ProgressBar,{current:d,total:c,colorClass:"ready"===a.status?"bg-emerald-500":"bg-amber-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-400 mb-2",children:"PREP TASKS"}),(0,b.jsx)("div",{className:"space-y-2",children:["stickers","fnsku","casePacked","palletized"].map(d=>{let f=a.prepTasks[d],h="casePacked"===d&&!a.prepTasks.fnsku||"palletized"===d&&!a.prepTasks.casePacked,i="casePacked"===d&&a.prepTasks.fnsku&&!f;return(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void A(a=>a.map(a=>{if(a.id!==b)return a;let c={...a.prepTasks,[d]:!a.prepTasks[d]},e=c.stickers&&c.fnsku&&c.casePacked&&c.palletized;return{...a,prepTasks:c,status:e?"ready":"prep"}}))},disabled:h,className:`w-full flex items-center justify-between text-sm p-2 rounded-lg transition-colors ${f?"bg-emerald-500/10":h?"bg-slate-800/30 opacity-50 cursor-not-allowed":i?"bg-amber-500/10 border border-amber-500/30 hover:bg-amber-500/20":"bg-slate-800/50 hover:bg-slate-700/50"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[f?(0,b.jsx)(j.Check,{className:"w-4 h-4 text-emerald-400"}):i?(0,b.jsx)(k.Loader2,{className:"w-4 h-4 text-amber-400 animate-spin"}):(0,b.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-slate-500"}),(0,b.jsx)("span",{className:f?"text-slate-300":i?"text-white":"text-slate-400",children:{stickers:"Apply Gripper Stickers",fnsku:"Apply FNSKU Labels",casePacked:"Pack into Cases",palletized:"Palletize"}[d]})]}),(0,b.jsx)("span",{className:f?"text-emerald-400":"text-slate-500",children:"casePacked"===d?`${e} / ${g} cases`:"palletized"===d?`${+!!f} / 1 pallet`:`${c} / ${c}`})]},d)})})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-xs text-slate-400 mb-2",children:"PREP COSTS (Est.)"}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-white font-medium",children:["$",(.32*c).toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Stickers"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-white font-medium",children:["$",(.04*c).toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"FNSKU"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-white font-medium",children:["$",(+g).toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Cases"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-emerald-400 font-medium",children:["$",i.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Total"})]})]})]}),"ready"===a.status?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{className:"px-4 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(n.Printer,{className:"w-4 h-4"}),"Print Labels"]}),(0,b.jsxs)("button",{onClick:()=>{I(a),G(!0)},className:"px-4 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(f.Truck,{className:"w-4 h-4"}),"Mark Shipped"]})]}):(0,b.jsxs)("button",{onClick:()=>{I(a),E(!0)},className:"w-full px-4 py-3 bg-amber-600 hover:bg-amber-500 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(p.Play,{className:"w-4 h-4"}),"Continue Prepping"]})]})]},a.id)})}),0===z.filter(a=>"shipped"!==a.status).length&&(0,b.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-12 text-center",children:[(0,b.jsx)("i",{className:"fab fa-amazon text-6xl text-orange-400/30 mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Active FBA Shipments"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Create a new shipment to start prepping inventory for Amazon"}),(0,b.jsxs)("button",{onClick:()=>C(!0),className:"px-6 py-3 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors inline-flex items-center gap-2",children:[(0,b.jsx)(l.Plus,{className:"w-5 h-5"}),"New FBA Shipment"]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-5 py-4 border-b border-slate-700/50 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"font-semibold text-white",children:"Case Pack Configuration"}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Standard case quantities for FBA shipments"})]}),(0,b.jsx)("button",{className:"text-sm text-orange-400 hover:text-orange-300",children:"Edit Configuration"})]}),(0,b.jsxs)("div",{className:"p-4 grid grid-cols-4 gap-4",children:[[{size:"500ml",color:"blue",units:12,weight:"~15 lbs/case"},{size:"1L",color:"emerald",units:12,weight:"~18 lbs/case"},{size:"4L",color:"purple",units:4,weight:"~20 lbs/case"}].map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center",children:[(0,b.jsx)("div",{className:`w-12 h-12 bg-${a.color}-500/20 rounded-lg flex items-center justify-center mx-auto mb-2`,children:(0,b.jsx)("span",{className:`text-${a.color}-400 font-bold`,children:a.size})}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:a.units}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"units/case"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:a.weight})]},a.size)),(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-amber-500/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,b.jsx)(i.Layers,{className:"w-5 h-5 text-amber-400"})}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:"4"}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"bundles/case"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Kitted first"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-5 py-4 border-b border-slate-700/50 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"font-semibold text-white",children:"Shipment History"}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Recent FBA shipments and their status"})]}),(0,b.jsx)("button",{className:"text-sm text-orange-400 hover:text-orange-300",children:"View All"})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700/50",children:(0,b.jsxs)("tr",{className:"text-left text-xs text-slate-400 uppercase tracking-wider",children:[(0,b.jsx)("th",{className:"px-4 py-3 font-medium",children:"Shipment ID"}),(0,b.jsx)("th",{className:"px-4 py-3 font-medium",children:"Destination"}),(0,b.jsx)("th",{className:"px-4 py-3 font-medium",children:"Units"}),(0,b.jsx)("th",{className:"px-4 py-3 font-medium",children:"Cases"}),(0,b.jsx)("th",{className:"px-4 py-3 font-medium",children:"Prep Cost"}),(0,b.jsx)("th",{className:"px-4 py-3 font-medium",children:"Ship Cost"}),(0,b.jsx)("th",{className:"px-4 py-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 font-medium",children:"Shipped"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-slate-700/50",children:[z.filter(a=>"shipped"===a.status).map(a=>{let c=a.items.reduce((a,b)=>a+b.quantity,0),d=Math.ceil(c/12);return(0,b.jsxs)("tr",{className:"hover:bg-slate-700/30 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3 font-mono text-sm text-white",children:a.name}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)(w.AmazonDestinationBadge,{destination:a.destination,code:a.destinationCode})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:c}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:d}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm text-white",children:["$",(.44*c).toFixed(2)]}),(0,b.jsxs)("td",{className:"px-4 py-3 text-sm text-white",children:["$",a.shippingCost?.toFixed(2)||"0.00"]}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)(w.FBAStatusBadge,{status:"shipped"})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-400",children:a.shippedAt?aa(a.shippedAt):"-"})]},a.id)}),0===z.filter(a=>"shipped"===a.status).length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:8,className:"px-4 py-8 text-center text-slate-400",children:"No shipped shipments yet"})})]})]})})]}),B&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>C(!1)}),(0,b.jsxs)("div",{className:"relative bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-auto m-4",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Create FBA Shipment"}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Select products and quantities to send to Amazon"})]}),(0,b.jsx)("button",{onClick:()=>C(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg",children:(0,b.jsx)(o.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Shipment Name"}),(0,b.jsx)("input",{type:"text",value:J,onChange:a=>K(a.target.value),placeholder:"e.g., January Restock",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-orange-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Destination"}),(0,b.jsxs)("select",{value:L,onChange:a=>M(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500",children:[(0,b.jsx)("option",{value:"amazon_usa",children:"Amazon USA"}),(0,b.jsx)("option",{value:"amazon_canada",children:"Amazon Canada"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Fulfillment Center (Optional)"}),(0,b.jsxs)("select",{value:N,onChange:a=>O(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500",children:[(0,b.jsx)("option",{value:"",children:"Auto-assign by Amazon"}),(0,b.jsx)("option",{value:"PHX5",children:"PHX5 - Phoenix, AZ"}),(0,b.jsx)("option",{value:"DFW7",children:"DFW7 - Dallas, TX"}),(0,b.jsx)("option",{value:"ONT8",children:"ONT8 - San Bernardino, CA"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Add Products"}),(0,b.jsxs)("div",{className:"relative mb-3",children:[(0,b.jsx)(q.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:R,onChange:a=>S(a.target.value),placeholder:"Search products...",className:"w-full bg-slate-800 border border-slate-700 rounded-xl pl-10 pr-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-orange-500"})]}),R&&(0,b.jsx)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl overflow-hidden mb-3",children:$.map(a=>(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(!P.find(a=>a.productId===b)&&(Q(a=>[...a,{productId:b,quantity:144}]),S("")))},className:"w-full flex items-center justify-between px-4 py-3 hover:bg-slate-700/50 transition-colors text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-emerald-500/20 rounded flex items-center justify-center",children:(0,b.jsx)(h.Package,{className:"w-4 h-4 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white text-sm",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:a.sku})]})]}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:["Stock: ",_(a.id)]})]},a.id))}),(0,b.jsx)("div",{className:"space-y-3",children:P.map(c=>{let d=a.products.find(a=>a.id===c.productId);return d?(0,b.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-slate-800/50 rounded-xl border border-slate-700",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)(h.Package,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-white",children:d.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-400",children:["Stock: ",_(d.id)]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"number",value:c.quantity,onChange:a=>{var b,d;return b=c.productId,d=parseInt(a.target.value)||0,void Q(a=>a.map(a=>a.productId===b?{...a,quantity:d}:a))},className:"w-20 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white text-center text-sm"}),(0,b.jsxs)("span",{className:"text-slate-400 text-sm",children:["= ",Math.ceil(c.quantity/12)," cases"]}),(0,b.jsx)("button",{onClick:()=>{var a;return a=c.productId,void Q(b=>b.filter(b=>b.productId!==a))},className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:(0,b.jsx)(r.Trash2,{className:"w-4 h-4"})})]})]},c.productId):null})})]}),P.length>0&&(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-3",children:"Shipment Summary"}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:ab.totalUnits}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Total Units"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:ab.totalCases}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Total Cases"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-white",children:["~",ab.totalPallets]}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Est. Pallets"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-orange-400",children:["$",ab.prepCost.toFixed(2)]}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Est. Prep Cost"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>C(!1),className:"flex-1 px-4 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-xl",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!J||0===P.length)return void y("error","Please provide a name and add products");let b=`FBA-${new Date().getFullYear()}-${String(z.length+48).padStart(3,"0")}`,c={id:crypto.randomUUID(),name:b,destination:L,destinationCode:N||"TBD",destinationCity:N?"Assigned":"Auto-assign",status:"prep",items:P.map(b=>{let c=a.products.find(a=>a.id===b.productId);return{productId:b.productId,productName:c?.name||"",sku:c?.sku||"",quantity:b.quantity,prepped:0,casePacked:0}}),prepTasks:{stickers:!1,fnsku:!1,casePacked:!1,palletized:!1},shipByDate:new Date(Date.now()+6048e5),createdAt:new Date};A(a=>[...a,c]),y("success",`FBA Shipment "${b}" created`),C(!1),K(""),Q([]),O("")},disabled:0===P.length,className:"flex-1 px-4 py-3 bg-orange-600 hover:bg-orange-500 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-xl font-medium",children:"Create Shipment"})]})]})]})]}),D&&H&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>E(!1)}),(0,b.jsxs)("div",{className:"relative bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-auto m-4",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Prep Station - ",H.name]}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Pack items into cases"})]}),(0,b.jsx)("button",{onClick:()=>E(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg",children:(0,b.jsx)(o.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"bg-amber-500/10 border-2 border-amber-500/50 rounded-xl p-5",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("span",{className:"text-amber-400 font-medium",children:"NOW PACKING"})}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:(0,b.jsx)(h.Package,{className:"w-10 h-10 text-emerald-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:H.items[0]?.productName||"Product"}),(0,b.jsxs)("div",{className:"text-slate-400",children:["SKU: ",H.items[0]?.sku||"N/A"]})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-5xl font-bold text-white",children:"12"}),(0,b.jsx)("div",{className:"text-slate-400",children:"units per case"})]})]}),(0,b.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>y("success","Case marked complete!"),className:"flex-1 px-6 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl font-medium flex items-center justify-center gap-2",children:[(0,b.jsx)(j.Check,{className:"w-5 h-5"}),"Case Complete"]}),(0,b.jsxs)("button",{className:"px-4 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-xl flex items-center gap-2",children:[(0,b.jsx)(n.Printer,{className:"w-4 h-4"}),"Print Case Label"]})]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Overall Progress"}),(0,b.jsxs)("span",{className:"text-white",children:[H.items.reduce((a,b)=>a+b.casePacked,0)," / ",Math.ceil(H.items.reduce((a,b)=>a+b.quantity,0)/12)," cases packed"]})]}),(0,b.jsx)(v.ProgressBar,{current:H.items.reduce((a,b)=>a+b.casePacked,0),total:Math.ceil(H.items.reduce((a,b)=>a+b.quantity,0)/12),colorClass:"bg-amber-500"})]})]})]})]}),F&&H&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>G(!1)}),(0,b.jsxs)("div",{className:"relative bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-md m-4",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Mark Shipment as Shipped"}),(0,b.jsxs)("p",{className:"text-sm text-slate-400",children:[H.name," - ",H.destinationCode]})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Carrier"}),(0,b.jsxs)("select",{value:T,onChange:a=>U(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-orange-500",children:[(0,b.jsx)("option",{children:"UPS Freight"}),(0,b.jsx)("option",{children:"FedEx Freight"}),(0,b.jsx)("option",{children:"Amazon Partnered Carrier"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Tracking / PRO Number"}),(0,b.jsx)("input",{type:"text",value:V,onChange:a=>W(a.target.value),placeholder:"Enter tracking number...",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-orange-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Shipping Cost"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,b.jsx)("input",{type:"number",value:X,onChange:a=>Y(a.target.value),placeholder:"0.00",className:"w-full bg-slate-800 border border-slate-700 rounded-xl pl-8 pr-4 py-3 text-white focus:outline-none focus:border-orange-500"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>G(!1),className:"flex-1 px-4 py-3 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-xl",children:"Cancel"}),(0,b.jsxs)("button",{onClick:()=>{H&&V?(H.items.forEach(a=>{x({type:"ADJUST_STOCK",payload:{productId:a.productId,locationId:"loc-1",adjustment:-a.quantity}});let b="amazon_usa"===H.destination?"loc-2":"loc-3";x({type:"ADJUST_STOCK",payload:{productId:a.productId,locationId:b,adjustment:a.quantity}})}),A(a=>a.map(a=>a.id===H.id?{...a,status:"shipped",shippedAt:new Date,carrier:T,trackingNumber:V,shippingCost:parseFloat(X)||0}:a)),y("success",`FBA Shipment "${H.name}" marked as shipped`),G(!1),I(null),W(""),Y("")):y("error","Please provide tracking information")},className:"flex-1 px-4 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl font-medium flex items-center justify-center gap-2",children:[(0,b.jsx)(f.Truck,{className:"w-4 h-4"}),"Confirm Shipped"]})]})]})]})]})]})}a.s(["default",()=>x],11388)}];

//# sourceMappingURL=app_%28dashboard%29_fulfillment_fba_page_tsx_0c8fd495._.js.map