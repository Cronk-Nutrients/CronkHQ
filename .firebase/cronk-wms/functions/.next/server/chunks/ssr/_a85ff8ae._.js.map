{"version":3,"sources":["../../../../lib/formatting.ts","../../../../app/%28dashboard%29/marketing/amazon-ads/page.tsx"],"sourcesContent":["/**\n * Shared formatting utilities\n */\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(amount);\n}\n\nexport function formatCurrencyPrecise(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(amount);\n}\n\nexport function formatNumber(num: number): string {\n  return new Intl.NumberFormat('en-US').format(num);\n}\n\nexport function formatPercent(num: number, showSign: boolean = true): string {\n  if (showSign) {\n    return `${num >= 0 ? '+' : ''}${num.toFixed(1)}%`;\n  }\n  return `${num.toFixed(1)}%`;\n}\n\nexport function formatWeight(oz: number): string {\n  if (oz >= 16) {\n    return `${(oz / 16).toFixed(1)} lbs`;\n  }\n  return `${oz.toFixed(1)} oz`;\n}\n\nexport function formatDate(date: string | Date): string {\n  return new Date(date).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\nexport function formatDateTime(date: string | Date): string {\n  return new Date(date).toLocaleString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n  });\n}\n\nexport function formatRelativeTime(date: string | Date): string {\n  const now = new Date();\n  const then = new Date(date);\n  const diffMs = now.getTime() - then.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays < 7) return `${diffDays}d ago`;\n  return formatDate(date);\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { AdPlatformHeader, MetricsGrid, SecondaryMetricsGrid, CampaignTable, CampaignNameCell, TypeBadge, AcosBadge, CurrencyCell, NumberCell, InsightCard, TipBox } from '@/components/marketing';\nimport { amazonAdsAccount, amazonAdsMetrics, amazonAdsCampaigns, amazonTopSearchTerms, amazonTopProducts } from '@/data/marketing';\n\nexport default function AmazonAdsPage() {\n  const [dateRange, setDateRange] = useState('30d');\n\n  const getTypeVariant = (type: string) => {\n    if (type === 'Sponsored Products') return 'blue' as const;\n    if (type === 'Sponsored Brands') return 'purple' as const;\n    return 'orange' as const;\n  };\n\n  const primaryMetrics = [\n    { label: 'Ad Spend', value: amazonAdsMetrics.spend, format: 'currency' as const },\n    { label: 'Ad Revenue', value: amazonAdsMetrics.revenue, format: 'currency' as const, highlight: true, highlightColor: 'emerald' as const },\n    { label: 'ROAS', value: amazonAdsMetrics.roas, format: 'multiplier' as const, highlight: true, highlightColor: 'emerald' as const },\n    { label: 'ACoS', value: amazonAdsMetrics.acos, format: 'percent' as const, highlight: true, highlightColor: 'amber' as const },\n    { label: 'TACoS', value: amazonAdsMetrics.tacos, format: 'percent' as const },\n  ];\n\n  const secondaryMetrics = [\n    { label: 'Orders', value: amazonAdsMetrics.orders, format: 'number' as const },\n    { label: 'Clicks', value: amazonAdsMetrics.clicks, format: 'number' as const },\n    { label: 'Impressions', value: amazonAdsMetrics.impressions, format: 'number' as const },\n    { label: 'Avg. CPC', value: amazonAdsMetrics.cpc, format: 'currency' as const },\n  ];\n\n  const campaignColumns = [\n    { key: 'name', header: 'Campaign', render: (v: unknown, row: typeof amazonAdsCampaigns[0]) => <CampaignNameCell name={row.name} active={row.status === 'active'} /> },\n    { key: 'type', header: 'Type', render: (v: unknown, row: typeof amazonAdsCampaigns[0]) => <TypeBadge type={row.type} variant={getTypeVariant(row.type)} /> },\n    { key: 'spend', header: 'Spend', align: 'right' as const, render: (v: unknown) => <CurrencyCell value={v as number} /> },\n    { key: 'revenue', header: 'Revenue', align: 'right' as const, render: (v: unknown) => <CurrencyCell value={v as number} variant=\"success\" /> },\n    { key: 'acos', header: 'ACoS', align: 'right' as const, render: (v: unknown) => <AcosBadge acos={v as number} /> },\n    { key: 'orders', header: 'Orders', align: 'right' as const, render: (v: unknown) => <NumberCell value={v as number} /> },\n    { key: 'impressions', header: 'Impressions', align: 'right' as const, render: (v: unknown) => <NumberCell value={v as number} variant=\"muted\" /> },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <AdPlatformHeader\n        platformName=\"Amazon Ads\"\n        platformIcon=\"fab fa-amazon\"\n        platformColor=\"#ff9900\"\n        accountName={amazonAdsAccount.accountName}\n        accountId={amazonAdsAccount.sellerId}\n        lastSync={amazonAdsAccount.lastSync}\n        dateRange={dateRange}\n        onDateRangeChange={setDateRange}\n        onSync={() => {}}\n        externalLinkLabel=\"Open in Amazon Ads\"\n        onExternalLink={() => window.open('https://advertising.amazon.com', '_blank')}\n      />\n\n      <MetricsGrid metrics={primaryMetrics} columns={5} />\n      <SecondaryMetricsGrid metrics={secondaryMetrics} columns={4} />\n\n      <CampaignTable\n        title=\"Campaigns\"\n        subtitle={`${amazonAdsCampaigns.length} active campaigns`}\n        columns={campaignColumns}\n        data={amazonAdsCampaigns}\n        getRowKey={(row) => row.id}\n        headerAction={{ label: 'Open in Amazon Ads', icon: 'fas fa-external-link-alt', onClick: () => {} }}\n      />\n\n      <div className=\"grid grid-cols-2 gap-6\">\n        <InsightCard\n          title=\"Top Search Terms\"\n          subtitle=\"By revenue\"\n          items={amazonTopSearchTerms.map(t => ({ label: t.term, sublabel: `ACoS: ${t.acos}%`, value: t.revenue, valueFormat: 'currency' as const }))}\n        />\n        <InsightCard\n          title=\"Top Products\"\n          subtitle=\"By ad-attributed sales\"\n          items={amazonTopProducts.map(p => ({ label: p.product, sublabel: `${p.orders} orders`, value: p.revenue, valueFormat: 'currency' as const }))}\n        />\n      </div>\n\n      <TipBox\n        title=\"Understanding Amazon Metrics\"\n        content=\"ACoS (Advertising Cost of Sales) = Ad Spend / Ad Revenue. Lower is better. Target <20% for most products. TACoS (Total ACoS) = Ad Spend / Total Revenue. Shows advertising efficiency across all sales.\"\n        icon=\"fas fa-info-circle\"\n        variant=\"amber\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}