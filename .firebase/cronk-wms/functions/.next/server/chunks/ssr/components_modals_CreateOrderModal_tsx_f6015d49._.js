module.exports=[57236,11840,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(88736),e=a.i(12466),f=a.i(98263),g=a.i(89697),h=a.i(88860);let i=["USA","Canada","United Kingdom","Australia","Germany","France","Japan"];function j({isOpen:a,onClose:j}){let{state:k,dispatch:l}=(0,f.useApp)(),{success:m,error:n,warning:o}=(0,g.useToast)(),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)("USA"),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)("0"),[J,K]=(0,c.useState)("0"),[L,M]=(0,c.useState)("0"),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)("1"),[V,W]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&(q(""),s(""),u(""),w(""),y(""),A(""),C(""),E("USA"),G([]),I("0"),K("0"),M("0"),O(""),Q(""),U("1"))},[a]);let X=a=>k.inventory.filter(b=>b.productId===a).reduce((a,b)=>a+b.quantity,0),Y=(0,c.useMemo)(()=>{if(!P.trim())return[];let a=P.toLowerCase();return k.products.filter(b=>(b.name.toLowerCase().includes(a)||b.sku.toLowerCase().includes(a))&&!F.some(a=>a.productId===b.id)).slice(0,8)},[P,k.products,F]),Z=(0,c.useMemo)(()=>{let a=F.reduce((a,b)=>a+b.price*b.quantity,0),b=F.reduce((a,b)=>a+b.cost*b.quantity,0),c=parseFloat(H)||0,d=a+c+(parseFloat(J)||0)-(parseFloat(L)||0),e=d-b-c;return{subtotal:a,cogs:b,total:d,profit:e,margin:d>0?e/d*100:0}},[F,H,J,L]),$=(0,c.useMemo)(()=>!!p.trim()&&!!r.trim()&&!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)&&!!v.trim()&&!!x.trim()&&!!z.trim()&&!!B.trim()&&!!D&&0!==F.length&&!0,[p,r,v,x,z,B,D,F]);return(0,b.jsx)(d.Modal,{open:a,onClose:j,title:"Create Manual Order",subtitle:"Add a new order manually",size:"lg",footer:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Button,{variant:"secondary",onClick:j,children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:()=>{if($){W(!0);try{let a,b=(a=k.orders.filter(a=>"manual"===a.channel).length,`MAN-${(a+1).toString().padStart(4,"0")}`),c=parseFloat(H)||0,d=parseFloat(J)||0,e=parseFloat(L)||0,f={id:crypto.randomUUID(),orderNumber:b,channel:"manual",status:"to_pick",customer:{name:p.trim(),email:r.trim(),phone:t.trim()||void 0,address:{street:v.trim(),city:x.trim(),state:z.trim(),zip:B.trim(),country:D}},items:F.map(a=>({productId:a.productId,productName:a.productName,sku:a.sku,quantity:a.quantity,price:a.price,cost:a.cost,picked:!1})),subtotal:Z.subtotal,shipping:c,tax:d,discount:e,total:Z.total,cogs:Z.cogs,profit:Z.profit,margin:Z.margin,createdAt:new Date,updatedAt:new Date};l({type:"ADD_ORDER",payload:f}),m(`Order ${b} created successfully`),j()}catch(a){n("Failed to create order. Please try again.")}finally{W(!1)}}},disabled:V||!$,children:V?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"fas fa-plus mr-2"}),"Create Order"]})})]}),children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Customer Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Name *"}),(0,b.jsx)("input",{type:"text",value:p,onChange:a=>q(a.target.value),placeholder:"John Doe",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Email *"}),(0,b.jsx)("input",{type:"email",value:r,onChange:a=>s(a.target.value),placeholder:"john@example.com",className:`w-full bg-slate-800 border rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none ${r&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?"border-red-500/50":"border-slate-700 focus:border-emerald-500/50"}`}),r&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)&&(0,b.jsx)("p",{className:"text-xs text-red-400 mt-1",children:"Invalid email format"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Phone (Optional)"}),(0,b.jsx)("input",{type:"tel",value:t,onChange:a=>u(a.target.value),placeholder:"+1 (555) 123-4567",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Shipping Address"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Street Address *"}),(0,b.jsx)("input",{type:"text",value:v,onChange:a=>w(a.target.value),placeholder:"123 Main Street",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"City *"}),(0,b.jsx)("input",{type:"text",value:x,onChange:a=>y(a.target.value),placeholder:"New York",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"State *"}),(0,b.jsx)("input",{type:"text",value:z,onChange:a=>A(a.target.value),placeholder:"NY",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"ZIP Code *"}),(0,b.jsx)("input",{type:"text",value:B,onChange:a=>C(a.target.value),placeholder:"10001",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Country *"}),(0,b.jsx)("select",{value:D,onChange:a=>E(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50",children:i.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Order Items *"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:P,onChange:a=>{Q(a.target.value),S(!0)},onFocus:()=>S(!0),placeholder:"Search products...",className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"}),R&&Y.length>0&&(0,b.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-lg max-h-48 overflow-auto",children:Y.map(a=>{let c=X(a.id);return(0,b.jsxs)("button",{type:"button",onClick:()=>(a=>{let b=k.products.find(b=>b.id===a);if(!b)return;let c=parseInt(T)||1;G(a=>[...a,{productId:b.id,productName:b.name,sku:b.sku,quantity:c,price:b.prices.msrp,cost:b.cost.rolling}]),Q(""),U("1"),S(!1)})(a.id),className:"w-full px-4 py-2.5 flex items-center justify-between hover:bg-slate-700/50 text-left",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-white",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-400",children:[a.sku," - ",(0,h.formatCurrency)(a.prices.msrp)]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("div",{className:`text-sm ${c>0?"text-emerald-400":"text-red-400"}`,children:[(0,h.formatNumber)(c)," in stock"]})})]},a.id)})})]}),(0,b.jsx)("input",{type:"number",min:"1",value:T,onChange:a=>U(a.target.value),className:"w-20 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-white text-center focus:outline-none focus:border-emerald-500/50",placeholder:"Qty"})]}),F.length>0?(0,b.jsx)("div",{className:"space-y-2 mb-4",children:F.map(a=>{let c=X(a.productId),d=c<a.quantity;return(0,b.jsxs)("div",{className:`flex items-center gap-3 p-3 rounded-lg border ${d?"bg-red-500/10 border-red-500/30":"bg-slate-800/50 border-slate-700/50"}`,children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-sm text-white truncate",children:a.productName}),(0,b.jsxs)("div",{className:"text-xs text-slate-400",children:[a.sku," - ",(0,h.formatNumber)(c)," available",d&&(0,b.jsxs)("span",{className:"text-red-400 ml-2",children:[(0,b.jsx)("i",{className:"fas fa-exclamation-triangle mr-1"}),"Low stock"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"number",min:"1",value:a.quantity,onChange:b=>{var c,d;return c=a.productId,void(!((d=parseInt(b.target.value)||1)<1)&&G(a=>a.map(a=>a.productId===c?{...a,quantity:d}:a)))},className:"w-16 bg-slate-700 border border-slate-600 rounded-lg px-2 py-1.5 text-white text-center text-sm"}),(0,b.jsx)("span",{className:"text-slate-400",children:"x"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:a.price,onChange:b=>{var c,d;return c=a.productId,void(!((d=parseFloat(b.target.value)||0)<0)&&G(a=>a.map(a=>a.productId===c?{...a,price:d}:a)))},className:"w-24 bg-slate-700 border border-slate-600 rounded-lg pl-6 pr-2 py-1.5 text-white text-sm"})]}),(0,b.jsx)("span",{className:"text-white font-medium w-20 text-right",children:(0,h.formatCurrency)(a.price*a.quantity)})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.productId,void G(a=>a.filter(a=>a.productId!==b))},className:"p-2 text-slate-500 hover:text-red-400",children:(0,b.jsx)("i",{className:"fas fa-trash"})})]},a.productId)})}):(0,b.jsxs)("div",{className:"p-6 border-2 border-dashed border-slate-700 rounded-lg text-center text-slate-400 mb-4",children:[(0,b.jsx)("i",{className:"fas fa-shopping-cart text-2xl mb-2"}),(0,b.jsx)("p",{children:"No items added yet"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Search for products above to add them"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Order Totals"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Shipping"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:H,onChange:a=>I(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Tax"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:J,onChange:a=>K(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Discount"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"$"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",value:L,onChange:a=>M(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Subtotal"}),(0,b.jsx)("span",{className:"text-white",children:(0,h.formatCurrency)(Z.subtotal)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Shipping"}),(0,b.jsx)("span",{className:"text-white",children:(0,h.formatCurrency)(parseFloat(H)||0)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Tax"}),(0,b.jsx)("span",{className:"text-white",children:(0,h.formatCurrency)(parseFloat(J)||0)})]}),parseFloat(L)>0&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Discount"}),(0,b.jsxs)("span",{className:"text-emerald-400",children:["-",(0,h.formatCurrency)(parseFloat(L))]})]}),(0,b.jsxs)("div",{className:"flex justify-between pt-2 border-t border-slate-700",children:[(0,b.jsx)("span",{className:"font-medium text-white",children:"Total"}),(0,b.jsx)("span",{className:"font-bold text-white text-lg",children:(0,h.formatCurrency)(Z.total)})]})]}),F.length>0&&(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700 grid grid-cols-3 gap-3 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"COGS"}),(0,b.jsx)("div",{className:"text-sm text-white",children:(0,h.formatCurrency)(Z.cogs)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"Profit"}),(0,b.jsx)("div",{className:`text-sm ${Z.profit>=0?"text-emerald-400":"text-red-400"}`,children:(0,h.formatCurrency)(Z.profit)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"Margin"}),(0,b.jsxs)("div",{className:`text-sm ${Z.margin>=30?"text-emerald-400":Z.margin>=15?"text-amber-400":"text-red-400"}`,children:[Z.margin.toFixed(1),"%"]})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Internal Notes (Optional)"}),(0,b.jsx)("textarea",{value:N,onChange:a=>O(a.target.value),rows:2,placeholder:"Any special instructions or notes...",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 resize-none"})]})]})})}a.s(["CreateOrderModal",()=>j],57236);var k=a.i(33508),l=a.i(83497),m=a.i(11300);let n=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var o=a.i(92e3),p=a.i(16201),q=a.i(80032);function r({isOpen:a,onClose:d,selectedOrderIds:e}){let{state:i,dispatch:j}=(0,f.useApp)(),{success:r,error:s,warning:t}=(0,g.useToast)(),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)([]),A=(0,c.useMemo)(()=>i.orders.filter(a=>e.includes(a.id)),[i.orders,e]),B=(0,c.useMemo)(()=>{let a=A.reduce((a,b)=>a+b.items.reduce((a,b)=>a+b.quantity,0),0);return{totalItems:a,totalValue:A.reduce((a,b)=>a+b.total,0),uniqueSkus:new Set(A.flatMap(a=>a.items.map(a=>a.sku))).size}},[A]),C=(0,c.useMemo)(()=>{let{maxOrdersPerBatch:a,maxItemsPerBatch:b,pickingMode:c}=i.settings,d=A.length<=a,e=B.totalItems<=b,f="multi_tote"===c?A.length:1,g=i.pickingTotes.filter(a=>a.isActive).length;return{ordersOk:d,itemsOk:e,totesOk:g>=f,maxOrders:a,maxItems:b,totesNeeded:f,totesAvailable:g}},[A.length,B.totalItems,i.settings,i.pickingTotes]),D=A.filter(a=>"to_pick"!==a.status&&"draft"!==a.status);return(i.pickingTotes.filter(a=>a.isActive),a)?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:d}),(0,b.jsxs)("div",{className:"relative bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:(0,b.jsx)(m.ClipboardList,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Create Pick Batch"}),(0,b.jsxs)("p",{className:"text-sm text-slate-400",children:[A.length," orders selected"]})]})]}),(0,b.jsx)("button",{onClick:d,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg",children:(0,b.jsx)(k.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[60vh]",children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:A.length}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"Orders"})]}),(0,b.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:B.totalItems}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"Total Items"})]}),(0,b.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:B.uniqueSkus}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"Unique SKUs"})]}),(0,b.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-emerald-400",children:(0,h.formatCurrency)(B.totalValue)}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:"Total Value"})]})]}),D.length>0&&(0,b.jsx)("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-amber-400",children:[D.length," orders not ready for picking"]}),(0,b.jsx)("p",{className:"text-xs text-amber-300 mt-1",children:'Orders must be in "To Pick" status. These will be skipped.'})]})]})}),!C.ordersOk&&(0,b.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-red-400",children:["Exceeds maximum orders per batch (",C.maxOrders,")"]}),(0,b.jsx)("p",{className:"text-xs text-red-300 mt-1",children:"Consider splitting into multiple batches."})]})]})}),!C.itemsOk&&(0,b.jsx)("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:"text-sm font-medium text-red-400",children:["Exceeds maximum items per batch (",C.maxItems,")"]})})]})}),(0,b.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(l.Package,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("span",{className:"font-medium text-white",children:"multi_tote"===i.settings.pickingMode?"Multi-Tote Mode":"Single-Tote Mode"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"multi_tote"===i.settings.pickingMode?`Each order gets its own tote. You need ${C.totesNeeded} totes for this batch.`:"All items collected in one tote. Requires sorting after picking."}),"multi_tote"===i.settings.pickingMode&&(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,b.jsx)(q.Box,{className:"w-4 h-4 text-slate-500"}),(0,b.jsxs)("span",{className:"text-sm text-slate-400",children:[C.totesAvailable," totes available"]}),C.totesOk?(0,b.jsx)(p.CheckCircle,{className:"w-4 h-4 text-emerald-400"}):(0,b.jsxs)("span",{className:"text-xs text-red-400",children:["(need ",C.totesNeeded-C.totesAvailable," more)"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-slate-400 mb-1.5",children:"Assign to (optional)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(n,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsxs)("select",{value:w,onChange:a=>x(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50",children:[(0,b.jsx)("option",{value:"",children:"Unassigned"}),(0,b.jsx)("option",{value:"John",children:"John"}),(0,b.jsx)("option",{value:"Jane",children:"Jane"}),(0,b.jsx)("option",{value:"Mike",children:"Mike"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Orders in Batch"}),(0,b.jsx)("div",{className:"max-h-40 overflow-y-auto space-y-2",children:A.map(a=>{let c="to_pick"===a.status||"draft"===a.status;return(0,b.jsxs)("div",{className:`p-3 rounded-lg flex items-center justify-between ${c?"bg-slate-800/50":"bg-red-500/10 border border-red-500/20"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"font-mono text-sm text-white",children:["#",a.orderNumber]}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:a.customer.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"text-sm text-slate-400",children:[a.items.reduce((a,b)=>a+b.quantity,0)," items"]}),!c&&(0,b.jsxs)("span",{className:"text-xs text-red-400",children:["Status: ",a.status]})]})]},a.id)})})]})]}),(0,b.jsxs)("div",{className:"px-6 py-4 border-t border-slate-700 flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-slate-400",children:["Batch will be created with"," ",(0,b.jsx)("span",{className:"text-white font-medium",children:A.length-D.length})," ","orders"]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:d,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:()=>{let a,b;if(0===A.length)return void s("No orders selected");let c=A.filter(a=>"to_pick"===a.status||"draft"===a.status);if(0===c.length)return void s("No orders are ready for picking");if("multi_tote"===i.settings.pickingMode&&y.length<c.length)return void s(`Need ${c.length} totes but only ${y.length} selected`);let e={id:crypto.randomUUID(),batchNumber:(a=new Date().toISOString().slice(0,10).replace(/-/g,""),b=i.pickingBatches.filter(b=>b.batchNumber.startsWith(`PB-${a}`)).length,`PB-${a}-${String(b+1).padStart(3,"0")}`),status:"open",orderIds:c.map(a=>a.id),assignedTo:w||void 0,createdAt:new Date};j({type:"ADD_PICKING_BATCH",payload:e}),c.forEach(a=>{j({type:"UPDATE_ORDER_STATUS",payload:{orderId:a.id,status:"picking"}})}),r(`Pick batch ${e.batchNumber} created with ${c.length} orders`),D.length>0&&t(`${D.length} orders were skipped (not ready for picking)`),v(""),x(""),z([]),d()},disabled:A.length-D.length==0,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,b.jsx)(m.ClipboardList,{className:"w-4 h-4"}),"Create Batch"]})]})]})]})]}):null}a.s(["CreatePickBatchModal",()=>r],11840)}];

//# sourceMappingURL=components_modals_CreateOrderModal_tsx_f6015d49._.js.map