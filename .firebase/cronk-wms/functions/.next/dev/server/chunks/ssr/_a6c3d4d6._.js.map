{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/FilterBadge.tsx"],"sourcesContent":["'use client';\n\nimport { X } from 'lucide-react';\n\ninterface FilterBadgeProps {\n  label: string;\n  value: string;\n  onRemove: () => void;\n}\n\nexport function FilterBadge({ label, value, onRemove }: FilterBadgeProps) {\n  return (\n    <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-emerald-500/20 text-emerald-400 rounded-lg text-xs\">\n      <span className=\"text-emerald-400/70\">{label}:</span>\n      <span className=\"font-medium\">{value}</span>\n      <button\n        onClick={onRemove}\n        className=\"ml-0.5 p-0.5 hover:bg-emerald-500/30 rounded transition-colors\"\n      >\n        <X className=\"w-3 h-3\" />\n      </button>\n    </span>\n  );\n}\n\ninterface ActiveFiltersProps {\n  filters: Array<{\n    key: string;\n    label: string;\n    value: string;\n  }>;\n  onRemove: (key: string) => void;\n  onClearAll: () => void;\n}\n\nexport function ActiveFilters({ filters, onRemove, onClearAll }: ActiveFiltersProps) {\n  if (filters.length === 0) return null;\n\n  return (\n    <div className=\"flex items-center gap-3 p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg\">\n      <span className=\"text-sm text-emerald-400 flex-shrink-0\">Filtered by:</span>\n      <div className=\"flex items-center gap-2 flex-wrap flex-1\">\n        {filters.map((filter) => (\n          <FilterBadge\n            key={filter.key}\n            label={filter.label}\n            value={filter.value}\n            onRemove={() => onRemove(filter.key)}\n          />\n        ))}\n      </div>\n      <button\n        onClick={onClearAll}\n        className=\"text-sm text-slate-400 hover:text-white transition-colors flex-shrink-0\"\n      >\n        Clear All\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAUO,SAAS,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAoB;IACtE,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAK,WAAU;;oBAAuB;oBAAM;;;;;;;0BAC7C,8OAAC;gBAAK,WAAU;0BAAe;;;;;;0BAC/B,8OAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,8OAAC,iMAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrB;AAYO,SAAS,cAAc,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAsB;IACjF,IAAI,QAAQ,MAAM,KAAK,GAAG,OAAO;IAEjC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;0BAAyC;;;;;;0BACzD,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;wBAEC,OAAO,OAAO,KAAK;wBACnB,OAAO,OAAO,KAAK;wBACnB,UAAU,IAAM,SAAS,OAAO,GAAG;uBAH9B,OAAO,GAAG;;;;;;;;;;0BAOrB,8OAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKP"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/Modal.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, useEffect } from 'react';\n\ninterface ModalProps {\n  open: boolean;\n  onClose: () => void;\n  title: string;\n  subtitle?: string;\n  children: ReactNode;\n  footer?: ReactNode;\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  className?: string;\n}\n\nconst sizeClasses = {\n  sm: 'max-w-sm',\n  md: 'max-w-lg',\n  lg: 'max-w-2xl',\n  xl: 'max-w-4xl',\n};\n\nexport function Modal({\n  open,\n  onClose,\n  title,\n  subtitle,\n  children,\n  footer,\n  size = 'md',\n  className = '',\n}: ModalProps) {\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && open) {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [open, onClose]);\n\n  // Prevent body scroll when open\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  if (!open) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div className={`relative bg-slate-900 border border-slate-700 rounded-2xl w-full ${sizeClasses[size]} m-4 shadow-2xl ${className}`}>\n        {/* Header */}\n        <div className=\"px-6 py-4 border-b border-slate-700 flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-xl font-bold text-white\">{title}</h2>\n            {subtitle && (\n              <p className=\"text-sm text-slate-400 mt-0.5\">{subtitle}</p>\n            )}\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-times\"></i>\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 max-h-[calc(100vh-16rem)] overflow-y-auto\">\n          {children}\n        </div>\n\n        {/* Footer */}\n        {footer && (\n          <div className=\"px-6 py-4 border-t border-slate-700 flex items-center justify-end gap-3\">\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAeA,MAAM,cAAc;IAClB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,SAAS,MAAM,EACpB,IAAI,EACJ,OAAO,EACP,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,OAAO,IAAI,EACX,YAAY,EAAE,EACH;IACX,oBAAoB;IACpB,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe,CAAC;YACpB,IAAI,EAAE,GAAG,KAAK,YAAY,MAAM;gBAC9B;YACF;QACF;QACA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;IACvD,GAAG;QAAC;QAAM;KAAQ;IAElB,gCAAgC;IAChC,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM;YACR,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QACA,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;KAAK;IAET,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,8OAAC;gBAAI,WAAW,CAAC,iEAAiE,EAAE,WAAW,CAAC,KAAK,CAAC,gBAAgB,EAAE,WAAW;;kCAEjI,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAgC;;;;;;oCAC7C,0BACC,8OAAC;wCAAE,WAAU;kDAAiC;;;;;;;;;;;;0CAGlD,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC;oCAAE,WAAU;;;;;;;;;;;;;;;;;kCAKjB,8OAAC;wBAAI,WAAU;kCACZ;;;;;;oBAIF,wBACC,8OAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAMb;uCAEe"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/Button.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, ButtonHTMLAttributes } from 'react';\nimport Link from 'next/link';\n\ntype ButtonVariant = 'primary' | 'secondary' | 'ghost' | 'danger';\ntype ButtonSize = 'sm' | 'md' | 'lg';\n\ninterface ButtonBaseProps {\n  variant?: ButtonVariant;\n  size?: ButtonSize;\n  icon?: string;\n  iconPosition?: 'left' | 'right';\n  children?: ReactNode;\n  className?: string;\n  disabled?: boolean;\n}\n\ninterface ButtonAsButton extends ButtonBaseProps, Omit<ButtonHTMLAttributes<HTMLButtonElement>, keyof ButtonBaseProps> {\n  href?: never;\n}\n\ninterface ButtonAsLink extends ButtonBaseProps {\n  href: string;\n  onClick?: never;\n  type?: never;\n}\n\ntype ButtonProps = ButtonAsButton | ButtonAsLink;\n\nconst variantClasses: Record<ButtonVariant, string> = {\n  primary: 'bg-emerald-600 hover:bg-emerald-500 text-white border-transparent',\n  secondary: 'bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700',\n  ghost: 'bg-transparent hover:bg-slate-800 text-slate-400 hover:text-white border-transparent',\n  danger: 'bg-red-600 hover:bg-red-500 text-white border-transparent',\n};\n\nconst sizeClasses: Record<ButtonSize, string> = {\n  sm: 'px-3 py-1.5 text-xs',\n  md: 'px-4 py-2 text-sm',\n  lg: 'px-5 py-2.5 text-base',\n};\n\nexport function Button({\n  variant = 'primary',\n  size = 'md',\n  icon,\n  iconPosition = 'left',\n  children,\n  className = '',\n  disabled,\n  href,\n  ...props\n}: ButtonProps) {\n  const baseClasses = 'inline-flex items-center justify-center gap-2 font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed';\n  const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`;\n\n  const content = (\n    <>\n      {icon && iconPosition === 'left' && <i className={icon}></i>}\n      {children}\n      {icon && iconPosition === 'right' && <i className={icon}></i>}\n    </>\n  );\n\n  if (href) {\n    return (\n      <Link href={href} className={classes}>\n        {content}\n      </Link>\n    );\n  }\n\n  return (\n    <button className={classes} disabled={disabled} {...props}>\n      {content}\n    </button>\n  );\n}\n\nexport default Button;\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AA8BA,MAAM,iBAAgD;IACpD,SAAS;IACT,WAAW;IACX,OAAO;IACP,QAAQ;AACV;AAEA,MAAM,cAA0C;IAC9C,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,SAAS,OAAO,EACrB,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,IAAI,EACJ,eAAe,MAAM,EACrB,QAAQ,EACR,YAAY,EAAE,EACd,QAAQ,EACR,IAAI,EACJ,GAAG,OACS;IACZ,MAAM,cAAc;IACpB,MAAM,UAAU,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;IAE7F,MAAM,wBACJ;;YACG,QAAQ,iBAAiB,wBAAU,8OAAC;gBAAE,WAAW;;;;;;YACjD;YACA,QAAQ,iBAAiB,yBAAW,8OAAC;gBAAE,WAAW;;;;;;;;IAIvD,IAAI,MAAM;QACR,qBACE,8OAAC,uKAAI;YAAC,MAAM;YAAM,WAAW;sBAC1B;;;;;;IAGP;IAEA,qBACE,8OAAC;QAAO,WAAW;QAAS,UAAU;QAAW,GAAG,KAAK;kBACtD;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/lib/formatting.ts"],"sourcesContent":["/**\n * Shared formatting utilities\n */\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(amount);\n}\n\nexport function formatCurrencyPrecise(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(amount);\n}\n\nexport function formatNumber(num: number): string {\n  return new Intl.NumberFormat('en-US').format(num);\n}\n\nexport function formatPercent(num: number, showSign: boolean = true): string {\n  if (showSign) {\n    return `${num >= 0 ? '+' : ''}${num.toFixed(1)}%`;\n  }\n  return `${num.toFixed(1)}%`;\n}\n\nexport function formatWeight(oz: number): string {\n  if (oz >= 16) {\n    return `${(oz / 16).toFixed(1)} lbs`;\n  }\n  return `${oz.toFixed(1)} oz`;\n}\n\nexport function formatDate(date: string | Date): string {\n  return new Date(date).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\nexport function formatDateTime(date: string | Date): string {\n  return new Date(date).toLocaleString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n  });\n}\n\nexport function formatRelativeTime(date: string | Date): string {\n  const now = new Date();\n  const then = new Date(date);\n  const diffMs = now.getTime() - then.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays < 7) return `${diffDays}d ago`;\n  return formatDate(date);\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;AAEM,SAAS,eAAe,MAAc;IAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,sBAAsB,MAAc;IAClD,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,aAAa,GAAW;IACtC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;AAC/C;AAEO,SAAS,cAAc,GAAW,EAAE,WAAoB,IAAI;IACjE,IAAI,UAAU;QACZ,OAAO,GAAG,OAAO,IAAI,MAAM,KAAK,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;IACnD;IACA,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;AAC7B;AAEO,SAAS,aAAa,EAAU;IACrC,IAAI,MAAM,IAAI;QACZ,OAAO,GAAG,CAAC,KAAK,EAAE,EAAE,OAAO,CAAC,GAAG,IAAI,CAAC;IACtC;IACA,OAAO,GAAG,GAAG,OAAO,CAAC,GAAG,GAAG,CAAC;AAC9B;AAEO,SAAS,WAAW,IAAmB;IAC5C,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;QAChD,OAAO;QACP,KAAK;QACL,MAAM;IACR;AACF;AAEO,SAAS,eAAe,IAAmB;IAChD,OAAO,IAAI,KAAK,MAAM,cAAc,CAAC,SAAS;QAC5C,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV;AACF;AAEO,SAAS,mBAAmB,IAAmB;IACpD,MAAM,MAAM,IAAI;IAChB,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,SAAS,IAAI,OAAO,KAAK,KAAK,OAAO;IAC3C,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;IACrC,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;IACtC,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;IAErC,IAAI,WAAW,GAAG,OAAO;IACzB,IAAI,WAAW,IAAI,OAAO,GAAG,SAAS,KAAK,CAAC;IAC5C,IAAI,YAAY,IAAI,OAAO,GAAG,UAAU,KAAK,CAAC;IAC9C,IAAI,WAAW,GAAG,OAAO,GAAG,SAAS,KAAK,CAAC;IAC3C,OAAO,WAAW;AACpB"}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/modals/CreateOrderModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { useApp, Order, OrderItem } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { formatCurrency, formatNumber } from '@/lib/formatting';\n\ninterface CreateOrderModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ninterface OrderItemDraft {\n  productId: string;\n  productName: string;\n  sku: string;\n  quantity: number;\n  price: number;\n  cost: number;\n}\n\nconst COUNTRIES = [\n  'USA',\n  'Canada',\n  'United Kingdom',\n  'Australia',\n  'Germany',\n  'France',\n  'Japan',\n];\n\nexport function CreateOrderModal({ isOpen, onClose }: CreateOrderModalProps) {\n  const { state, dispatch } = useApp();\n  const { success, error, warning } = useToast();\n\n  // Customer info\n  const [customerName, setCustomerName] = useState('');\n  const [customerEmail, setCustomerEmail] = useState('');\n  const [customerPhone, setCustomerPhone] = useState('');\n\n  // Address\n  const [street, setStreet] = useState('');\n  const [city, setCity] = useState('');\n  const [addressState, setAddressState] = useState('');\n  const [zip, setZip] = useState('');\n  const [country, setCountry] = useState('USA');\n\n  // Order items\n  const [items, setItems] = useState<OrderItemDraft[]>([]);\n\n  // Totals\n  const [shipping, setShipping] = useState('0');\n  const [tax, setTax] = useState('0');\n  const [discount, setDiscount] = useState('0');\n\n  // Notes\n  const [notes, setNotes] = useState('');\n\n  // Product search\n  const [productSearch, setProductSearch] = useState('');\n  const [showProductDropdown, setShowProductDropdown] = useState(false);\n  const [itemQty, setItemQty] = useState('1');\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Reset form when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      setCustomerName('');\n      setCustomerEmail('');\n      setCustomerPhone('');\n      setStreet('');\n      setCity('');\n      setAddressState('');\n      setZip('');\n      setCountry('USA');\n      setItems([]);\n      setShipping('0');\n      setTax('0');\n      setDiscount('0');\n      setNotes('');\n      setProductSearch('');\n      setItemQty('1');\n    }\n  }, [isOpen]);\n\n  // Get total stock for a product\n  const getProductStock = (productId: string) => {\n    return state.inventory\n      .filter(i => i.productId === productId)\n      .reduce((sum, i) => sum + i.quantity, 0);\n  };\n\n  // Filter products for search\n  const filteredProducts = useMemo(() => {\n    if (!productSearch.trim()) return [];\n    const search = productSearch.toLowerCase();\n    return state.products\n      .filter(p =>\n        (p.name.toLowerCase().includes(search) || p.sku.toLowerCase().includes(search)) &&\n        !items.some(i => i.productId === p.id)\n      )\n      .slice(0, 8);\n  }, [productSearch, state.products, items]);\n\n  // Calculate totals\n  const orderTotals = useMemo(() => {\n    const subtotal = items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    const cogs = items.reduce((sum, item) => sum + item.cost * item.quantity, 0);\n    const shippingVal = parseFloat(shipping) || 0;\n    const taxVal = parseFloat(tax) || 0;\n    const discountVal = parseFloat(discount) || 0;\n    const total = subtotal + shippingVal + taxVal - discountVal;\n    const profit = total - cogs - shippingVal;\n    const margin = total > 0 ? (profit / total) * 100 : 0;\n\n    return { subtotal, cogs, total, profit, margin };\n  }, [items, shipping, tax, discount]);\n\n  // Add item to order\n  const addItem = (productId: string) => {\n    const product = state.products.find(p => p.id === productId);\n    if (!product) return;\n\n    const qty = parseInt(itemQty) || 1;\n    setItems(prev => [\n      ...prev,\n      {\n        productId: product.id,\n        productName: product.name,\n        sku: product.sku,\n        quantity: qty,\n        price: product.prices.msrp,\n        cost: product.cost.rolling,\n      }\n    ]);\n    setProductSearch('');\n    setItemQty('1');\n    setShowProductDropdown(false);\n  };\n\n  // Remove item\n  const removeItem = (productId: string) => {\n    setItems(prev => prev.filter(i => i.productId !== productId));\n  };\n\n  // Update item quantity\n  const updateItemQty = (productId: string, qty: number) => {\n    if (qty < 1) return;\n    setItems(prev => prev.map(i =>\n      i.productId === productId ? { ...i, quantity: qty } : i\n    ));\n  };\n\n  // Update item price\n  const updateItemPrice = (productId: string, price: number) => {\n    if (price < 0) return;\n    setItems(prev => prev.map(i =>\n      i.productId === productId ? { ...i, price } : i\n    ));\n  };\n\n  // Generate order number\n  const generateOrderNumber = () => {\n    const manualOrders = state.orders.filter(o => o.channel === 'manual').length;\n    return `MAN-${(manualOrders + 1).toString().padStart(4, '0')}`;\n  };\n\n  // Validate email\n  const isValidEmail = (email: string) => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n  };\n\n  // Validation\n  const isValid = useMemo(() => {\n    if (!customerName.trim()) return false;\n    if (!customerEmail.trim() || !isValidEmail(customerEmail)) return false;\n    if (!street.trim()) return false;\n    if (!city.trim()) return false;\n    if (!addressState.trim()) return false;\n    if (!zip.trim()) return false;\n    if (!country) return false;\n    if (items.length === 0) return false;\n    return true;\n  }, [customerName, customerEmail, street, city, addressState, zip, country, items]);\n\n  // Submit handler\n  const handleSubmit = () => {\n    if (!isValid) return;\n\n    setIsSubmitting(true);\n\n    try {\n      const orderNumber = generateOrderNumber();\n      const shippingVal = parseFloat(shipping) || 0;\n      const taxVal = parseFloat(tax) || 0;\n      const discountVal = parseFloat(discount) || 0;\n\n      const newOrder: Order = {\n        id: crypto.randomUUID(),\n        orderNumber,\n        channel: 'manual',\n        status: 'to_pick',\n        customer: {\n          name: customerName.trim(),\n          email: customerEmail.trim(),\n          phone: customerPhone.trim() || undefined,\n          address: {\n            street: street.trim(),\n            city: city.trim(),\n            state: addressState.trim(),\n            zip: zip.trim(),\n            country,\n          },\n        },\n        items: items.map(item => ({\n          productId: item.productId,\n          productName: item.productName,\n          sku: item.sku,\n          quantity: item.quantity,\n          price: item.price,\n          cost: item.cost,\n          picked: false,\n        })),\n        subtotal: orderTotals.subtotal,\n        shipping: shippingVal,\n        tax: taxVal,\n        discount: discountVal,\n        total: orderTotals.total,\n        cogs: orderTotals.cogs,\n        profit: orderTotals.profit,\n        margin: orderTotals.margin,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      };\n\n      dispatch({ type: 'ADD_ORDER', payload: newOrder });\n      success(`Order ${orderNumber} created successfully`);\n      onClose();\n    } catch (err) {\n      error('Failed to create order. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={onClose}\n      title=\"Create Manual Order\"\n      subtitle=\"Add a new order manually\"\n      size=\"lg\"\n      footer={\n        <>\n          <Button variant=\"secondary\" onClick={onClose}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={isSubmitting || !isValid}>\n            {isSubmitting ? (\n              <>\n                <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                Creating...\n              </>\n            ) : (\n              <>\n                <i className=\"fas fa-plus mr-2\"></i>\n                Create Order\n              </>\n            )}\n          </Button>\n        </>\n      }\n    >\n      <div className=\"space-y-6\">\n        {/* Customer Information */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Customer Information</h3>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Name *</label>\n              <input\n                type=\"text\"\n                value={customerName}\n                onChange={e => setCustomerName(e.target.value)}\n                placeholder=\"John Doe\"\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Email *</label>\n              <input\n                type=\"email\"\n                value={customerEmail}\n                onChange={e => setCustomerEmail(e.target.value)}\n                placeholder=\"john@example.com\"\n                className={`w-full bg-slate-800 border rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none ${\n                  customerEmail && !isValidEmail(customerEmail)\n                    ? 'border-red-500/50'\n                    : 'border-slate-700 focus:border-emerald-500/50'\n                }`}\n              />\n              {customerEmail && !isValidEmail(customerEmail) && (\n                <p className=\"text-xs text-red-400 mt-1\">Invalid email format</p>\n              )}\n            </div>\n            <div className=\"col-span-2\">\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Phone (Optional)</label>\n              <input\n                type=\"tel\"\n                value={customerPhone}\n                onChange={e => setCustomerPhone(e.target.value)}\n                placeholder=\"+1 (555) 123-4567\"\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Shipping Address */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Shipping Address</h3>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"col-span-2\">\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Street Address *</label>\n              <input\n                type=\"text\"\n                value={street}\n                onChange={e => setStreet(e.target.value)}\n                placeholder=\"123 Main Street\"\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">City *</label>\n              <input\n                type=\"text\"\n                value={city}\n                onChange={e => setCity(e.target.value)}\n                placeholder=\"New York\"\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">State *</label>\n              <input\n                type=\"text\"\n                value={addressState}\n                onChange={e => setAddressState(e.target.value)}\n                placeholder=\"NY\"\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">ZIP Code *</label>\n              <input\n                type=\"text\"\n                value={zip}\n                onChange={e => setZip(e.target.value)}\n                placeholder=\"10001\"\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Country *</label>\n              <select\n                value={country}\n                onChange={e => setCountry(e.target.value)}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n              >\n                {COUNTRIES.map(c => (\n                  <option key={c} value={c}>{c}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Order Items */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Order Items *</h3>\n\n          {/* Add Item */}\n          <div className=\"flex gap-2 mb-4\">\n            <div className=\"flex-1 relative\">\n              <i className=\"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\"></i>\n              <input\n                type=\"text\"\n                value={productSearch}\n                onChange={e => {\n                  setProductSearch(e.target.value);\n                  setShowProductDropdown(true);\n                }}\n                onFocus={() => setShowProductDropdown(true)}\n                placeholder=\"Search products...\"\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n              />\n\n              {/* Dropdown */}\n              {showProductDropdown && filteredProducts.length > 0 && (\n                <div className=\"absolute z-10 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-lg max-h-48 overflow-auto\">\n                  {filteredProducts.map(product => {\n                    const stock = getProductStock(product.id);\n                    return (\n                      <button\n                        key={product.id}\n                        type=\"button\"\n                        onClick={() => addItem(product.id)}\n                        className=\"w-full px-4 py-2.5 flex items-center justify-between hover:bg-slate-700/50 text-left\"\n                      >\n                        <div>\n                          <div className=\"text-sm text-white\">{product.name}</div>\n                          <div className=\"text-xs text-slate-400\">\n                            {product.sku} - {formatCurrency(product.prices.msrp)}\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className={`text-sm ${stock > 0 ? 'text-emerald-400' : 'text-red-400'}`}>\n                            {formatNumber(stock)} in stock\n                          </div>\n                        </div>\n                      </button>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n            <input\n              type=\"number\"\n              min=\"1\"\n              value={itemQty}\n              onChange={e => setItemQty(e.target.value)}\n              className=\"w-20 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2.5 text-white text-center focus:outline-none focus:border-emerald-500/50\"\n              placeholder=\"Qty\"\n            />\n          </div>\n\n          {/* Items List */}\n          {items.length > 0 ? (\n            <div className=\"space-y-2 mb-4\">\n              {items.map(item => {\n                const stock = getProductStock(item.productId);\n                const hasInsufficientStock = stock < item.quantity;\n\n                return (\n                  <div\n                    key={item.productId}\n                    className={`flex items-center gap-3 p-3 rounded-lg border ${\n                      hasInsufficientStock\n                        ? 'bg-red-500/10 border-red-500/30'\n                        : 'bg-slate-800/50 border-slate-700/50'\n                    }`}\n                  >\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-sm text-white truncate\">{item.productName}</div>\n                      <div className=\"text-xs text-slate-400\">\n                        {item.sku} - {formatNumber(stock)} available\n                        {hasInsufficientStock && (\n                          <span className=\"text-red-400 ml-2\">\n                            <i className=\"fas fa-exclamation-triangle mr-1\"></i>\n                            Low stock\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={item.quantity}\n                        onChange={e => updateItemQty(item.productId, parseInt(e.target.value) || 1)}\n                        className=\"w-16 bg-slate-700 border border-slate-600 rounded-lg px-2 py-1.5 text-white text-center text-sm\"\n                      />\n                      <span className=\"text-slate-400\">x</span>\n                      <div className=\"relative\">\n                        <span className=\"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400 text-sm\">$</span>\n                        <input\n                          type=\"number\"\n                          step=\"0.01\"\n                          min=\"0\"\n                          value={item.price}\n                          onChange={e => updateItemPrice(item.productId, parseFloat(e.target.value) || 0)}\n                          className=\"w-24 bg-slate-700 border border-slate-600 rounded-lg pl-6 pr-2 py-1.5 text-white text-sm\"\n                        />\n                      </div>\n                      <span className=\"text-white font-medium w-20 text-right\">\n                        {formatCurrency(item.price * item.quantity)}\n                      </span>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={() => removeItem(item.productId)}\n                      className=\"p-2 text-slate-500 hover:text-red-400\"\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </button>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <div className=\"p-6 border-2 border-dashed border-slate-700 rounded-lg text-center text-slate-400 mb-4\">\n              <i className=\"fas fa-shopping-cart text-2xl mb-2\"></i>\n              <p>No items added yet</p>\n              <p className=\"text-xs text-slate-500\">Search for products above to add them</p>\n            </div>\n          )}\n        </div>\n\n        {/* Order Totals */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Order Totals</h3>\n          <div className=\"grid grid-cols-3 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Shipping</label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={shipping}\n                  onChange={e => setShipping(e.target.value)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Tax</label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={tax}\n                  onChange={e => setTax(e.target.value)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n                />\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Discount</label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={discount}\n                  onChange={e => setDiscount(e.target.value)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Summary */}\n          <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-slate-400\">Subtotal</span>\n                <span className=\"text-white\">{formatCurrency(orderTotals.subtotal)}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-slate-400\">Shipping</span>\n                <span className=\"text-white\">{formatCurrency(parseFloat(shipping) || 0)}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-slate-400\">Tax</span>\n                <span className=\"text-white\">{formatCurrency(parseFloat(tax) || 0)}</span>\n              </div>\n              {parseFloat(discount) > 0 && (\n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-400\">Discount</span>\n                  <span className=\"text-emerald-400\">-{formatCurrency(parseFloat(discount))}</span>\n                </div>\n              )}\n              <div className=\"flex justify-between pt-2 border-t border-slate-700\">\n                <span className=\"font-medium text-white\">Total</span>\n                <span className=\"font-bold text-white text-lg\">{formatCurrency(orderTotals.total)}</span>\n              </div>\n            </div>\n\n            {/* Profit Preview */}\n            {items.length > 0 && (\n              <div className=\"mt-4 pt-4 border-t border-slate-700 grid grid-cols-3 gap-3 text-center\">\n                <div>\n                  <div className=\"text-xs text-slate-400\">COGS</div>\n                  <div className=\"text-sm text-white\">{formatCurrency(orderTotals.cogs)}</div>\n                </div>\n                <div>\n                  <div className=\"text-xs text-slate-400\">Profit</div>\n                  <div className={`text-sm ${orderTotals.profit >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>\n                    {formatCurrency(orderTotals.profit)}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-xs text-slate-400\">Margin</div>\n                  <div className={`text-sm ${orderTotals.margin >= 30 ? 'text-emerald-400' : orderTotals.margin >= 15 ? 'text-amber-400' : 'text-red-400'}`}>\n                    {orderTotals.margin.toFixed(1)}%\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Notes */}\n        <div>\n          <label className=\"block text-sm text-slate-400 mb-1.5\">Internal Notes (Optional)</label>\n          <textarea\n            value={notes}\n            onChange={e => setNotes(e.target.value)}\n            rows={2}\n            placeholder=\"Any special instructions or notes...\"\n            className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 resize-none\"\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default CreateOrderModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1730, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/modals/CreatePickBatchModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { useApp, Order, PickingBatch, PickingTote } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { formatCurrency } from '@/lib/formatting';\nimport {\n  X,\n  Package,\n  ClipboardList,\n  Users,\n  AlertCircle,\n  CheckCircle,\n  Box,\n} from 'lucide-react';\n\ninterface CreatePickBatchModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  selectedOrderIds: string[];\n}\n\nexport function CreatePickBatchModal({\n  isOpen,\n  onClose,\n  selectedOrderIds,\n}: CreatePickBatchModalProps) {\n  const { state, dispatch } = useApp();\n  const { success, error, warning } = useToast();\n\n  const [batchName, setBatchName] = useState('');\n  const [assignedTo, setAssignedTo] = useState('');\n  const [selectedTotes, setSelectedTotes] = useState<string[]>([]);\n\n  // Get selected orders\n  const selectedOrders = useMemo(() => {\n    return state.orders.filter(o => selectedOrderIds.includes(o.id));\n  }, [state.orders, selectedOrderIds]);\n\n  // Calculate totals\n  const totals = useMemo(() => {\n    const totalItems = selectedOrders.reduce(\n      (sum, o) => sum + o.items.reduce((s, i) => s + i.quantity, 0),\n      0\n    );\n    const totalValue = selectedOrders.reduce((sum, o) => sum + o.total, 0);\n    const uniqueSkus = new Set(\n      selectedOrders.flatMap(o => o.items.map(i => i.sku))\n    ).size;\n\n    return { totalItems, totalValue, uniqueSkus };\n  }, [selectedOrders]);\n\n  // Check batch limits\n  const batchLimits = useMemo(() => {\n    const { maxOrdersPerBatch, maxItemsPerBatch, pickingMode } = state.settings;\n    const ordersOk = selectedOrders.length <= maxOrdersPerBatch;\n    const itemsOk = totals.totalItems <= maxItemsPerBatch;\n    const totesNeeded = pickingMode === 'multi_tote' ? selectedOrders.length : 1;\n    const totesAvailable = state.pickingTotes.filter(t => t.isActive).length;\n    const totesOk = totesAvailable >= totesNeeded;\n\n    return {\n      ordersOk,\n      itemsOk,\n      totesOk,\n      maxOrders: maxOrdersPerBatch,\n      maxItems: maxItemsPerBatch,\n      totesNeeded,\n      totesAvailable,\n    };\n  }, [selectedOrders.length, totals.totalItems, state.settings, state.pickingTotes]);\n\n  // Check for orders not ready to pick\n  const ordersNotReady = selectedOrders.filter(\n    o => o.status !== 'to_pick' && o.status !== 'draft'\n  );\n\n  // Available totes\n  const availableTotes = state.pickingTotes.filter(t => t.isActive);\n\n  // Generate batch number\n  const generateBatchNumber = () => {\n    const date = new Date();\n    const dateStr = date.toISOString().slice(0, 10).replace(/-/g, '');\n    const existingToday = state.pickingBatches.filter(\n      b => b.batchNumber.startsWith(`PB-${dateStr}`)\n    ).length;\n    return `PB-${dateStr}-${String(existingToday + 1).padStart(3, '0')}`;\n  };\n\n  // Handle create batch\n  const handleCreate = () => {\n    if (selectedOrders.length === 0) {\n      error('No orders selected');\n      return;\n    }\n\n    // Filter out orders that aren't ready\n    const validOrders = selectedOrders.filter(\n      o => o.status === 'to_pick' || o.status === 'draft'\n    );\n\n    if (validOrders.length === 0) {\n      error('No orders are ready for picking');\n      return;\n    }\n\n    // Check totes for multi-tote mode\n    if (state.settings.pickingMode === 'multi_tote') {\n      if (selectedTotes.length < validOrders.length) {\n        error(`Need ${validOrders.length} totes but only ${selectedTotes.length} selected`);\n        return;\n      }\n    }\n\n    // Create the batch\n    const newBatch: PickingBatch = {\n      id: crypto.randomUUID(),\n      batchNumber: generateBatchNumber(),\n      status: 'open',\n      orderIds: validOrders.map(o => o.id),\n      assignedTo: assignedTo || undefined,\n      createdAt: new Date(),\n    };\n\n    dispatch({ type: 'ADD_PICKING_BATCH', payload: newBatch });\n\n    // Update orders to 'picking' status\n    validOrders.forEach(order => {\n      dispatch({\n        type: 'UPDATE_ORDER_STATUS',\n        payload: { orderId: order.id, status: 'picking' },\n      });\n    });\n\n    success(`Pick batch ${newBatch.batchNumber} created with ${validOrders.length} orders`);\n\n    if (ordersNotReady.length > 0) {\n      warning(`${ordersNotReady.length} orders were skipped (not ready for picking)`);\n    }\n\n    // Reset and close\n    setBatchName('');\n    setAssignedTo('');\n    setSelectedTotes([]);\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div className=\"relative bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-slate-700\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center\">\n              <ClipboardList className=\"w-5 h-5 text-emerald-400\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold text-white\">Create Pick Batch</h2>\n              <p className=\"text-sm text-slate-400\">\n                {selectedOrders.length} orders selected\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 space-y-6 overflow-y-auto max-h-[60vh]\">\n          {/* Summary Stats */}\n          <div className=\"grid grid-cols-4 gap-4\">\n            <div className=\"p-3 bg-slate-800/50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-white\">{selectedOrders.length}</div>\n              <div className=\"text-xs text-slate-400\">Orders</div>\n            </div>\n            <div className=\"p-3 bg-slate-800/50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-white\">{totals.totalItems}</div>\n              <div className=\"text-xs text-slate-400\">Total Items</div>\n            </div>\n            <div className=\"p-3 bg-slate-800/50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-white\">{totals.uniqueSkus}</div>\n              <div className=\"text-xs text-slate-400\">Unique SKUs</div>\n            </div>\n            <div className=\"p-3 bg-slate-800/50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-emerald-400\">\n                {formatCurrency(totals.totalValue)}\n              </div>\n              <div className=\"text-xs text-slate-400\">Total Value</div>\n            </div>\n          </div>\n\n          {/* Validation Messages */}\n          {ordersNotReady.length > 0 && (\n            <div className=\"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg\">\n              <div className=\"flex items-start gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium text-amber-400\">\n                    {ordersNotReady.length} orders not ready for picking\n                  </p>\n                  <p className=\"text-xs text-amber-300 mt-1\">\n                    Orders must be in &quot;To Pick&quot; status. These will be skipped.\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {!batchLimits.ordersOk && (\n            <div className=\"p-3 bg-red-500/10 border border-red-500/30 rounded-lg\">\n              <div className=\"flex items-start gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium text-red-400\">\n                    Exceeds maximum orders per batch ({batchLimits.maxOrders})\n                  </p>\n                  <p className=\"text-xs text-red-300 mt-1\">\n                    Consider splitting into multiple batches.\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {!batchLimits.itemsOk && (\n            <div className=\"p-3 bg-red-500/10 border border-red-500/30 rounded-lg\">\n              <div className=\"flex items-start gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium text-red-400\">\n                    Exceeds maximum items per batch ({batchLimits.maxItems})\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Picking Mode Info */}\n          <div className=\"p-4 bg-slate-800/50 rounded-lg\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <Package className=\"w-5 h-5 text-blue-400\" />\n              <span className=\"font-medium text-white\">\n                {state.settings.pickingMode === 'multi_tote' ? 'Multi-Tote Mode' : 'Single-Tote Mode'}\n              </span>\n            </div>\n            <p className=\"text-sm text-slate-400\">\n              {state.settings.pickingMode === 'multi_tote'\n                ? `Each order gets its own tote. You need ${batchLimits.totesNeeded} totes for this batch.`\n                : 'All items collected in one tote. Requires sorting after picking.'}\n            </p>\n            {state.settings.pickingMode === 'multi_tote' && (\n              <div className=\"mt-2 flex items-center gap-2\">\n                <Box className=\"w-4 h-4 text-slate-500\" />\n                <span className=\"text-sm text-slate-400\">\n                  {batchLimits.totesAvailable} totes available\n                </span>\n                {batchLimits.totesOk ? (\n                  <CheckCircle className=\"w-4 h-4 text-emerald-400\" />\n                ) : (\n                  <span className=\"text-xs text-red-400\">\n                    (need {batchLimits.totesNeeded - batchLimits.totesAvailable} more)\n                  </span>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Assign To */}\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1.5\">\n              Assign to (optional)\n            </label>\n            <div className=\"relative\">\n              <Users className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n              <select\n                value={assignedTo}\n                onChange={(e) => setAssignedTo(e.target.value)}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n              >\n                <option value=\"\">Unassigned</option>\n                <option value=\"John\">John</option>\n                <option value=\"Jane\">Jane</option>\n                <option value=\"Mike\">Mike</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Order Preview */}\n          <div>\n            <h3 className=\"text-sm font-medium text-white mb-3\">Orders in Batch</h3>\n            <div className=\"max-h-40 overflow-y-auto space-y-2\">\n              {selectedOrders.map((order) => {\n                const isReady = order.status === 'to_pick' || order.status === 'draft';\n                return (\n                  <div\n                    key={order.id}\n                    className={`p-3 rounded-lg flex items-center justify-between ${\n                      isReady ? 'bg-slate-800/50' : 'bg-red-500/10 border border-red-500/20'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"font-mono text-sm text-white\">\n                        #{order.orderNumber}\n                      </span>\n                      <span className=\"text-sm text-slate-400\">\n                        {order.customer.name}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-sm text-slate-400\">\n                        {order.items.reduce((s, i) => s + i.quantity, 0)} items\n                      </span>\n                      {!isReady && (\n                        <span className=\"text-xs text-red-400\">\n                          Status: {order.status}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"px-6 py-4 border-t border-slate-700 flex items-center justify-between\">\n          <p className=\"text-sm text-slate-400\">\n            Batch will be created with{' '}\n            <span className=\"text-white font-medium\">\n              {selectedOrders.length - ordersNotReady.length}\n            </span>{' '}\n            orders\n          </p>\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={onClose}\n              className=\"px-4 py-2 text-slate-400 hover:text-white transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleCreate}\n              disabled={selectedOrders.length - ordersNotReady.length === 0}\n              className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n            >\n              <ClipboardList className=\"w-4 h-4\" />\n              Create Batch\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2553, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/app/orders/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo, Suspense, useEffect, useCallback } from 'react';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { useApp, Order } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { ActiveFilters } from '@/components/ui/FilterBadge';\nimport { CreateOrderModal } from '@/components/modals/CreateOrderModal';\nimport { CreatePickBatchModal } from '@/components/modals/CreatePickBatchModal';\nimport { formatCurrency, formatNumber } from '@/lib/formatting';\n\ntype StatusFilter = Order['status'] | '';\ntype ChannelFilter = Order['channel'] | '';\ntype DateFilter = 'all' | 'today' | 'yesterday' | 'last7' | 'last30' | 'thisMonth';\n\nfunction OrdersPageContent() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const { state, dispatch } = useApp();\n  const { success, warning } = useToast();\n\n  // Modal states\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [isPickBatchModalOpen, setIsPickBatchModalOpen] = useState(false);\n\n  // Filter states\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<StatusFilter>('');\n  const [channelFilter, setChannelFilter] = useState<ChannelFilter>('');\n  const [dateFilter, setDateFilter] = useState<DateFilter>('all');\n  const [urlInitialized, setUrlInitialized] = useState(false);\n\n  // Initialize filters from URL\n  useEffect(() => {\n    if (!urlInitialized) {\n      const status = searchParams.get('status') as StatusFilter;\n      const channelParam = searchParams.get('channel');\n      const search = searchParams.get('search');\n\n      if (status) setStatusFilter(status);\n      if (channelParam) {\n        // Handle \"amazon\" as a special case to match both FBA and FBM\n        if (channelParam === 'amazon') {\n          setChannelFilter('amazon_fba'); // Default to FBA\n        } else {\n          setChannelFilter(channelParam as ChannelFilter);\n        }\n      }\n      if (search) setSearchQuery(search);\n\n      setUrlInitialized(true);\n    }\n  }, [searchParams, urlInitialized]);\n\n  // Update URL when filters change\n  const updateUrlParams = useCallback((newFilters: {\n    status?: string;\n    channel?: string;\n    search?: string;\n  }) => {\n    const params = new URLSearchParams();\n    const status = newFilters.status ?? statusFilter;\n    const channel = newFilters.channel ?? channelFilter;\n    const search = newFilters.search ?? searchQuery;\n\n    if (status) params.set('status', status);\n    if (channel) params.set('channel', channel);\n    if (search) params.set('search', search);\n\n    const url = params.toString() ? `/orders?${params.toString()}` : '/orders';\n    router.replace(url, { scroll: false });\n  }, [router, statusFilter, channelFilter, searchQuery]);\n\n  // Build active filters for display\n  const activeFiltersList = useMemo(() => {\n    const filters: Array<{ key: string; label: string; value: string }> = [];\n\n    if (statusFilter) {\n      const statusLabels: Record<string, string> = {\n        draft: 'Draft', to_pick: 'To Pick', picking: 'Picking',\n        to_pack: 'To Pack', packing: 'Packing', ready: 'Ready',\n        shipped: 'Shipped', delivered: 'Delivered', cancelled: 'Cancelled',\n      };\n      filters.push({ key: 'status', label: 'Status', value: statusLabels[statusFilter] || statusFilter });\n    }\n\n    if (channelFilter) {\n      const channelLabels: Record<string, string> = {\n        shopify: 'Shopify', amazon_fba: 'Amazon FBA', amazon_fbm: 'Amazon FBM', manual: 'Manual',\n      };\n      filters.push({ key: 'channel', label: 'Channel', value: channelLabels[channelFilter] || channelFilter });\n    }\n\n    if (searchQuery) {\n      filters.push({ key: 'search', label: 'Search', value: searchQuery });\n    }\n\n    if (dateFilter !== 'all') {\n      const dateLabels: Record<string, string> = {\n        today: 'Today', yesterday: 'Yesterday', last7: 'Last 7 Days', last30: 'Last 30 Days', thisMonth: 'This Month',\n      };\n      filters.push({ key: 'date', label: 'Date', value: dateLabels[dateFilter] });\n    }\n\n    return filters;\n  }, [statusFilter, channelFilter, searchQuery, dateFilter]);\n\n  // Handle filter removal\n  const handleRemoveFilter = (key: string) => {\n    if (key === 'status') {\n      setStatusFilter('');\n      updateUrlParams({ status: '' });\n    } else if (key === 'channel') {\n      setChannelFilter('');\n      updateUrlParams({ channel: '' });\n    } else if (key === 'search') {\n      setSearchQuery('');\n      updateUrlParams({ search: '' });\n    } else if (key === 'date') {\n      setDateFilter('all');\n    }\n  };\n\n  // Clear all filters\n  const handleClearAllFilters = () => {\n    setStatusFilter('');\n    setChannelFilter('');\n    setSearchQuery('');\n    setDateFilter('all');\n    router.replace('/orders', { scroll: false });\n  };\n\n  // Selection states\n  const [selectedOrders, setSelectedOrders] = useState<Set<string>>(new Set());\n\n  // Pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 10;\n\n  // Sync state\n  const [isSyncing, setIsSyncing] = useState(false);\n\n  // Date filtering helper\n  const filterByDate = (date: Date, filter: DateFilter) => {\n    const orderDate = new Date(date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    switch (filter) {\n      case 'today':\n        return orderDate >= today;\n      case 'yesterday':\n        const yesterday = new Date(today);\n        yesterday.setDate(yesterday.getDate() - 1);\n        return orderDate >= yesterday && orderDate < today;\n      case 'last7':\n        const last7 = new Date(today);\n        last7.setDate(last7.getDate() - 7);\n        return orderDate >= last7;\n      case 'last30':\n        const last30 = new Date(today);\n        last30.setDate(last30.getDate() - 30);\n        return orderDate >= last30;\n      case 'thisMonth':\n        return orderDate.getMonth() === today.getMonth() &&\n               orderDate.getFullYear() === today.getFullYear();\n      default:\n        return true;\n    }\n  };\n\n  // Filter orders\n  const filteredOrders = useMemo(() => {\n    return state.orders.filter(order => {\n      // Search\n      const matchesSearch =\n        order.orderNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        order.customer.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        order.customer.email.toLowerCase().includes(searchQuery.toLowerCase());\n\n      // Status\n      const matchesStatus = !statusFilter || order.status === statusFilter;\n\n      // Channel\n      const matchesChannel = !channelFilter || order.channel === channelFilter;\n\n      // Date\n      const matchesDate = filterByDate(order.createdAt, dateFilter);\n\n      return matchesSearch && matchesStatus && matchesChannel && matchesDate;\n    });\n  }, [state.orders, searchQuery, statusFilter, channelFilter, dateFilter]);\n\n  // Pagination\n  const totalPages = Math.ceil(filteredOrders.length / itemsPerPage);\n  const paginatedOrders = filteredOrders.slice(\n    (currentPage - 1) * itemsPerPage,\n    currentPage * itemsPerPage\n  );\n\n  // Calculate stats from real data\n  const stats = useMemo(() => {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    const todaysOrders = state.orders.filter(o => new Date(o.createdAt) >= today);\n\n    return {\n      toPick: state.orders.filter(o => o.status === 'to_pick').length,\n      toPack: state.orders.filter(o => o.status === 'to_pack').length,\n      ready: state.orders.filter(o => o.status === 'ready').length,\n      shippedToday: todaysOrders.filter(o => o.status === 'shipped').length,\n      todayRevenue: todaysOrders.reduce((sum, o) => sum + o.total, 0),\n      todayProfit: todaysOrders.reduce((sum, o) => sum + o.profit, 0),\n    };\n  }, [state.orders]);\n\n  // Format date\n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric',\n    });\n  };\n\n  const formatTime = (date: Date) => {\n    return new Date(date).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  // Get channel badge\n  const getChannelBadge = (channel: Order['channel']) => {\n    switch (channel) {\n      case 'shopify':\n        return (\n          <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-green-500/10 text-green-400 text-xs font-medium rounded-full border border-green-500/20\">\n            <i className=\"fab fa-shopify\"></i>\n            Shopify\n          </span>\n        );\n      case 'amazon_fbm':\n        return (\n          <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-orange-500/10 text-orange-400 text-xs font-medium rounded-full border border-orange-500/20\">\n            <i className=\"fab fa-amazon\"></i>\n            FBM\n          </span>\n        );\n      case 'amazon_fba':\n        return (\n          <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-orange-500/10 text-orange-400 text-xs font-medium rounded-full border border-orange-500/20\">\n            <i className=\"fab fa-amazon\"></i>\n            FBA\n          </span>\n        );\n      case 'manual':\n        return (\n          <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-slate-500/10 text-slate-400 text-xs font-medium rounded-full border border-slate-500/20\">\n            <i className=\"fas fa-user\"></i>\n            Manual\n          </span>\n        );\n    }\n  };\n\n  // Get status badge\n  const getStatusBadge = (status: Order['status']) => {\n    const styles: Record<Order['status'], { bg: string; text: string; icon: string; label: string }> = {\n      draft: { bg: 'bg-slate-500/10', text: 'text-slate-400', icon: 'fa-file-alt', label: 'Draft' },\n      to_pick: { bg: 'bg-amber-500/10', text: 'text-amber-400', icon: 'fa-hand-pointer', label: 'To Pick' },\n      picking: { bg: 'bg-blue-500/10', text: 'text-blue-400', icon: 'fa-clipboard-list', label: 'Picking' },\n      to_pack: { bg: 'bg-purple-500/10', text: 'text-purple-400', icon: 'fa-box', label: 'To Pack' },\n      packing: { bg: 'bg-indigo-500/10', text: 'text-indigo-400', icon: 'fa-box-open', label: 'Packing' },\n      ready: { bg: 'bg-cyan-500/10', text: 'text-cyan-400', icon: 'fa-tag', label: 'Ready' },\n      shipped: { bg: 'bg-emerald-500/10', text: 'text-emerald-400', icon: 'fa-truck', label: 'Shipped' },\n      delivered: { bg: 'bg-green-500/20', text: 'text-green-400', icon: 'fa-check', label: 'Delivered' },\n      cancelled: { bg: 'bg-red-500/10', text: 'text-red-400', icon: 'fa-times', label: 'Cancelled' },\n    };\n    const style = styles[status];\n    return (\n      <span className={`inline-flex items-center gap-1 px-2.5 py-1 ${style.bg} ${style.text} text-xs font-medium rounded-full border border-current/20`}>\n        <i className={`fas ${style.icon} text-[10px]`}></i>\n        {style.label}\n      </span>\n    );\n  };\n\n  // Handle stat click\n  const handleStatClick = (status: StatusFilter) => {\n    const newStatus = statusFilter === status ? '' : status;\n    setStatusFilter(newStatus);\n    setCurrentPage(1);\n    if (urlInitialized) updateUrlParams({ status: newStatus });\n  };\n\n  // Handle checkbox\n  const handleCheckbox = (orderId: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    const newSelected = new Set(selectedOrders);\n    if (newSelected.has(orderId)) {\n      newSelected.delete(orderId);\n    } else {\n      newSelected.add(orderId);\n    }\n    setSelectedOrders(newSelected);\n  };\n\n  // Handle select all\n  const handleSelectAll = () => {\n    if (selectedOrders.size === paginatedOrders.length) {\n      setSelectedOrders(new Set());\n    } else {\n      setSelectedOrders(new Set(paginatedOrders.map(o => o.id)));\n    }\n  };\n\n  // Sync orders (placeholder)\n  const handleSyncOrders = async () => {\n    setIsSyncing(true);\n    // Simulate API call\n    await new Promise(resolve => setTimeout(resolve, 2000));\n    setIsSyncing(false);\n    success('Orders synced successfully!');\n  };\n\n  // Export orders\n  const handleExport = (orderIds?: string[]) => {\n    const ordersToExport = orderIds\n      ? state.orders.filter(o => orderIds.includes(o.id))\n      : filteredOrders;\n\n    const headers = ['Order #', 'Date', 'Customer', 'Email', 'Channel', 'Items', 'Total', 'COGS', 'Profit', 'Status'];\n\n    const rows = ordersToExport.map(o => [\n      o.orderNumber,\n      formatDate(o.createdAt),\n      o.customer.name,\n      o.customer.email,\n      o.channel,\n      o.items.reduce((sum, i) => sum + i.quantity, 0),\n      o.total.toFixed(2),\n      o.cogs.toFixed(2),\n      o.profit.toFixed(2),\n      o.status\n    ]);\n\n    const csv = [headers, ...rows].map(row => row.join(',')).join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `orders-export-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n\n    success(`Exported ${ordersToExport.length} orders`);\n  };\n\n  // Bulk actions\n  const handleBulkAction = (action: string) => {\n    if (selectedOrders.size === 0) return;\n\n    switch (action) {\n      case 'mark_picked':\n        selectedOrders.forEach(id => {\n          dispatch({ type: 'UPDATE_ORDER_STATUS', payload: { orderId: id, status: 'to_pack' } });\n        });\n        success(`${selectedOrders.size} orders marked as picked`);\n        setSelectedOrders(new Set());\n        break;\n      case 'create_pick_batch':\n        setIsPickBatchModalOpen(true);\n        // Don't clear selection - the modal needs it\n        return;\n      case 'export':\n        handleExport(Array.from(selectedOrders));\n        setSelectedOrders(new Set());\n        break;\n      default:\n        setSelectedOrders(new Set());\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-white\">Orders</h1>\n          <p className=\"text-sm text-slate-400\">Manage and fulfill customer orders</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <button\n            onClick={() => handleExport()}\n            className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-download text-sm\"></i>\n            Export\n          </button>\n          <button\n            onClick={handleSyncOrders}\n            disabled={isSyncing}\n            className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50\"\n          >\n            {isSyncing ? (\n              <>\n                <i className=\"fas fa-spinner fa-spin text-sm\"></i>\n                Syncing...\n              </>\n            ) : (\n              <>\n                <i className=\"fas fa-sync-alt text-sm\"></i>\n                Sync Orders\n              </>\n            )}\n          </button>\n          <button\n            onClick={() => setIsCreateModalOpen(true)}\n            className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-plus text-sm\"></i>\n            Manual Order\n          </button>\n        </div>\n      </div>\n\n      {/* Stats Row */}\n      <div className=\"grid grid-cols-6 gap-4\">\n        {/* To Pick */}\n        <div\n          className={`bg-slate-800/50 backdrop-blur border rounded-xl p-4 cursor-pointer hover:bg-amber-500/10 transition-colors ${\n            statusFilter === 'to_pick' ? 'border-amber-500/50 bg-amber-500/10 ring-2 ring-amber-500/30' : 'border-amber-500/30'\n          }`}\n          onClick={() => handleStatClick('to_pick')}\n        >\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center\">\n              <i className=\"fas fa-hand-pointer text-amber-400\"></i>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-amber-400\">{stats.toPick}</div>\n              <div className=\"text-xs text-slate-400\">To Pick</div>\n            </div>\n          </div>\n        </div>\n\n        {/* To Pack */}\n        <div\n          className={`bg-slate-800/50 backdrop-blur border rounded-xl p-4 cursor-pointer hover:bg-purple-500/10 transition-colors ${\n            statusFilter === 'to_pack' ? 'border-purple-500/50 bg-purple-500/10 ring-2 ring-purple-500/30' : 'border-purple-500/30'\n          }`}\n          onClick={() => handleStatClick('to_pack')}\n        >\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center\">\n              <i className=\"fas fa-box text-purple-400\"></i>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-purple-400\">{stats.toPack}</div>\n              <div className=\"text-xs text-slate-400\">To Pack</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Ready to Ship */}\n        <div\n          className={`bg-slate-800/50 backdrop-blur border rounded-xl p-4 cursor-pointer hover:bg-cyan-500/10 transition-colors ${\n            statusFilter === 'ready' ? 'border-cyan-500/50 bg-cyan-500/10 ring-2 ring-cyan-500/30' : 'border-cyan-500/30'\n          }`}\n          onClick={() => handleStatClick('ready')}\n        >\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center\">\n              <i className=\"fas fa-tag text-cyan-400\"></i>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-cyan-400\">{stats.ready}</div>\n              <div className=\"text-xs text-slate-400\">Ready to Ship</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Shipped Today */}\n        <div\n          className={`bg-slate-800/50 backdrop-blur border rounded-xl p-4 cursor-pointer hover:bg-emerald-500/10 transition-colors ${\n            statusFilter === 'shipped' ? 'border-emerald-500/50 bg-emerald-500/10 ring-2 ring-emerald-500/30' : 'border-emerald-500/30'\n          }`}\n          onClick={() => handleStatClick('shipped')}\n        >\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center\">\n              <i className=\"fas fa-truck text-emerald-400\"></i>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-emerald-400\">{stats.shippedToday}</div>\n              <div className=\"text-xs text-slate-400\">Shipped Today</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Today's Revenue */}\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center\">\n              <i className=\"fas fa-dollar-sign text-slate-400\"></i>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-white\">{formatCurrency(stats.todayRevenue)}</div>\n              <div className=\"text-xs text-slate-400\">Today&apos;s Revenue</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Today's Profit */}\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center\">\n              <i className=\"fas fa-chart-line text-emerald-400\"></i>\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-emerald-400\">{formatCurrency(stats.todayProfit)}</div>\n              <div className=\"text-xs text-slate-400\">Today&apos;s Profit</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Active Filters Banner */}\n      {activeFiltersList.length > 0 && (\n        <ActiveFilters\n          filters={activeFiltersList}\n          onRemove={handleRemoveFilter}\n          onClearAll={handleClearAllFilters}\n        />\n      )}\n\n      {/* Filters Row */}\n      <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n        <div className=\"flex items-center gap-4\">\n          {/* Search */}\n          <div className=\"flex-1 relative\">\n            <i className=\"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\"></i>\n            <input\n              type=\"text\"\n              placeholder=\"Search by order #, customer name, email...\"\n              value={searchQuery}\n              onChange={(e) => {\n                setSearchQuery(e.target.value);\n                setCurrentPage(1);\n              }}\n              className=\"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:border-emerald-500/50\"\n            />\n          </div>\n\n          {/* Status Filter */}\n          <select\n            value={statusFilter}\n            onChange={(e) => {\n              setStatusFilter(e.target.value as StatusFilter);\n              setCurrentPage(1);\n            }}\n            className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50\"\n          >\n            <option value=\"\">All Statuses</option>\n            <option value=\"to_pick\">To Pick</option>\n            <option value=\"picking\">Picking</option>\n            <option value=\"to_pack\">To Pack</option>\n            <option value=\"packing\">Packing</option>\n            <option value=\"ready\">Ready</option>\n            <option value=\"shipped\">Shipped</option>\n            <option value=\"delivered\">Delivered</option>\n            <option value=\"cancelled\">Cancelled</option>\n          </select>\n\n          {/* Channel Filter */}\n          <select\n            value={channelFilter}\n            onChange={(e) => {\n              setChannelFilter(e.target.value as ChannelFilter);\n              setCurrentPage(1);\n            }}\n            className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50\"\n          >\n            <option value=\"\">All Channels</option>\n            <option value=\"shopify\">Shopify</option>\n            <option value=\"amazon_fbm\">Amazon FBM</option>\n            <option value=\"amazon_fba\">Amazon FBA</option>\n            <option value=\"manual\">Manual</option>\n          </select>\n\n          {/* Date Filter */}\n          <select\n            value={dateFilter}\n            onChange={(e) => {\n              setDateFilter(e.target.value as DateFilter);\n              setCurrentPage(1);\n            }}\n            className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50\"\n          >\n            <option value=\"all\">All Time</option>\n            <option value=\"today\">Today</option>\n            <option value=\"yesterday\">Yesterday</option>\n            <option value=\"last7\">Last 7 days</option>\n            <option value=\"last30\">Last 30 days</option>\n            <option value=\"thisMonth\">This month</option>\n          </select>\n\n          {/* Bulk Actions */}\n          {selectedOrders.size > 0 && (\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-slate-400\">{selectedOrders.size} selected</span>\n              <select\n                onChange={(e) => {\n                  if (e.target.value) {\n                    handleBulkAction(e.target.value);\n                    e.target.value = '';\n                  }\n                }}\n                className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50\"\n              >\n                <option value=\"\">Bulk Actions</option>\n                <option value=\"create_pick_batch\">Create Pick Batch</option>\n                <option value=\"mark_picked\">Mark as Picked</option>\n                <option value=\"export\">Export Selected</option>\n              </select>\n              <button\n                onClick={() => setIsPickBatchModalOpen(true)}\n                className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n              >\n                <i className=\"fas fa-clipboard-list text-sm\"></i>\n                Create Batch\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Orders Table */}\n      <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-slate-800/50 border-b border-slate-700/50\">\n              <tr className=\"text-left text-xs text-slate-400 uppercase tracking-wider\">\n                <th className=\"px-4 py-3 font-medium\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedOrders.size === paginatedOrders.length && paginatedOrders.length > 0}\n                    onChange={handleSelectAll}\n                    className=\"rounded bg-slate-700 border-slate-600\"\n                  />\n                </th>\n                <th className=\"px-4 py-3 font-medium\">Order</th>\n                <th className=\"px-4 py-3 font-medium\">Date</th>\n                <th className=\"px-4 py-3 font-medium\">Customer</th>\n                <th className=\"px-4 py-3 font-medium\">Channel</th>\n                <th className=\"px-4 py-3 font-medium\">Items</th>\n                <th className=\"px-4 py-3 font-medium text-right\">Total</th>\n                <th className=\"px-4 py-3 font-medium text-right\">Profit</th>\n                <th className=\"px-4 py-3 font-medium text-center\">Margin</th>\n                <th className=\"px-4 py-3 font-medium text-center\">Status</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-slate-700/50\">\n              {paginatedOrders.map((order) => {\n                const totalItems = order.items.reduce((sum, item) => sum + item.quantity, 0);\n                const skuCount = order.items.length;\n\n                return (\n                  <tr\n                    key={order.id}\n                    className={`transition-colors cursor-pointer hover:bg-slate-800/30 ${\n                      selectedOrders.has(order.id) ? 'bg-emerald-500/5' : ''\n                    }`}\n                    onClick={() => router.push(`/orders/${order.id}`)}\n                  >\n                    {/* Checkbox */}\n                    <td className=\"px-4 py-4\" onClick={(e) => handleCheckbox(order.id, e)}>\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedOrders.has(order.id)}\n                        onChange={() => {}}\n                        className=\"rounded bg-slate-700 border-slate-600\"\n                      />\n                    </td>\n\n                    {/* Order # */}\n                    <td className=\"px-4 py-4\">\n                      <div className=\"font-mono text-sm font-medium text-white\">#{order.orderNumber}</div>\n                      {order.veeqoId && (\n                        <div className=\"text-xs text-slate-500\">Veeqo: {order.veeqoId}</div>\n                      )}\n                    </td>\n\n                    {/* Date */}\n                    <td className=\"px-4 py-4\">\n                      <div className=\"text-sm text-white\">{formatDate(order.createdAt)}</div>\n                      <div className=\"text-xs text-slate-500\">{formatTime(order.createdAt)}</div>\n                    </td>\n\n                    {/* Customer */}\n                    <td className=\"px-4 py-4\">\n                      <div className=\"text-sm font-medium text-white\">{order.customer.name}</div>\n                      <div className=\"text-xs text-slate-400\">{order.customer.email}</div>\n                      <div className=\"text-xs text-slate-500\">\n                        {order.customer.address.city}, {order.customer.address.state}\n                      </div>\n                    </td>\n\n                    {/* Channel */}\n                    <td className=\"px-4 py-4\">{getChannelBadge(order.channel)}</td>\n\n                    {/* Items */}\n                    <td className=\"px-4 py-4\">\n                      <div className=\"text-sm text-white\">{totalItems} items</div>\n                      <div className=\"text-xs text-slate-500\">{skuCount} SKUs</div>\n                    </td>\n\n                    {/* Total */}\n                    <td className=\"px-4 py-4 text-right\">\n                      <div className=\"text-sm font-medium text-white\">{formatCurrency(order.total)}</div>\n                    </td>\n\n                    {/* Profit */}\n                    <td className=\"px-4 py-4 text-right\">\n                      <div className={`text-sm font-medium ${order.profit >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>\n                        {formatCurrency(order.profit)}\n                      </div>\n                    </td>\n\n                    {/* Margin */}\n                    <td className=\"px-4 py-4 text-center\">\n                      <span className={`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${\n                        order.margin >= 50 ? 'bg-emerald-500/10 text-emerald-400' :\n                        order.margin >= 30 ? 'bg-amber-500/10 text-amber-400' :\n                        'bg-red-500/10 text-red-400'\n                      }`}>\n                        {order.margin.toFixed(1)}%\n                      </span>\n                    </td>\n\n                    {/* Status */}\n                    <td className=\"px-4 py-4 text-center\">\n                      {getStatusBadge(order.status)}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Empty State */}\n        {filteredOrders.length === 0 && (\n          <div className=\"py-12 text-center\">\n            <i className=\"fas fa-inbox text-4xl text-slate-600 mb-4\"></i>\n            <p className=\"text-sm text-slate-400\">No orders found</p>\n            {searchQuery && (\n              <button\n                onClick={() => setSearchQuery('')}\n                className=\"mt-2 text-emerald-400 hover:text-emerald-300 text-sm\"\n              >\n                Clear search\n              </button>\n            )}\n          </div>\n        )}\n\n        {/* Pagination */}\n        {filteredOrders.length > 0 && (\n          <div className=\"px-5 py-4 border-t border-slate-700/50 flex items-center justify-between\">\n            <div className=\"text-sm text-slate-400\">\n              Showing <span className=\"text-white\">{((currentPage - 1) * itemsPerPage) + 1}-{Math.min(currentPage * itemsPerPage, filteredOrders.length)}</span> of <span className=\"text-white\">{filteredOrders.length}</span> orders\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\n                disabled={currentPage === 1}\n                className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-400 rounded-lg transition-colors disabled:opacity-50\"\n              >\n                <i className=\"fas fa-chevron-left text-sm\"></i>\n              </button>\n\n              {Array.from({ length: Math.min(totalPages, 5) }, (_, i) => {\n                let pageNum: number;\n                if (totalPages <= 5) {\n                  pageNum = i + 1;\n                } else if (currentPage <= 3) {\n                  pageNum = i + 1;\n                } else if (currentPage >= totalPages - 2) {\n                  pageNum = totalPages - 4 + i;\n                } else {\n                  pageNum = currentPage - 2 + i;\n                }\n\n                return (\n                  <button\n                    key={pageNum}\n                    onClick={() => setCurrentPage(pageNum)}\n                    className={`px-3 py-1.5 rounded-lg transition-colors ${\n                      currentPage === pageNum\n                        ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30'\n                        : 'bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-400'\n                    }`}\n                  >\n                    {pageNum}\n                  </button>\n                );\n              })}\n\n              <button\n                onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\n                disabled={currentPage === totalPages}\n                className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-400 rounded-lg transition-colors disabled:opacity-50\"\n              >\n                <i className=\"fas fa-chevron-right text-sm\"></i>\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Create Order Modal */}\n      <CreateOrderModal\n        isOpen={isCreateModalOpen}\n        onClose={() => setIsCreateModalOpen(false)}\n      />\n\n      {/* Create Pick Batch Modal */}\n      <CreatePickBatchModal\n        isOpen={isPickBatchModalOpen}\n        onClose={() => {\n          setIsPickBatchModalOpen(false);\n          setSelectedOrders(new Set());\n        }}\n        selectedOrderIds={Array.from(selectedOrders)}\n      />\n    </div>\n  );\n}\n\nexport default function OrdersPage() {\n  return (\n    <Suspense fallback={<div className=\"p-6 text-slate-400\">Loading orders...</div>}>\n      <OrdersPageContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}