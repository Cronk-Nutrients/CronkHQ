{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/context/AppContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useReducer, useEffect, ReactNode } from 'react';\n\n// Types\n// Component for product manufacturing BOM\nexport interface ProductComponent {\n  productId: string;\n  productName: string;\n  quantity: number;\n}\n\nexport interface ProductVariant {\n  id: string;\n  sku: string;\n  name: string;\n  size?: string;\n  productId: string;\n}\n\nexport interface Product {\n  id: string;\n  name: string;\n  sku: string;\n  barcode?: string;\n  category: string;\n  description?: string;\n  cost: {\n    rolling: number;\n    fixed: number;\n  };\n  prices: {\n    msrp: number;\n    shopify: number;\n    amazon: number;\n    wholesale: number;\n  };\n  weight: {\n    value: number;\n    unit: 'lbs' | 'oz' | 'kg' | 'g';\n  };\n  dimensions?: { length: number; width: number; height: number };\n  reorderPoint: number;\n  supplier?: string;\n  skus?: {\n    shopify?: string;\n    amazon?: string;\n  };\n  imageUrl?: string;\n  // Manufacturing components (BOM) - e.g., front label, back label\n  components?: ProductComponent[];\n  // Case pack quantity for PO ordering\n  casePackQty?: number;\n  // Parent product ID if this is a variant\n  parentProductId?: string;\n  // Variant info (e.g., size)\n  variantInfo?: {\n    size?: string;\n    type?: string;\n  };\n  // Serial number tracking\n  trackSerials?: boolean;\n  serialPrefix?: string;\n  serialNextNumber?: number;\n  serialSuffix?: string;\n  // Lot/batch tracking\n  trackLots?: boolean;\n  expirationTracking?: boolean;\n  expirationWarningDays?: number;\n  lotPrefix?: string;\n  lotNextNumber?: number;\n  // Supplier\n  primarySupplierId?: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\n// Serial Number Tracking Types\nexport interface SerialNumber {\n  id: string;\n  serial: string;\n  productId: string;\n  productName: string;\n  sku: string;\n  status: 'in_stock' | 'reserved' | 'sold' | 'returned' | 'damaged';\n  locationId: string;\n  locationName: string;\n  purchaseOrderId?: string;\n  salesOrderId?: string;\n  receivedAt: Date;\n  soldAt?: Date;\n  notes?: string;\n}\n\nexport interface SerialMovement {\n  id: string;\n  serialId: string;\n  serialNumber: string;\n  type: 'received' | 'transferred' | 'sold' | 'returned' | 'adjusted';\n  fromLocationId?: string;\n  fromLocationName?: string;\n  toLocationId?: string;\n  toLocationName?: string;\n  orderId?: string;\n  poId?: string;\n  notes?: string;\n  createdAt: Date;\n  createdBy?: string;\n}\n\n// Lot/Batch Tracking Types\nexport interface InventoryLot {\n  id: string;\n  lotNumber: string;\n  productId: string;\n  productName: string;\n  sku: string;\n  quantity: number;\n  reservedQty: number;\n  expirationDate?: Date;\n  manufacturedDate?: Date;\n  receivedDate: Date;\n  status: 'active' | 'quarantine' | 'expired' | 'recalled';\n  locationId: string;\n  locationName: string;\n  purchaseOrderId?: string;\n  supplierLotNumber?: string;\n  notes?: string;\n  cost?: number;\n}\n\nexport interface LotMovement {\n  id: string;\n  lotId: string;\n  lotNumber: string;\n  productId: string;\n  type: 'received' | 'picked' | 'transferred' | 'adjusted' | 'expired' | 'recalled';\n  quantity: number;\n  fromLocationId?: string;\n  fromLocationName?: string;\n  toLocationId?: string;\n  toLocationName?: string;\n  orderId?: string;\n  orderNumber?: string;\n  notes?: string;\n  createdAt: Date;\n  createdBy?: string;\n}\n\n// Supplier Management Types\nexport interface Supplier {\n  id: string;\n  name: string;\n  code: string; // Short code like \"HGC\" for HIGROCORP\n  contactName?: string;\n  email?: string;\n  phone?: string;\n  website?: string;\n  address?: {\n    street: string;\n    city: string;\n    state: string;\n    zip: string;\n    country: string;\n  };\n  currency: 'USD' | 'CAD' | 'EUR' | 'GBP';\n  paymentTerms?: string; // \"Net 30\", \"COD\", etc.\n  leadTimeDays?: number;\n  minimumOrderValue?: number;\n  notes?: string;\n  isActive: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface ProductSupplier {\n  productId: string;\n  supplierId: string;\n  supplierSku?: string; // Supplier's SKU for this product\n  unitCost: number;\n  currency: 'USD' | 'CAD' | 'EUR' | 'GBP';\n  minimumOrderQty?: number;\n  leadTimeDays?: number;\n  isPrimary: boolean;\n  lastOrderedAt?: Date;\n  notes?: string;\n}\n\nexport interface InventoryLevel {\n  productId: string;\n  locationId: string;\n  quantity: number;\n  binLocation?: string;\n  updatedAt: Date;\n}\n\nexport interface Location {\n  id: string;\n  name: string;\n  type: 'warehouse' | 'fba' | 'fbm';\n  address?: string;\n  isDefault: boolean;\n}\n\nexport interface OrderItem {\n  productId: string;\n  productName: string;\n  sku: string;\n  quantity: number;\n  price: number;\n  cost: number;\n  picked?: boolean;\n}\n\nexport interface Order {\n  id: string;\n  orderNumber: string;\n  veeqoId?: string;\n  channel: 'shopify' | 'amazon_fbm' | 'amazon_fba' | 'manual';\n  status: 'draft' | 'to_pick' | 'picking' | 'to_pack' | 'packing' | 'ready' | 'shipped' | 'delivered' | 'cancelled';\n  customer: {\n    name: string;\n    email: string;\n    phone?: string;\n    address: {\n      street: string;\n      city: string;\n      state: string;\n      zip: string;\n      country: string;\n    };\n  };\n  items: OrderItem[];\n  subtotal: number;\n  shipping: number;\n  tax: number;\n  discount: number;\n  total: number;\n  cogs: number;\n  profit: number;\n  margin: number;\n  trackingNumber?: string;\n  carrier?: string;\n  service?: string;\n  shippedAt?: Date;\n  // Picking batch assignment\n  pickingBatchId?: string;\n  // Billing address (can be different from shipping)\n  billingAddress?: {\n    street: string;\n    city: string;\n    state: string;\n    zip: string;\n    country: string;\n  };\n  // Order notes\n  notes?: string;\n  // Automation rule related fields\n  tags?: string[];\n  priority?: 'low' | 'normal' | 'high' | 'urgent';\n  suggestedCarrier?: string;\n  suggestedService?: string;\n  suggestedBoxId?: string;\n  fulfillmentItems?: {\n    productId: string;\n    quantity: number;\n    reason: string;\n  }[];\n  isPrime?: boolean;\n  requiresSignature?: boolean;\n  totalWeight?: number;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface PickingBatch {\n  id: string;\n  batchNumber: string;\n  status: 'open' | 'in_progress' | 'completed';\n  orderIds: string[];\n  assignedTo?: string;\n  createdAt: Date;\n  completedAt?: Date;\n}\n\n// Return types\nexport type ReturnReason =\n  | 'damaged_in_transit'\n  | 'defective'\n  | 'wrong_item_sent'\n  | 'not_as_described'\n  | 'changed_mind'\n  | 'ordered_wrong'\n  | 'arrived_late'\n  | 'better_price_found'\n  | 'other';\n\nexport type ItemCondition =\n  | 'new_sealed'\n  | 'new_opened'\n  | 'like_new'\n  | 'good'\n  | 'damaged'\n  | 'unsellable';\n\nexport interface ReturnItem {\n  productId: string;\n  productName: string;\n  sku: string;\n  quantity: number;\n  quantityReceived: number;\n  reason: ReturnReason;\n  condition?: ItemCondition;\n  refundAmount: number;\n}\n\nexport interface Return {\n  id: string;\n  returnNumber: string;\n  orderId: string;\n  orderNumber: string;\n  channel: 'shopify' | 'amazon_fbm' | 'amazon_fba' | 'manual';\n  status: 'requested' | 'approved' | 'in_transit' | 'received' | 'inspected' | 'refunded' | 'rejected';\n  customer: {\n    name: string;\n    email: string;\n  };\n  items: ReturnItem[];\n  returnShipping: {\n    trackingNumber?: string;\n    carrier?: string;\n    labelUrl?: string;\n  };\n  refund: {\n    subtotal: number;\n    shipping: number;\n    restockingFee: number;\n    total: number;\n    refundedAt?: Date;\n    refundMethod?: 'original_payment' | 'store_credit' | 'manual';\n  };\n  notes?: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\n// Stock Count types\nexport interface StockCountItem {\n  productId: string;\n  productName: string;\n  sku: string;\n  binLocation?: string;\n  systemQty: number;\n  countedQty: number | null;\n  variance: number;\n  varianceValue: number;\n  status: 'pending' | 'counted' | 'verified';\n  countedBy?: string;\n  countedAt?: Date;\n  notes?: string;\n}\n\nexport interface StockCount {\n  id: string;\n  countNumber: string;\n  name: string;\n  type: 'full' | 'cycle' | 'spot';\n  status: 'draft' | 'in_progress' | 'completed' | 'cancelled';\n  location: string;\n  locationName: string;\n  category?: string;\n  assignedTo?: string;\n  items: StockCountItem[];\n  summary: {\n    totalItems: number;\n    countedItems: number;\n    matchedItems: number;\n    discrepancyItems: number;\n    totalVariance: number;\n  };\n  startedAt?: Date;\n  completedAt?: Date;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\n// Stock Transfer types\nexport interface TransferItem {\n  productId: string;\n  productName: string;\n  sku: string;\n  requestedQty: number;\n  shippedQty: number;\n  receivedQty: number;\n  status: 'pending' | 'shipped' | 'received' | 'short';\n}\n\nexport interface StockTransfer {\n  id: string;\n  transferNumber: string;\n  status: 'draft' | 'pending' | 'in_transit' | 'received' | 'cancelled';\n  fromLocation: string;\n  fromLocationName: string;\n  toLocation: string;\n  toLocationName: string;\n  items: TransferItem[];\n  notes?: string;\n  requestedBy?: string;\n  shippedAt?: Date;\n  receivedAt?: Date;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface PurchaseOrderItem {\n  productId: string;\n  productName: string;\n  sku: string;\n  quantity: number;\n  receivedQty: number;\n  unitCost: number;\n}\n\nexport interface PurchaseOrder {\n  id: string;\n  poNumber: string;\n  supplier: string;\n  status: 'draft' | 'sent' | 'partial' | 'received' | 'cancelled';\n  currency: 'USD' | 'CAD';\n  expectedDate?: Date;\n  items: PurchaseOrderItem[];\n  subtotal: number;\n  shipping: number;\n  total: number;\n  notes?: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface WorkOrderComponent {\n  productId: string;\n  productName: string;\n  quantityRequired: number;\n  quantityUsed: number;\n}\n\nexport interface WorkOrder {\n  id: string;\n  woNumber: string;\n  status: 'pending' | 'in_progress' | 'completed' | 'cancelled';\n  outputProductId: string;\n  outputProductName: string;\n  quantityToProduce: number;\n  quantityProduced: number;\n  priority: 'normal' | 'high' | 'urgent';\n  dueDate?: Date;\n  components: WorkOrderComponent[];\n  notes?: string;\n  startedAt?: Date;\n  completedAt?: Date;\n  createdAt: Date;\n}\n\nexport interface BundleComponent {\n  productId: string;\n  productName: string;\n  quantity: number;\n}\n\nexport interface Bundle {\n  id: string;\n  name: string;\n  sku: string;\n  type: 'virtual' | 'physical' | 'fba_kit';\n  description?: string;\n  prices: {\n    msrp: number;\n    shopify: number;\n    amazon: number;\n    wholesale: number;\n  };\n  compareAtPrices: {\n    msrp: number;\n    shopify: number;\n    amazon: number;\n  };\n  components: BundleComponent[];\n  assemblyInstructions?: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Shipment {\n  id: string;\n  orderId: string;\n  orderNumber: string;\n  carrier: 'usps' | 'ups' | 'fedex' | 'dhl';\n  service: string;\n  trackingNumber: string;\n  customerPaid: number;\n  actualCost: number;\n  profit: number;\n  weight: number;\n  status: 'label_created' | 'in_transit' | 'delivered' | 'exception';\n  customerName: string;\n  customerCity: string;\n  customerState: string;\n  shippedAt: Date;\n  deliveredAt?: Date;\n}\n\nexport interface ShippingBox {\n  id: string;\n  name: string;\n  sku?: string;\n  innerLength: number;\n  innerWidth: number;\n  innerHeight: number;\n  maxWeight: number;\n  cost?: number;\n  smartBoxEligible: boolean;\n}\n\nexport interface AppSettings {\n  companyName: string;\n  companyAddress?: string;\n  logoUrl?: string;\n  defaultLocation: string;\n  gripperStickerEnabled: boolean;\n  gripperStickerSku: string;\n  smartBoxEnabled: boolean;\n  lowStockThreshold: number;\n  // Picking Settings\n  pickingMode: 'multi_tote' | 'single_tote';\n  maxOrdersPerBatch: number;\n  maxItemsPerBatch: number;\n  autoReallocateIncomplete: boolean;\n}\n\n// Picking Tote\nexport interface PickingTote {\n  id: string;\n  barcode: string;\n  name: string;\n  locationId: string;\n  isActive: boolean;\n}\n\n// Fulfillment Rule (user-configurable)\nexport type FulfillmentRuleType =\n  | 'gripper_sticker'\n  | 'box_selection'\n  | 'label_deduction'\n  | 'auto_allocate'\n  | 'weight_threshold'\n  | 'custom';\n\nexport interface FulfillmentRule {\n  id: string;\n  name: string;\n  description?: string;\n  type: FulfillmentRuleType;\n  enabled: boolean;\n  priority: number;\n  conditions: FulfillmentRuleCondition[];\n  actions: FulfillmentRuleAction[];\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface FulfillmentRuleCondition {\n  id: string;\n  field: 'channel' | 'sku' | 'category' | 'weight' | 'quantity' | 'total_value' | 'destination_state' | 'destination_country';\n  operator: 'equals' | 'not_equals' | 'contains' | 'greater_than' | 'less_than' | 'in_list';\n  value: string | number | string[];\n}\n\nexport interface FulfillmentRuleAction {\n  id: string;\n  type: 'add_item' | 'deduct_inventory' | 'set_box' | 'add_note' | 'set_carrier' | 'apply_discount';\n  config: {\n    productId?: string;\n    quantity?: number;\n    boxId?: string;\n    note?: string;\n    carrier?: string;\n    discountPercent?: number;\n  };\n}\n\n// Automation Rule Types\nexport interface AutomationRule {\n  id: string;\n  name: string;\n  description?: string;\n  enabled: boolean;\n  trigger: RuleTrigger;\n  conditions: RuleCondition[];\n  actions: RuleAction[];\n  priority: number; // Lower = runs first\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport type RuleTrigger =\n  | { type: 'order_created' }\n  | { type: 'order_status_changed'; fromStatus?: string; toStatus?: string }\n  | { type: 'low_stock'; threshold?: number }\n  | { type: 'item_received' }\n  | { type: 'daily'; time: string } // \"09:00\"\n  | { type: 'manual' };\n\nexport interface RuleCondition {\n  id: string;\n  field: string;\n  operator: 'equals' | 'not_equals' | 'contains' | 'greater_than' | 'less_than' | 'in_list';\n  value: string | number | boolean | string[];\n}\n\nexport interface RuleAction {\n  id: string;\n  type: RuleActionType;\n  config: Record<string, any>;\n}\n\nexport type RuleActionType =\n  | 'set_order_tag'\n  | 'set_priority'\n  | 'assign_carrier'\n  | 'assign_service'\n  | 'select_box'\n  | 'send_notification'\n  | 'add_fulfillment_item'\n  | 'set_location'\n  | 'create_po_draft'\n  | 'send_email';\n\n// Condition field options by trigger type\nexport const conditionFields = {\n  order: [\n    { value: 'channel', label: 'Sales Channel' },\n    { value: 'total', label: 'Order Total' },\n    { value: 'item_count', label: 'Item Count' },\n    { value: 'shipping_country', label: 'Ship To Country' },\n    { value: 'shipping_state', label: 'Ship To State' },\n    { value: 'customer_email', label: 'Customer Email' },\n    { value: 'contains_sku', label: 'Contains SKU' },\n    { value: 'weight', label: 'Total Weight' },\n    { value: 'is_prime', label: 'Is Amazon Prime' },\n    { value: 'requires_signature', label: 'Requires Signature' }\n  ],\n  inventory: [\n    { value: 'sku', label: 'Product SKU' },\n    { value: 'category', label: 'Category' },\n    { value: 'quantity', label: 'Quantity' },\n    { value: 'location', label: 'Location' },\n    { value: 'cost', label: 'Product Cost' }\n  ]\n};\n\nexport interface AppState {\n  products: Product[];\n  inventory: InventoryLevel[];\n  locations: Location[];\n  orders: Order[];\n  purchaseOrders: PurchaseOrder[];\n  workOrders: WorkOrder[];\n  bundles: Bundle[];\n  shipments: Shipment[];\n  boxes: ShippingBox[];\n  pickingBatches: PickingBatch[];\n  pickingTotes: PickingTote[];\n  fulfillmentRules: FulfillmentRule[];\n  returns: Return[];\n  stockCounts: StockCount[];\n  transfers: StockTransfer[];\n  automationRules: AutomationRule[];\n  serialNumbers: SerialNumber[];\n  serialMovements: SerialMovement[];\n  lots: InventoryLot[];\n  lotMovements: LotMovement[];\n  suppliers: Supplier[];\n  productSuppliers: ProductSupplier[];\n  settings: AppSettings;\n  isLoading: boolean;\n  isInitialized: boolean;\n}\n\n// Action Types\ntype Action =\n  | { type: 'SET_LOADING'; payload: boolean }\n  | { type: 'SET_INITIALIZED'; payload: boolean }\n  | { type: 'SET_PRODUCTS'; payload: Product[] }\n  | { type: 'ADD_PRODUCT'; payload: Product }\n  | { type: 'UPDATE_PRODUCT'; payload: Product }\n  | { type: 'DELETE_PRODUCT'; payload: string }\n  | { type: 'SET_INVENTORY'; payload: InventoryLevel[] }\n  | { type: 'UPDATE_INVENTORY'; payload: InventoryLevel }\n  | { type: 'ADJUST_STOCK'; payload: { productId: string; locationId: string; adjustment: number } }\n  | { type: 'SET_LOCATIONS'; payload: Location[] }\n  | { type: 'ADD_LOCATION'; payload: Location }\n  | { type: 'UPDATE_LOCATION'; payload: Location }\n  | { type: 'DELETE_LOCATION'; payload: string }\n  | { type: 'SET_ORDERS'; payload: Order[] }\n  | { type: 'ADD_ORDER'; payload: Order }\n  | { type: 'UPDATE_ORDER'; payload: Order }\n  | { type: 'UPDATE_ORDER_STATUS'; payload: { orderId: string; status: Order['status'] } }\n  | { type: 'DELETE_ORDER'; payload: string }\n  | { type: 'SET_PURCHASE_ORDERS'; payload: PurchaseOrder[] }\n  | { type: 'ADD_PURCHASE_ORDER'; payload: PurchaseOrder }\n  | { type: 'UPDATE_PURCHASE_ORDER'; payload: PurchaseOrder }\n  | { type: 'DELETE_PURCHASE_ORDER'; payload: string }\n  | { type: 'SET_WORK_ORDERS'; payload: WorkOrder[] }\n  | { type: 'ADD_WORK_ORDER'; payload: WorkOrder }\n  | { type: 'UPDATE_WORK_ORDER'; payload: WorkOrder }\n  | { type: 'DELETE_WORK_ORDER'; payload: string }\n  | { type: 'SET_BUNDLES'; payload: Bundle[] }\n  | { type: 'ADD_BUNDLE'; payload: Bundle }\n  | { type: 'UPDATE_BUNDLE'; payload: Bundle }\n  | { type: 'DELETE_BUNDLE'; payload: string }\n  | { type: 'SET_SHIPMENTS'; payload: Shipment[] }\n  | { type: 'ADD_SHIPMENT'; payload: Shipment }\n  | { type: 'UPDATE_SHIPMENT'; payload: Shipment }\n  | { type: 'SET_BOXES'; payload: ShippingBox[] }\n  | { type: 'ADD_BOX'; payload: ShippingBox }\n  | { type: 'UPDATE_BOX'; payload: ShippingBox }\n  | { type: 'DELETE_BOX'; payload: string }\n  | { type: 'SET_PICKING_BATCHES'; payload: PickingBatch[] }\n  | { type: 'ADD_PICKING_BATCH'; payload: PickingBatch }\n  | { type: 'UPDATE_PICKING_BATCH'; payload: PickingBatch }\n  | { type: 'DELETE_PICKING_BATCH'; payload: string }\n  | { type: 'ASSIGN_ORDER_TO_BATCH'; payload: { orderId: string; batchId: string | null } }\n  | { type: 'SET_RETURNS'; payload: Return[] }\n  | { type: 'ADD_RETURN'; payload: Return }\n  | { type: 'UPDATE_RETURN'; payload: Return }\n  | { type: 'SET_STOCK_COUNTS'; payload: StockCount[] }\n  | { type: 'ADD_STOCK_COUNT'; payload: StockCount }\n  | { type: 'UPDATE_STOCK_COUNT'; payload: StockCount }\n  | { type: 'DELETE_STOCK_COUNT'; payload: string }\n  | { type: 'SET_TRANSFERS'; payload: StockTransfer[] }\n  | { type: 'ADD_TRANSFER'; payload: StockTransfer }\n  | { type: 'UPDATE_TRANSFER'; payload: StockTransfer }\n  | { type: 'SET_AUTOMATION_RULES'; payload: AutomationRule[] }\n  | { type: 'ADD_AUTOMATION_RULE'; payload: AutomationRule }\n  | { type: 'UPDATE_AUTOMATION_RULE'; payload: AutomationRule }\n  | { type: 'DELETE_AUTOMATION_RULE'; payload: string }\n  | { type: 'TOGGLE_RULE'; payload: string }\n  | { type: 'SET_SERIAL_NUMBERS'; payload: SerialNumber[] }\n  | { type: 'ADD_SERIAL_NUMBERS'; payload: SerialNumber[] }\n  | { type: 'UPDATE_SERIAL_NUMBER'; payload: SerialNumber }\n  | { type: 'RESERVE_SERIALS'; payload: { serials: string[]; orderId: string } }\n  | { type: 'SELL_SERIALS'; payload: { serials: string[]; orderId: string } }\n  | { type: 'RETURN_SERIAL'; payload: { serial: string; condition: 'in_stock' | 'damaged' } }\n  | { type: 'ADD_SERIAL_MOVEMENT'; payload: SerialMovement }\n  | { type: 'SET_LOTS'; payload: InventoryLot[] }\n  | { type: 'ADD_LOT'; payload: InventoryLot }\n  | { type: 'ADD_LOTS'; payload: InventoryLot[] }\n  | { type: 'UPDATE_LOT'; payload: InventoryLot }\n  | { type: 'PICK_FROM_LOT'; payload: { lotId: string; quantity: number; orderId: string; orderNumber: string } }\n  | { type: 'RESERVE_LOT_QTY'; payload: { lotId: string; quantity: number } }\n  | { type: 'RELEASE_LOT_QTY'; payload: { lotId: string; quantity: number } }\n  | { type: 'RECALL_LOT'; payload: { lotId: string; notes: string } }\n  | { type: 'QUARANTINE_LOT'; payload: { lotId: string; notes: string } }\n  | { type: 'ADD_LOT_MOVEMENT'; payload: LotMovement }\n  | { type: 'SET_SUPPLIERS'; payload: Supplier[] }\n  | { type: 'ADD_SUPPLIER'; payload: Supplier }\n  | { type: 'UPDATE_SUPPLIER'; payload: Supplier }\n  | { type: 'DELETE_SUPPLIER'; payload: string }\n  | { type: 'SET_PRODUCT_SUPPLIERS'; payload: ProductSupplier[] }\n  | { type: 'ADD_PRODUCT_SUPPLIER'; payload: ProductSupplier }\n  | { type: 'UPDATE_PRODUCT_SUPPLIER'; payload: ProductSupplier }\n  | { type: 'REMOVE_PRODUCT_SUPPLIER'; payload: { productId: string; supplierId: string } }\n  | { type: 'UPDATE_SETTINGS'; payload: Partial<AppSettings> }\n  // Picking Totes\n  | { type: 'SET_PICKING_TOTES'; payload: PickingTote[] }\n  | { type: 'ADD_PICKING_TOTE'; payload: PickingTote }\n  | { type: 'UPDATE_PICKING_TOTE'; payload: PickingTote }\n  | { type: 'DELETE_PICKING_TOTE'; payload: string }\n  // Fulfillment Rules\n  | { type: 'SET_FULFILLMENT_RULES'; payload: FulfillmentRule[] }\n  | { type: 'ADD_FULFILLMENT_RULE'; payload: FulfillmentRule }\n  | { type: 'UPDATE_FULFILLMENT_RULE'; payload: FulfillmentRule }\n  | { type: 'DELETE_FULFILLMENT_RULE'; payload: string };\n\n// Reducer\nfunction appReducer(state: AppState, action: Action): AppState {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, isLoading: action.payload };\n    case 'SET_INITIALIZED':\n      return { ...state, isInitialized: action.payload };\n\n    // Products\n    case 'SET_PRODUCTS':\n      return { ...state, products: action.payload };\n    case 'ADD_PRODUCT':\n      return { ...state, products: [...state.products, action.payload] };\n    case 'UPDATE_PRODUCT':\n      return {\n        ...state,\n        products: state.products.map(p => p.id === action.payload.id ? action.payload : p),\n      };\n    case 'DELETE_PRODUCT':\n      return { ...state, products: state.products.filter(p => p.id !== action.payload) };\n\n    // Inventory\n    case 'SET_INVENTORY':\n      return { ...state, inventory: action.payload };\n    case 'UPDATE_INVENTORY':\n      return {\n        ...state,\n        inventory: state.inventory.map(inv =>\n          inv.productId === action.payload.productId && inv.locationId === action.payload.locationId\n            ? action.payload\n            : inv\n        ),\n      };\n    case 'ADJUST_STOCK':\n      return {\n        ...state,\n        inventory: state.inventory.map(inv =>\n          inv.productId === action.payload.productId && inv.locationId === action.payload.locationId\n            ? { ...inv, quantity: inv.quantity + action.payload.adjustment, updatedAt: new Date() }\n            : inv\n        ),\n      };\n\n    // Locations\n    case 'SET_LOCATIONS':\n      return { ...state, locations: action.payload };\n    case 'ADD_LOCATION':\n      return { ...state, locations: [...state.locations, action.payload] };\n    case 'UPDATE_LOCATION':\n      return {\n        ...state,\n        locations: state.locations.map(l => l.id === action.payload.id ? action.payload : l),\n      };\n    case 'DELETE_LOCATION':\n      return { ...state, locations: state.locations.filter(l => l.id !== action.payload) };\n\n    // Orders\n    case 'SET_ORDERS':\n      return { ...state, orders: action.payload };\n    case 'ADD_ORDER':\n      return { ...state, orders: [...state.orders, action.payload] };\n    case 'UPDATE_ORDER':\n      return {\n        ...state,\n        orders: state.orders.map(o => o.id === action.payload.id ? action.payload : o),\n      };\n    case 'UPDATE_ORDER_STATUS':\n      return {\n        ...state,\n        orders: state.orders.map(o =>\n          o.id === action.payload.orderId\n            ? { ...o, status: action.payload.status, updatedAt: new Date() }\n            : o\n        ),\n      };\n    case 'DELETE_ORDER':\n      return { ...state, orders: state.orders.filter(o => o.id !== action.payload) };\n\n    // Purchase Orders\n    case 'SET_PURCHASE_ORDERS':\n      return { ...state, purchaseOrders: action.payload };\n    case 'ADD_PURCHASE_ORDER':\n      return { ...state, purchaseOrders: [...state.purchaseOrders, action.payload] };\n    case 'UPDATE_PURCHASE_ORDER':\n      return {\n        ...state,\n        purchaseOrders: state.purchaseOrders.map(po =>\n          po.id === action.payload.id ? action.payload : po\n        ),\n      };\n    case 'DELETE_PURCHASE_ORDER':\n      return { ...state, purchaseOrders: state.purchaseOrders.filter(po => po.id !== action.payload) };\n\n    // Work Orders\n    case 'SET_WORK_ORDERS':\n      return { ...state, workOrders: action.payload };\n    case 'ADD_WORK_ORDER':\n      return { ...state, workOrders: [...state.workOrders, action.payload] };\n    case 'UPDATE_WORK_ORDER':\n      return {\n        ...state,\n        workOrders: state.workOrders.map(wo =>\n          wo.id === action.payload.id ? action.payload : wo\n        ),\n      };\n    case 'DELETE_WORK_ORDER':\n      return { ...state, workOrders: state.workOrders.filter(wo => wo.id !== action.payload) };\n\n    // Bundles\n    case 'SET_BUNDLES':\n      return { ...state, bundles: action.payload };\n    case 'ADD_BUNDLE':\n      return { ...state, bundles: [...state.bundles, action.payload] };\n    case 'UPDATE_BUNDLE':\n      return {\n        ...state,\n        bundles: state.bundles.map(b => b.id === action.payload.id ? action.payload : b),\n      };\n    case 'DELETE_BUNDLE':\n      return { ...state, bundles: state.bundles.filter(b => b.id !== action.payload) };\n\n    // Shipments\n    case 'SET_SHIPMENTS':\n      return { ...state, shipments: action.payload };\n    case 'ADD_SHIPMENT':\n      return { ...state, shipments: [...state.shipments, action.payload] };\n    case 'UPDATE_SHIPMENT':\n      return {\n        ...state,\n        shipments: state.shipments.map(s => s.id === action.payload.id ? action.payload : s),\n      };\n\n    // Boxes\n    case 'SET_BOXES':\n      return { ...state, boxes: action.payload };\n    case 'ADD_BOX':\n      return { ...state, boxes: [...state.boxes, action.payload] };\n    case 'UPDATE_BOX':\n      return {\n        ...state,\n        boxes: state.boxes.map(b => b.id === action.payload.id ? action.payload : b),\n      };\n    case 'DELETE_BOX':\n      return { ...state, boxes: state.boxes.filter(b => b.id !== action.payload) };\n\n    // Suppliers\n    case 'SET_SUPPLIERS':\n      return { ...state, suppliers: action.payload };\n    case 'ADD_SUPPLIER':\n      return { ...state, suppliers: [...state.suppliers, action.payload] };\n    case 'UPDATE_SUPPLIER':\n      return {\n        ...state,\n        suppliers: state.suppliers.map(s => s.id === action.payload.id ? action.payload : s),\n      };\n    case 'DELETE_SUPPLIER':\n      return {\n        ...state,\n        suppliers: state.suppliers.filter(s => s.id !== action.payload),\n        productSuppliers: state.productSuppliers.filter(ps => ps.supplierId !== action.payload),\n      };\n    case 'SET_PRODUCT_SUPPLIERS':\n      return { ...state, productSuppliers: action.payload };\n    case 'ADD_PRODUCT_SUPPLIER':\n      return { ...state, productSuppliers: [...state.productSuppliers, action.payload] };\n    case 'UPDATE_PRODUCT_SUPPLIER':\n      return {\n        ...state,\n        productSuppliers: state.productSuppliers.map(ps =>\n          ps.productId === action.payload.productId && ps.supplierId === action.payload.supplierId\n            ? action.payload\n            : ps\n        ),\n      };\n    case 'REMOVE_PRODUCT_SUPPLIER':\n      return {\n        ...state,\n        productSuppliers: state.productSuppliers.filter(\n          ps => !(ps.productId === action.payload.productId && ps.supplierId === action.payload.supplierId)\n        ),\n      };\n\n    // Settings\n    case 'UPDATE_SETTINGS':\n      return { ...state, settings: { ...state.settings, ...action.payload } };\n\n    // Picking Batches\n    case 'SET_PICKING_BATCHES':\n      return { ...state, pickingBatches: action.payload };\n    case 'ADD_PICKING_BATCH':\n      return { ...state, pickingBatches: [...state.pickingBatches, action.payload] };\n    case 'UPDATE_PICKING_BATCH':\n      return {\n        ...state,\n        pickingBatches: state.pickingBatches.map(b => b.id === action.payload.id ? action.payload : b),\n      };\n    case 'DELETE_PICKING_BATCH':\n      return {\n        ...state,\n        pickingBatches: state.pickingBatches.filter(b => b.id !== action.payload),\n        // Also remove batch assignment from orders\n        orders: state.orders.map(o => o.pickingBatchId === action.payload ? { ...o, pickingBatchId: undefined } : o),\n      };\n    case 'ASSIGN_ORDER_TO_BATCH': {\n      const { orderId, batchId } = action.payload;\n      // Update the order's pickingBatchId\n      const updatedOrders = state.orders.map(o =>\n        o.id === orderId ? { ...o, pickingBatchId: batchId || undefined } : o\n      );\n      // Update the batch's orderIds\n      let updatedBatches = state.pickingBatches;\n      if (batchId) {\n        updatedBatches = state.pickingBatches.map(b => {\n          if (b.id === batchId && !b.orderIds.includes(orderId)) {\n            return { ...b, orderIds: [...b.orderIds, orderId] };\n          }\n          // Remove from other batches\n          if (b.id !== batchId && b.orderIds.includes(orderId)) {\n            return { ...b, orderIds: b.orderIds.filter(id => id !== orderId) };\n          }\n          return b;\n        });\n      } else {\n        // Remove from all batches\n        updatedBatches = state.pickingBatches.map(b => ({\n          ...b,\n          orderIds: b.orderIds.filter(id => id !== orderId),\n        }));\n      }\n      return { ...state, orders: updatedOrders, pickingBatches: updatedBatches };\n    }\n\n    // Returns\n    case 'SET_RETURNS':\n      return { ...state, returns: action.payload };\n    case 'ADD_RETURN':\n      return { ...state, returns: [...state.returns, action.payload] };\n    case 'UPDATE_RETURN':\n      return {\n        ...state,\n        returns: state.returns.map(r => r.id === action.payload.id ? action.payload : r),\n      };\n\n    // Stock Counts\n    case 'SET_STOCK_COUNTS':\n      return { ...state, stockCounts: action.payload };\n    case 'ADD_STOCK_COUNT':\n      return { ...state, stockCounts: [...state.stockCounts, action.payload] };\n    case 'UPDATE_STOCK_COUNT':\n      return {\n        ...state,\n        stockCounts: state.stockCounts.map(sc => sc.id === action.payload.id ? action.payload : sc),\n      };\n    case 'DELETE_STOCK_COUNT':\n      return { ...state, stockCounts: state.stockCounts.filter(sc => sc.id !== action.payload) };\n\n    // Transfers\n    case 'SET_TRANSFERS':\n      return { ...state, transfers: action.payload };\n    case 'ADD_TRANSFER':\n      return { ...state, transfers: [...state.transfers, action.payload] };\n    case 'UPDATE_TRANSFER':\n      return {\n        ...state,\n        transfers: state.transfers.map(t => t.id === action.payload.id ? action.payload : t),\n      };\n\n    // Automation Rules\n    case 'SET_AUTOMATION_RULES':\n      return { ...state, automationRules: action.payload };\n    case 'ADD_AUTOMATION_RULE':\n      return { ...state, automationRules: [...state.automationRules, action.payload] };\n    case 'UPDATE_AUTOMATION_RULE':\n      return {\n        ...state,\n        automationRules: state.automationRules.map(r => r.id === action.payload.id ? action.payload : r),\n      };\n    case 'DELETE_AUTOMATION_RULE':\n      return { ...state, automationRules: state.automationRules.filter(r => r.id !== action.payload) };\n    case 'TOGGLE_RULE':\n      return {\n        ...state,\n        automationRules: state.automationRules.map(r =>\n          r.id === action.payload ? { ...r, enabled: !r.enabled, updatedAt: new Date() } : r\n        ),\n      };\n\n    // Serial Numbers\n    case 'SET_SERIAL_NUMBERS':\n      return { ...state, serialNumbers: action.payload };\n    case 'ADD_SERIAL_NUMBERS':\n      return { ...state, serialNumbers: [...state.serialNumbers, ...action.payload] };\n    case 'UPDATE_SERIAL_NUMBER':\n      return {\n        ...state,\n        serialNumbers: state.serialNumbers.map(sn =>\n          sn.id === action.payload.id ? action.payload : sn\n        ),\n      };\n    case 'RESERVE_SERIALS':\n      return {\n        ...state,\n        serialNumbers: state.serialNumbers.map(sn =>\n          action.payload.serials.includes(sn.serial)\n            ? { ...sn, status: 'reserved' as const, salesOrderId: action.payload.orderId }\n            : sn\n        ),\n      };\n    case 'SELL_SERIALS':\n      return {\n        ...state,\n        serialNumbers: state.serialNumbers.map(sn =>\n          action.payload.serials.includes(sn.serial)\n            ? { ...sn, status: 'sold' as const, salesOrderId: action.payload.orderId, soldAt: new Date() }\n            : sn\n        ),\n      };\n    case 'RETURN_SERIAL':\n      return {\n        ...state,\n        serialNumbers: state.serialNumbers.map(sn =>\n          sn.serial === action.payload.serial\n            ? { ...sn, status: action.payload.condition, salesOrderId: undefined, soldAt: undefined }\n            : sn\n        ),\n      };\n    case 'ADD_SERIAL_MOVEMENT':\n      return { ...state, serialMovements: [...state.serialMovements, action.payload] };\n\n    // Lots\n    case 'SET_LOTS':\n      return { ...state, lots: action.payload };\n    case 'ADD_LOT':\n      return { ...state, lots: [...state.lots, action.payload] };\n    case 'ADD_LOTS':\n      return { ...state, lots: [...state.lots, ...action.payload] };\n    case 'UPDATE_LOT':\n      return {\n        ...state,\n        lots: state.lots.map(lot => lot.id === action.payload.id ? action.payload : lot),\n      };\n    case 'PICK_FROM_LOT':\n      return {\n        ...state,\n        lots: state.lots.map(lot =>\n          lot.id === action.payload.lotId\n            ? { ...lot, quantity: lot.quantity - action.payload.quantity, reservedQty: Math.max(0, lot.reservedQty - action.payload.quantity) }\n            : lot\n        ),\n      };\n    case 'RESERVE_LOT_QTY':\n      return {\n        ...state,\n        lots: state.lots.map(lot =>\n          lot.id === action.payload.lotId\n            ? { ...lot, reservedQty: lot.reservedQty + action.payload.quantity }\n            : lot\n        ),\n      };\n    case 'RELEASE_LOT_QTY':\n      return {\n        ...state,\n        lots: state.lots.map(lot =>\n          lot.id === action.payload.lotId\n            ? { ...lot, reservedQty: Math.max(0, lot.reservedQty - action.payload.quantity) }\n            : lot\n        ),\n      };\n    case 'RECALL_LOT':\n      return {\n        ...state,\n        lots: state.lots.map(lot =>\n          lot.id === action.payload.lotId\n            ? { ...lot, status: 'recalled' as const, notes: action.payload.notes }\n            : lot\n        ),\n      };\n    case 'QUARANTINE_LOT':\n      return {\n        ...state,\n        lots: state.lots.map(lot =>\n          lot.id === action.payload.lotId\n            ? { ...lot, status: 'quarantine' as const, notes: action.payload.notes }\n            : lot\n        ),\n      };\n    case 'ADD_LOT_MOVEMENT':\n      return { ...state, lotMovements: [...state.lotMovements, action.payload] };\n\n    // Picking Totes\n    case 'SET_PICKING_TOTES':\n      return { ...state, pickingTotes: action.payload };\n    case 'ADD_PICKING_TOTE':\n      return { ...state, pickingTotes: [...state.pickingTotes, action.payload] };\n    case 'UPDATE_PICKING_TOTE':\n      return {\n        ...state,\n        pickingTotes: state.pickingTotes.map(t => t.id === action.payload.id ? action.payload : t),\n      };\n    case 'DELETE_PICKING_TOTE':\n      return { ...state, pickingTotes: state.pickingTotes.filter(t => t.id !== action.payload) };\n\n    // Fulfillment Rules\n    case 'SET_FULFILLMENT_RULES':\n      return { ...state, fulfillmentRules: action.payload };\n    case 'ADD_FULFILLMENT_RULE':\n      return { ...state, fulfillmentRules: [...state.fulfillmentRules, action.payload] };\n    case 'UPDATE_FULFILLMENT_RULE':\n      return {\n        ...state,\n        fulfillmentRules: state.fulfillmentRules.map(r => r.id === action.payload.id ? action.payload : r),\n      };\n    case 'DELETE_FULFILLMENT_RULE':\n      return { ...state, fulfillmentRules: state.fulfillmentRules.filter(r => r.id !== action.payload) };\n\n    default:\n      return state;\n  }\n}\n\n// Initial State\nconst initialState: AppState = {\n  products: [],\n  inventory: [],\n  locations: [],\n  orders: [],\n  purchaseOrders: [],\n  workOrders: [],\n  bundles: [],\n  shipments: [],\n  boxes: [],\n  pickingBatches: [],\n  pickingTotes: [],\n  fulfillmentRules: [],\n  returns: [],\n  stockCounts: [],\n  transfers: [],\n  automationRules: [],\n  serialNumbers: [],\n  serialMovements: [],\n  lots: [],\n  lotMovements: [],\n  suppliers: [],\n  productSuppliers: [],\n  settings: {\n    companyName: 'Cronk Nutrients',\n    defaultLocation: 'loc-1',\n    gripperStickerEnabled: true,\n    gripperStickerSku: 'LAB010R',\n    smartBoxEnabled: true,\n    lowStockThreshold: 50,\n    // Picking Settings\n    pickingMode: 'multi_tote',\n    maxOrdersPerBatch: 20,\n    maxItemsPerBatch: 100,\n    autoReallocateIncomplete: true,\n  },\n  isLoading: true,\n  isInitialized: false,\n};\n\n// Context\nconst AppContext = createContext<{\n  state: AppState;\n  dispatch: React.Dispatch<Action>;\n} | undefined>(undefined);\n\n// Provider\nexport function AppProvider({ children }: { children: ReactNode }) {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n\n  // Initialize with mock data on mount\n  useEffect(() => {\n    const initializeData = async () => {\n      try {\n        // Import mock data dynamically to avoid circular dependencies\n        const {\n          products,\n          locations,\n          inventory,\n          orders,\n          purchaseOrders,\n          workOrders,\n          bundles,\n          shippingBoxes\n        } = await import('@/data/mockData');\n\n        // Transform existing mock data to match new interfaces\n        const transformedLocations: Location[] = locations.map(loc => ({\n          id: loc.id,\n          name: loc.name,\n          type: loc.type as 'warehouse' | 'fba' | 'fbm',\n          address: undefined,\n          isDefault: loc.id === 'loc-1',\n        }));\n\n        const transformedProducts: Product[] = products.map(p => ({\n          id: p.id,\n          name: p.name,\n          sku: p.sku,\n          barcode: p.barcode,\n          category: p.category,\n          description: undefined,\n          cost: {\n            rolling: p.costs.base,\n            fixed: p.costs.base,\n          },\n          prices: {\n            msrp: p.prices.msrp,\n            shopify: p.prices.shopify,\n            amazon: p.prices.amazon,\n            wholesale: p.prices.wholesale,\n          },\n          weight: {\n            value: p.weight || 0,\n            unit: 'lbs' as const,\n          },\n          dimensions: p.dimensions || { length: 0, width: 0, height: 0 },\n          reorderPoint: p.reorderPoint,\n          supplier: p.defaultVendor,\n          skus: {\n            shopify: `SHOP-${p.sku}`,\n            amazon: `AMZ-${p.sku}`,\n          },\n          createdAt: new Date(p.createdAt),\n          updatedAt: new Date(p.updatedAt),\n        }));\n\n        const transformedInventory: InventoryLevel[] = inventory.map(inv => ({\n          productId: inv.productId,\n          locationId: inv.locationId,\n          quantity: inv.quantity,\n          binLocation: inv.binLocation,\n          updatedAt: new Date(),\n        }));\n\n        // Map mockData status to AppContext status\n        const mapOrderStatus = (status: string): Order['status'] => {\n          const statusMap: Record<string, Order['status']> = {\n            'ready_to_ship': 'ready',\n            'in_progress': 'picking',\n          };\n          return statusMap[status] || status as Order['status'];\n        };\n\n        const transformedOrders: Order[] = orders.map(o => ({\n          id: o.id,\n          orderNumber: o.orderNumber,\n          veeqoId: o.externalId,\n          channel: o.channel as Order['channel'],\n          status: mapOrderStatus(o.status),\n          customer: {\n            name: o.customer.name,\n            email: o.customer.email,\n            phone: o.customer.phone,\n            address: {\n              street: o.shippingAddress.line1,\n              city: o.shippingAddress.city,\n              state: o.shippingAddress.state,\n              zip: o.shippingAddress.postalCode,\n              country: o.shippingAddress.country,\n            },\n          },\n          items: o.items.map(item => ({\n            productId: item.productId || item.bundleId || '',\n            productName: item.name,\n            sku: item.sku,\n            quantity: item.quantity,\n            price: item.price,\n            cost: item.cost,\n            picked: false,\n          })),\n          subtotal: o.subtotal,\n          shipping: o.shipping,\n          tax: o.tax,\n          discount: 0,\n          total: o.total,\n          cogs: o.cogs,\n          profit: o.profit,\n          margin: o.marginPercent,\n          trackingNumber: o.shipments?.[0]?.trackingNumber,\n          carrier: o.shipments?.[0]?.carrier,\n          createdAt: new Date(o.createdAt),\n          updatedAt: new Date(o.updatedAt),\n        }));\n\n        const transformedPOs: PurchaseOrder[] = purchaseOrders.map(po => ({\n          id: po.id,\n          poNumber: po.poNumber,\n          supplier: po.supplier.name,\n          status: po.status as PurchaseOrder['status'],\n          currency: po.currency,\n          expectedDate: po.expectedDate ? new Date(po.expectedDate) : undefined,\n          items: po.items.map(item => ({\n            productId: item.productId,\n            productName: item.product?.name || '',\n            sku: item.product?.sku || '',\n            quantity: item.quantity,\n            receivedQty: item.quantityReceived,\n            unitCost: item.unitCost,\n          })),\n          subtotal: po.subtotal,\n          shipping: 0,\n          total: po.subtotalUSD,\n          notes: po.notes,\n          createdAt: new Date(po.createdAt),\n          updatedAt: new Date(po.createdAt),\n        }));\n\n        const transformedWOs: WorkOrder[] = workOrders.map(wo => ({\n          id: wo.id,\n          woNumber: wo.woNumber,\n          status: wo.status as WorkOrder['status'],\n          outputProductId: wo.outputProductId,\n          outputProductName: wo.outputProduct?.name || '',\n          quantityToProduce: wo.outputQuantity,\n          quantityProduced: wo.status === 'completed' ? wo.outputQuantity : 0,\n          priority: 'normal',\n          components: wo.inputs.map(input => ({\n            productId: input.productId,\n            productName: input.product?.name || '',\n            quantityRequired: input.quantityRequired,\n            quantityUsed: input.quantityUsed,\n          })),\n          notes: wo.notes,\n          createdAt: new Date(wo.createdAt),\n          completedAt: wo.completedAt ? new Date(wo.completedAt) : undefined,\n        }));\n\n        const transformedBundles: Bundle[] = bundles.map(b => ({\n          id: b.id,\n          name: b.name,\n          sku: b.sku,\n          type: 'virtual' as const,\n          description: b.description,\n          prices: {\n            msrp: b.prices.msrp,\n            shopify: b.prices.shopify,\n            amazon: b.prices.amazon,\n            wholesale: b.prices.wholesale || b.prices.msrp * 0.6,\n          },\n          compareAtPrices: b.compareAtPrices || {\n            msrp: b.prices.msrp * 1.2,\n            shopify: (b.prices.shopify || b.prices.msrp) * 1.2,\n            amazon: (b.prices.amazon || b.prices.msrp) * 1.2,\n          },\n          components: (b.components || []).map(c => ({\n            productId: c.productId,\n            productName: c.product?.name || '',\n            quantity: c.quantity,\n          })),\n          createdAt: new Date(),\n          updatedAt: new Date(),\n        }));\n\n        const transformedBoxes: ShippingBox[] = shippingBoxes.map(box => ({\n          id: box.id,\n          name: box.name,\n          sku: box.sku,\n          innerLength: box.dimensions.length,\n          innerWidth: box.dimensions.width,\n          innerHeight: box.dimensions.height,\n          maxWeight: box.maxWeight,\n          cost: box.cost,\n          smartBoxEligible: box.isSmartBoxEligible,\n        }));\n\n        // Create mock shipments from shipped orders\n        const mockShipments: Shipment[] = transformedOrders\n          .filter(o => o.status === 'shipped' || o.status === 'delivered')\n          .map(o => ({\n            id: `ship-${o.id}`,\n            orderId: o.id,\n            orderNumber: o.orderNumber,\n            carrier: (o.carrier || 'usps') as Shipment['carrier'],\n            service: o.service || 'Priority Mail',\n            trackingNumber: o.trackingNumber || `TRK${Math.random().toString(36).substr(2, 12).toUpperCase()}`,\n            customerPaid: o.shipping,\n            actualCost: o.shipping * 0.7,\n            profit: o.shipping * 0.3,\n            weight: 2.5,\n            status: o.status === 'delivered' ? 'delivered' : 'in_transit',\n            customerName: o.customer.name,\n            customerCity: o.customer.address.city,\n            customerState: o.customer.address.state,\n            shippedAt: new Date(o.updatedAt),\n            deliveredAt: o.status === 'delivered' ? new Date() : undefined,\n          }));\n\n        // Create mock picking batches\n        const mockPickingBatches: PickingBatch[] = [\n          {\n            id: 'batch-1',\n            batchNumber: 'PB-001',\n            status: 'open',\n            orderIds: [],\n            createdAt: new Date(),\n          },\n          {\n            id: 'batch-2',\n            batchNumber: 'PB-002',\n            status: 'in_progress',\n            orderIds: [],\n            assignedTo: 'John',\n            createdAt: new Date(Date.now() - 86400000), // Yesterday\n          },\n        ];\n\n        // Create mock returns\n        const mockReturns: Return[] = [\n          {\n            id: 'return-1',\n            returnNumber: 'RET-0001',\n            orderId: 'order-5',\n            orderNumber: 'SH-4518',\n            channel: 'shopify',\n            status: 'requested',\n            customer: { name: 'James Wilson', email: 'jwilson@email.com' },\n            items: [{\n              productId: 'prod-mic-1l',\n              productName: '1L Micro 5-0-1',\n              sku: 'CNMIC1L',\n              quantity: 1,\n              quantityReceived: 0,\n              reason: 'damaged_in_transit',\n              refundAmount: 12.99\n            }],\n            returnShipping: {},\n            refund: { subtotal: 12.99, shipping: 0, restockingFee: 0, total: 12.99 },\n            createdAt: new Date(Date.now() - 86400000),\n            updatedAt: new Date(Date.now() - 86400000)\n          },\n          {\n            id: 'return-2',\n            returnNumber: 'RET-0002',\n            orderId: 'order-6',\n            orderNumber: 'AZ-8833',\n            channel: 'amazon_fbm',\n            status: 'in_transit',\n            customer: { name: 'Lisa Chen', email: 'lchen@email.com' },\n            items: [{\n              productId: 'prod-bb-500',\n              productName: '500mL Bud Booster 0-1-3',\n              sku: 'CNBB500ML',\n              quantity: 2,\n              quantityReceived: 0,\n              reason: 'changed_mind',\n              refundAmount: 45.76\n            }],\n            returnShipping: { trackingNumber: 'RET123456789', carrier: 'usps' },\n            refund: { subtotal: 45.76, shipping: 0, restockingFee: 4.58, total: 41.18 },\n            createdAt: new Date(Date.now() - 172800000),\n            updatedAt: new Date(Date.now() - 86400000)\n          },\n          {\n            id: 'return-3',\n            returnNumber: 'RET-0003',\n            orderId: 'order-7',\n            orderNumber: 'SH-4517',\n            channel: 'shopify',\n            status: 'received',\n            customer: { name: 'Tom Brady', email: 'tbrady@email.com' },\n            items: [{\n              productId: 'prod-gro-1l',\n              productName: '1L Grow 2-1-6',\n              sku: 'CNGRO1L',\n              quantity: 1,\n              quantityReceived: 1,\n              reason: 'defective',\n              refundAmount: 12.99\n            }],\n            returnShipping: { trackingNumber: 'RET987654321', carrier: 'ups' },\n            refund: { subtotal: 12.99, shipping: 6.99, restockingFee: 0, total: 19.98 },\n            createdAt: new Date(Date.now() - 259200000),\n            updatedAt: new Date()\n          }\n        ];\n\n        // Create mock stock counts\n        const mockStockCounts: StockCount[] = [\n          {\n            id: 'sc-1',\n            countNumber: 'SC-0001',\n            name: 'Weekly Cycle Count - Zone A',\n            type: 'cycle',\n            status: 'in_progress',\n            location: 'loc-warehouse',\n            locationName: 'Texas Warehouse',\n            assignedTo: 'John',\n            items: [\n              {\n                productId: 'prod-mic-500',\n                productName: '500mL Micro 5-0-1',\n                sku: 'CNMIC500ML',\n                binLocation: 'A1-01',\n                systemQty: 150,\n                countedQty: 148,\n                variance: -2,\n                varianceValue: -10.50,\n                status: 'counted',\n                countedAt: new Date(Date.now() - 3600000)\n              },\n              {\n                productId: 'prod-mic-1l',\n                productName: '1L Micro 5-0-1',\n                sku: 'CNMIC1L',\n                binLocation: 'A1-02',\n                systemQty: 75,\n                countedQty: null,\n                variance: 0,\n                varianceValue: 0,\n                status: 'pending'\n              }\n            ],\n            summary: {\n              totalItems: 15,\n              countedItems: 8,\n              matchedItems: 6,\n              discrepancyItems: 2,\n              totalVariance: -24.50\n            },\n            startedAt: new Date(Date.now() - 86400000),\n            createdAt: new Date(Date.now() - 86400000),\n            updatedAt: new Date()\n          },\n          {\n            id: 'sc-2',\n            countNumber: 'SC-0002',\n            name: 'Monthly Full Count - December',\n            type: 'full',\n            status: 'completed',\n            location: 'loc-warehouse',\n            locationName: 'Texas Warehouse',\n            items: [],\n            summary: {\n              totalItems: 45,\n              countedItems: 45,\n              matchedItems: 42,\n              discrepancyItems: 3,\n              totalVariance: -156.75\n            },\n            startedAt: new Date(Date.now() - 604800000),\n            completedAt: new Date(Date.now() - 518400000),\n            createdAt: new Date(Date.now() - 604800000),\n            updatedAt: new Date(Date.now() - 518400000)\n          }\n        ];\n\n        // Create mock transfers\n        const mockTransfers: StockTransfer[] = [\n          {\n            id: 'trf-1',\n            transferNumber: 'TRF-0001',\n            status: 'in_transit',\n            fromLocation: 'loc-warehouse',\n            fromLocationName: 'Texas Warehouse',\n            toLocation: 'loc-fba',\n            toLocationName: 'FBA Inbound',\n            items: [\n              {\n                productId: 'prod-mic-500',\n                productName: '500mL Micro 5-0-1',\n                sku: 'CNMIC500ML',\n                requestedQty: 50,\n                shippedQty: 50,\n                receivedQty: 0,\n                status: 'shipped'\n              },\n              {\n                productId: 'prod-bb-500',\n                productName: '500mL Bud Booster 0-1-3',\n                sku: 'CNBB500ML',\n                requestedQty: 30,\n                shippedQty: 30,\n                receivedQty: 0,\n                status: 'shipped'\n              }\n            ],\n            notes: 'FBA replenishment shipment',\n            shippedAt: new Date(Date.now() - 172800000),\n            createdAt: new Date(Date.now() - 259200000),\n            updatedAt: new Date(Date.now() - 172800000)\n          },\n          {\n            id: 'trf-2',\n            transferNumber: 'TRF-0002',\n            status: 'received',\n            fromLocation: 'loc-warehouse',\n            fromLocationName: 'Texas Warehouse',\n            toLocation: 'loc-fba',\n            toLocationName: 'FBA Inbound',\n            items: [\n              {\n                productId: 'prod-gro-1l',\n                productName: '1L Grow 2-1-6',\n                sku: 'CNGRO1L',\n                requestedQty: 100,\n                shippedQty: 100,\n                receivedQty: 98,\n                status: 'short'\n              }\n            ],\n            notes: 'Weekly FBA restock',\n            shippedAt: new Date(Date.now() - 604800000),\n            receivedAt: new Date(Date.now() - 518400000),\n            createdAt: new Date(Date.now() - 691200000),\n            updatedAt: new Date(Date.now() - 518400000)\n          }\n        ];\n\n        // Create mock automation rules\n        const mockAutomationRules: AutomationRule[] = [\n          {\n            id: 'rule-1',\n            name: 'Tag Amazon Prime orders',\n            description: 'Automatically add PRIME tag to Amazon Prime orders for priority handling',\n            enabled: true,\n            trigger: { type: 'order_created' },\n            conditions: [\n              { id: 'cond-1', field: 'channel', operator: 'equals', value: 'amazon_fbm' }\n            ],\n            actions: [\n              { id: 'act-1', type: 'set_order_tag', config: { tag: 'PRIME' } },\n              { id: 'act-2', type: 'set_priority', config: { priority: 'high' } }\n            ],\n            priority: 1,\n            createdAt: new Date(Date.now() - 604800000),\n            updatedAt: new Date(Date.now() - 604800000)\n          },\n          {\n            id: 'rule-2',\n            name: 'Auto-assign USPS for small orders',\n            description: 'Orders under $50 and less than 1lb ship USPS First Class',\n            enabled: true,\n            trigger: { type: 'order_created' },\n            conditions: [\n              { id: 'cond-2', field: 'total', operator: 'less_than', value: 50 }\n            ],\n            actions: [\n              { id: 'act-3', type: 'assign_carrier', config: { carrier: 'usps' } },\n              { id: 'act-4', type: 'assign_service', config: { service: 'first_class' } }\n            ],\n            priority: 2,\n            createdAt: new Date(Date.now() - 259200000),\n            updatedAt: new Date(Date.now() - 259200000)\n          },\n          {\n            id: 'rule-3',\n            name: 'Low stock notification',\n            description: 'Send email when stock falls below 50 units',\n            enabled: false,\n            trigger: { type: 'low_stock', threshold: 50 },\n            conditions: [],\n            actions: [\n              { id: 'act-5', type: 'send_notification', config: { message: 'Stock is running low!' } },\n              { id: 'act-6', type: 'create_po_draft', config: { quantity: 100 } }\n            ],\n            priority: 3,\n            createdAt: new Date(Date.now() - 172800000),\n            updatedAt: new Date(Date.now() - 172800000)\n          }\n        ];\n\n        // Create mock lots\n        const mockLots: InventoryLot[] = [\n          {\n            id: 'lot-1',\n            lotNumber: 'LOT-20241215-001',\n            productId: 'prod-mic-500',\n            productName: '500mL Micro 5-0-1',\n            sku: 'CNMIC500ML',\n            quantity: 100,\n            reservedQty: 5,\n            expirationDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // 30 days from now\n            manufacturedDate: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000), // 60 days ago\n            receivedDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000), // 30 days ago\n            status: 'active',\n            locationId: 'loc-warehouse',\n            locationName: 'Texas Warehouse',\n            supplierLotNumber: 'HG-2024-1234',\n          },\n          {\n            id: 'lot-2',\n            lotNumber: 'LOT-20241201-001',\n            productId: 'prod-mic-500',\n            productName: '500mL Micro 5-0-1',\n            sku: 'CNMIC500ML',\n            quantity: 50,\n            reservedQty: 0,\n            expirationDate: new Date(Date.now() + 10 * 24 * 60 * 60 * 1000), // 10 days from now (expiring soon)\n            manufacturedDate: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000),\n            receivedDate: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000),\n            status: 'active',\n            locationId: 'loc-warehouse',\n            locationName: 'Texas Warehouse',\n            supplierLotNumber: 'HG-2024-1198',\n          },\n          {\n            id: 'lot-3',\n            lotNumber: 'LOT-20241220-001',\n            productId: 'prod-gro-1l',\n            productName: '1L Grow 2-1-6',\n            sku: 'CNGRO1L',\n            quantity: 75,\n            reservedQty: 10,\n            expirationDate: new Date(Date.now() + 180 * 24 * 60 * 60 * 1000), // 6 months from now\n            manufacturedDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n            receivedDate: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000),\n            status: 'active',\n            locationId: 'loc-warehouse',\n            locationName: 'Texas Warehouse',\n          },\n          {\n            id: 'lot-4',\n            lotNumber: 'LOT-20241101-001',\n            productId: 'prod-bb-500',\n            productName: '500mL Bud Booster 0-1-3',\n            sku: 'CNBB500ML',\n            quantity: 25,\n            reservedQty: 0,\n            expirationDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000), // 5 days ago (expired)\n            manufacturedDate: new Date(Date.now() - 120 * 24 * 60 * 60 * 1000),\n            receivedDate: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000),\n            status: 'expired',\n            locationId: 'loc-warehouse',\n            locationName: 'Texas Warehouse',\n            notes: 'Expired - pending disposal',\n          },\n          {\n            id: 'lot-5',\n            lotNumber: 'LOT-20241210-001',\n            productId: 'prod-mic-1l',\n            productName: '1L Micro 5-0-1',\n            sku: 'CNMIC1L',\n            quantity: 40,\n            reservedQty: 0,\n            receivedDate: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000),\n            status: 'quarantine',\n            locationId: 'loc-warehouse',\n            locationName: 'Texas Warehouse',\n            notes: 'Quality check pending - suspected contamination',\n          },\n        ];\n\n        dispatch({ type: 'SET_LOCATIONS', payload: transformedLocations });\n        dispatch({ type: 'SET_PRODUCTS', payload: transformedProducts });\n        dispatch({ type: 'SET_INVENTORY', payload: transformedInventory });\n        dispatch({ type: 'SET_ORDERS', payload: transformedOrders });\n        dispatch({ type: 'SET_PURCHASE_ORDERS', payload: transformedPOs });\n        dispatch({ type: 'SET_WORK_ORDERS', payload: transformedWOs });\n        dispatch({ type: 'SET_BUNDLES', payload: transformedBundles });\n        dispatch({ type: 'SET_BOXES', payload: transformedBoxes });\n        dispatch({ type: 'SET_SHIPMENTS', payload: mockShipments });\n        dispatch({ type: 'SET_PICKING_BATCHES', payload: mockPickingBatches });\n        dispatch({ type: 'SET_RETURNS', payload: mockReturns });\n        dispatch({ type: 'SET_STOCK_COUNTS', payload: mockStockCounts });\n        dispatch({ type: 'SET_TRANSFERS', payload: mockTransfers });\n        dispatch({ type: 'SET_AUTOMATION_RULES', payload: mockAutomationRules });\n        dispatch({ type: 'SET_LOTS', payload: mockLots });\n\n        // Create mock suppliers\n        const mockSuppliers: Supplier[] = [\n          {\n            id: 'sup-hgc',\n            name: 'HIGROCORP INC.',\n            code: 'HGC',\n            contactName: 'John Martinez',\n            email: 'john@higrocorp.com',\n            phone: '(555) 123-4567',\n            website: 'https://higrocorp.com',\n            address: {\n              street: '123 Industrial Blvd',\n              city: 'Houston',\n              state: 'TX',\n              zip: '77001',\n              country: 'US',\n            },\n            currency: 'USD',\n            paymentTerms: 'Net 30',\n            leadTimeDays: 14,\n            minimumOrderValue: 500,\n            notes: 'Primary nutrient supplier',\n            isActive: true,\n            createdAt: new Date(Date.now() - 365 * 24 * 60 * 60 * 1000),\n            updatedAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n          },\n          {\n            id: 'sup-btl',\n            name: 'Bottle Supply Co',\n            code: 'BTL',\n            contactName: 'Sarah Chen',\n            email: 'sarah@bottlesupply.com',\n            phone: '(555) 987-6543',\n            currency: 'USD',\n            paymentTerms: 'Net 15',\n            leadTimeDays: 7,\n            minimumOrderValue: 250,\n            isActive: true,\n            createdAt: new Date(Date.now() - 180 * 24 * 60 * 60 * 1000),\n            updatedAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000),\n          },\n          {\n            id: 'sup-lbl',\n            name: 'Label Pros International',\n            code: 'LBL',\n            contactName: 'Mike Wilson',\n            email: 'mike@labelpros.com',\n            phone: '(555) 456-7890',\n            currency: 'USD',\n            paymentTerms: 'COD',\n            leadTimeDays: 10,\n            isActive: true,\n            createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000),\n            updatedAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\n          },\n        ];\n\n        // Create mock product-supplier relationships\n        const mockProductSuppliers: ProductSupplier[] = [\n          {\n            productId: 'prod-mic-500',\n            supplierId: 'sup-hgc',\n            supplierSku: 'HGC-MIC-500',\n            unitCost: 3.50,\n            currency: 'USD',\n            minimumOrderQty: 100,\n            leadTimeDays: 14,\n            isPrimary: true,\n            lastOrderedAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n          },\n          {\n            productId: 'prod-mic-1l',\n            supplierId: 'sup-hgc',\n            supplierSku: 'HGC-MIC-1L',\n            unitCost: 5.75,\n            currency: 'USD',\n            minimumOrderQty: 50,\n            leadTimeDays: 14,\n            isPrimary: true,\n          },\n          {\n            productId: 'prod-gro-1l',\n            supplierId: 'sup-hgc',\n            supplierSku: 'HGC-GRO-1L',\n            unitCost: 5.50,\n            currency: 'USD',\n            minimumOrderQty: 50,\n            isPrimary: true,\n          },\n          {\n            productId: 'prod-bb-500',\n            supplierId: 'sup-hgc',\n            supplierSku: 'HGC-BB-500',\n            unitCost: 4.25,\n            currency: 'USD',\n            minimumOrderQty: 100,\n            isPrimary: true,\n          },\n        ];\n\n        dispatch({ type: 'SET_SUPPLIERS', payload: mockSuppliers });\n        dispatch({ type: 'SET_PRODUCT_SUPPLIERS', payload: mockProductSuppliers });\n        dispatch({ type: 'SET_LOADING', payload: false });\n        dispatch({ type: 'SET_INITIALIZED', payload: true });\n      } catch (error) {\n        console.error('Failed to initialize app data:', error);\n        dispatch({ type: 'SET_LOADING', payload: false });\n      }\n    };\n\n    initializeData();\n  }, []);\n\n  return (\n    <AppContext.Provider value={{ state, dispatch }}>\n      {children}\n    </AppContext.Provider>\n  );\n}\n\n// Hook\nexport function useApp() {\n  const context = useContext(AppContext);\n  if (context === undefined) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n}\n\n// Selector hooks for common data access patterns\nexport function useProducts() {\n  const { state } = useApp();\n  return state.products;\n}\n\nexport function useOrders() {\n  const { state } = useApp();\n  return state.orders;\n}\n\nexport function useInventory() {\n  const { state } = useApp();\n  return state.inventory;\n}\n\nexport function useLocations() {\n  const { state } = useApp();\n  return state.locations;\n}\n\nexport function useSettings() {\n  const { state } = useApp();\n  return state.settings;\n}\n\n// Helper to get product stock across all locations\nexport function useProductStock(productId: string) {\n  const { state } = useApp();\n  return state.inventory\n    .filter(inv => inv.productId === productId)\n    .reduce((total, inv) => total + inv.quantity, 0);\n}\n\n// Helper to get stock at a specific location\nexport function useLocationStock(productId: string, locationId: string) {\n  const { state } = useApp();\n  const inv = state.inventory.find(\n    i => i.productId === productId && i.locationId === locationId\n  );\n  return inv?.quantity || 0;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1678, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/layout/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useApp } from '@/context/AppContext';\n\ninterface NavItem {\n  href?: string;\n  icon: string;\n  label: string;\n  badge?: number;\n  children?: NavItem[];\n  id?: string;\n  isBrand?: boolean;\n}\n\nexport default function Sidebar() {\n  const pathname = usePathname();\n  const { state } = useApp();\n  const [expandedMenus, setExpandedMenus] = useState<string[]>([]);\n\n  // Calculate badges from state\n  const toPickCount = state.orders.filter(o => o.status === 'to_pick' || o.status === 'picking').length;\n  const toPackCount = state.orders.filter(o => o.status === 'to_pack' || o.status === 'packing').length;\n  const pendingOrdersCount = state.orders.filter(o => !['shipped', 'delivered', 'cancelled', 'draft'].includes(o.status)).length;\n  const draftOrdersCount = state.orders.filter(o => o.status === 'draft').length;\n  const pendingReturnsCount = state.returns?.filter(r => !['refunded', 'rejected'].includes(r.status)).length || 0;\n  const pendingTransfersCount = state.transfers?.filter(t => t.status === 'in_transit').length || 0;\n  const pendingPOsCount = state.purchaseOrders?.filter(po => !['received', 'cancelled'].includes(po.status)).length || 0;\n  const pendingWOsCount = state.workOrders?.filter(wo => !['completed', 'cancelled'].includes(wo.status)).length || 0;\n\n  // Navigation structure\n  const navItems: NavItem[] = [\n    {\n      href: '/',\n      icon: 'fa-chart-line',\n      label: 'Dashboard'\n    },\n    {\n      id: 'inventory',\n      icon: 'fa-boxes-stacked',\n      label: 'Inventory',\n      children: [\n        { href: '/inventory', icon: 'fa-box', label: 'Products' },\n        { href: '/inventory/counts', icon: 'fa-clipboard-check', label: 'Stock Counts' },\n        { href: '/inventory/transfers', icon: 'fa-exchange-alt', label: 'Transfers', badge: pendingTransfersCount },\n        { href: '/inventory/suppliers', icon: 'fa-truck-loading', label: 'Suppliers' },\n        { href: '/inventory/bundles', icon: 'fa-layer-group', label: 'Bundles & Kits' },\n      ]\n    },\n    {\n      id: 'orders',\n      icon: 'fa-shopping-cart',\n      label: 'Orders',\n      badge: pendingOrdersCount,\n      children: [\n        { href: '/orders', icon: 'fa-list', label: 'All Orders', badge: pendingOrdersCount },\n        { href: '/orders/drafts', icon: 'fa-file-alt', label: 'Draft Orders', badge: draftOrdersCount },\n        { href: '/orders/returns', icon: 'fa-undo', label: 'Returns', badge: pendingReturnsCount },\n      ]\n    },\n    {\n      id: 'fulfillment',\n      icon: 'fa-shipping-fast',\n      label: 'Fulfillment',\n      badge: toPickCount + toPackCount,\n      children: [\n        { href: '/fulfillment', icon: 'fa-clipboard-list', label: 'Overview' },\n        { href: '/fulfillment/pick', icon: 'fa-hand-pointer', label: 'Pick Station', badge: toPickCount },\n        { href: '/fulfillment/pack', icon: 'fa-box-open', label: 'Pack Station', badge: toPackCount },\n        { href: '/fulfillment/fba', icon: 'fa-amazon', label: 'FBA Prep', isBrand: true },\n        { href: '/fulfillment/shipping', icon: 'fa-truck', label: 'Shipping' },\n      ]\n    },\n    {\n      id: 'operations',\n      icon: 'fa-cogs',\n      label: 'Operations',\n      badge: pendingPOsCount + pendingWOsCount,\n      children: [\n        { href: '/operations/purchase-orders', icon: 'fa-file-invoice', label: 'Purchase Orders', badge: pendingPOsCount },\n        { href: '/operations/work-orders', icon: 'fa-industry', label: 'Work Orders', badge: pendingWOsCount },\n      ]\n    },\n    {\n      id: 'marketing',\n      icon: 'fa-bullhorn',\n      label: 'Marketing',\n      children: [\n        { href: '/marketing', icon: 'fa-chart-line', label: 'Dashboard' },\n        { href: '/marketing/google-ads', icon: 'fa-google', label: 'Google Ads', isBrand: true },\n        { href: '/marketing/meta-ads', icon: 'fa-meta', label: 'Meta Ads', isBrand: true },\n        { href: '/marketing/amazon-ads', icon: 'fa-amazon', label: 'Amazon Ads', isBrand: true },\n        { href: '/marketing/tiktok-ads', icon: 'fa-tiktok', label: 'TikTok Ads', isBrand: true },\n        { href: '/marketing/email', icon: 'fa-envelope', label: 'Email Marketing' },\n      ]\n    },\n  ];\n\n  const bottomNavItems: NavItem[] = [\n    {\n      id: 'reports',\n      icon: 'fa-chart-pie',\n      label: 'Reports',\n      children: [\n        { href: '/reports', icon: 'fa-chart-line', label: 'Overview' },\n        { href: '/reports/sales', icon: 'fa-dollar-sign', label: 'Sales' },\n        { href: '/reports/inventory', icon: 'fa-boxes-stacked', label: 'Inventory' },\n        { href: '/reports/shipping', icon: 'fa-truck-fast', label: 'Shipping' },\n        { href: '/reports/returns', icon: 'fa-rotate-left', label: 'Returns' },\n        { href: '/reports/marketing', icon: 'fa-bullhorn', label: 'Marketing' },\n        { href: '/reports/financial', icon: 'fa-file-invoice-dollar', label: 'Financial' },\n        { href: '/reports/custom', icon: 'fa-wand-magic-sparkles', label: 'Custom Builder' },\n        { href: '/reports/scheduled', icon: 'fa-clock', label: 'Scheduled' },\n      ]\n    },\n    { href: '/settings', icon: 'fa-cog', label: 'Settings' },\n  ];\n\n  // Auto-expand menu based on current route\n  useEffect(() => {\n    [...navItems, ...bottomNavItems].forEach(item => {\n      if (item.children && item.id) {\n        const isActive = item.children.some(child =>\n          child.href === pathname || pathname.startsWith(child.href + '/')\n        );\n        if (isActive && !expandedMenus.includes(item.id)) {\n          setExpandedMenus(prev => [...prev, item.id!]);\n        }\n      }\n    });\n  }, [pathname]);\n\n  const toggleMenu = (menuId: string) => {\n    setExpandedMenus(prev =>\n      prev.includes(menuId)\n        ? prev.filter(id => id !== menuId)\n        : [...prev, menuId]\n    );\n  };\n\n  const isActiveRoute = (href: string) => {\n    if (href === '/') return pathname === '/';\n    return pathname === href || pathname.startsWith(href + '/');\n  };\n\n  const isParentActive = (item: NavItem) => {\n    if (!item.children) return false;\n    return item.children.some(child => child.href && isActiveRoute(child.href));\n  };\n\n  return (\n    <aside className=\"fixed left-0 top-0 z-40 h-screen w-64 bg-slate-900/80 border-r border-slate-700/50 flex flex-col\">\n      {/* Logo */}\n      <div className=\"p-5 border-b border-slate-700/50\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-xl flex items-center justify-center\">\n            <i className=\"fas fa-leaf text-white text-lg\"></i>\n          </div>\n          <div>\n            <h1 className=\"font-bold text-white text-lg\">Cronk WMS</h1>\n            <p className=\"text-xs text-slate-400\">Inventory Management</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Navigation */}\n      <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\">\n        {navItems.map((item) => (\n          <div key={item.id || item.href}>\n            {item.children ? (\n              // Expandable menu\n              <>\n                <button\n                  onClick={() => toggleMenu(item.id!)}\n                  className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${\n                    isParentActive(item)\n                      ? 'bg-emerald-500/10 text-emerald-400'\n                      : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n                  }`}\n                >\n                  <i className={`fas ${item.icon} w-5`}></i>\n                  <span className=\"font-medium\">{item.label}</span>\n                  {(item.badge ?? 0) > 0 && (\n                    <span className=\"ml-auto mr-2 bg-amber-500/20 text-amber-400 text-xs px-2 py-0.5 rounded-full\">\n                      {item.badge}\n                    </span>\n                  )}\n                  <i className={`fas fa-chevron-${expandedMenus.includes(item.id!) ? 'down' : 'right'} text-xs text-slate-500 ${(item.badge ?? 0) > 0 ? '' : 'ml-auto'}`}></i>\n                </button>\n\n                {/* Sub-menu */}\n                {expandedMenus.includes(item.id!) && (\n                  <div className=\"ml-4 mt-1 space-y-1 border-l border-slate-700/50 pl-3\">\n                    {item.children.map((child) => (\n                      <Link\n                        key={child.href}\n                        href={child.href!}\n                        className={`flex items-center gap-3 px-4 py-2 rounded-lg transition-all text-sm ${\n                          isActiveRoute(child.href!)\n                            ? 'bg-emerald-500/10 text-emerald-400'\n                            : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n                        }`}\n                      >\n                        <i className={`${child.isBrand ? 'fab' : 'fas'} ${child.icon} w-4 text-xs`}></i>\n                        <span>{child.label}</span>\n                        {(child.badge ?? 0) > 0 && (\n                          <span className={`ml-auto text-xs px-2 py-0.5 rounded-full ${\n                            child.label.includes('Pick') ? 'bg-amber-500/20 text-amber-400' :\n                            child.label.includes('Pack') ? 'bg-blue-500/20 text-blue-400' :\n                            child.label.includes('Return') ? 'bg-purple-500/20 text-purple-400' :\n                            child.label.includes('Draft') ? 'bg-slate-500/20 text-slate-400' :\n                            'bg-slate-500/20 text-slate-400'\n                          }`}>\n                            {child.badge}\n                          </span>\n                        )}\n                      </Link>\n                    ))}\n                  </div>\n                )}\n              </>\n            ) : (\n              // Single menu item\n              <Link\n                href={item.href!}\n                className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${\n                  isActiveRoute(item.href!)\n                    ? 'bg-emerald-500/10 text-emerald-400 border border-emerald-500/20'\n                    : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n                }`}\n              >\n                <i className={`fas ${item.icon} w-5`}></i>\n                <span className=\"font-medium\">{item.label}</span>\n                {(item.badge ?? 0) > 0 && (\n                  <span className=\"ml-auto bg-amber-500/20 text-amber-400 text-xs px-2 py-0.5 rounded-full\">\n                    {item.badge}\n                  </span>\n                )}\n              </Link>\n            )}\n          </div>\n        ))}\n\n        {/* Divider */}\n        <div className=\"my-4 border-t border-slate-700/50\"></div>\n\n        {/* Bottom Nav Items */}\n        {bottomNavItems.map((item) => (\n          <div key={item.id || item.href}>\n            {item.children ? (\n              // Expandable menu\n              <>\n                <button\n                  onClick={() => toggleMenu(item.id!)}\n                  className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${\n                    isParentActive(item)\n                      ? 'bg-emerald-500/10 text-emerald-400'\n                      : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n                  }`}\n                >\n                  <i className={`fas ${item.icon} w-5`}></i>\n                  <span className=\"font-medium\">{item.label}</span>\n                  <i className={`fas fa-chevron-${expandedMenus.includes(item.id!) ? 'down' : 'right'} text-xs text-slate-500 ml-auto`}></i>\n                </button>\n\n                {/* Sub-menu */}\n                {expandedMenus.includes(item.id!) && (\n                  <div className=\"ml-4 mt-1 space-y-1 border-l border-slate-700/50 pl-3\">\n                    {item.children.map((child) => (\n                      <Link\n                        key={child.href}\n                        href={child.href!}\n                        className={`flex items-center gap-3 px-4 py-2 rounded-lg transition-all text-sm ${\n                          isActiveRoute(child.href!)\n                            ? 'bg-emerald-500/10 text-emerald-400'\n                            : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n                        }`}\n                      >\n                        <i className={`${child.isBrand ? 'fab' : 'fas'} ${child.icon} w-4 text-xs`}></i>\n                        <span>{child.label}</span>\n                      </Link>\n                    ))}\n                  </div>\n                )}\n              </>\n            ) : (\n              // Single menu item\n              <Link\n                href={item.href!}\n                className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${\n                  isActiveRoute(item.href!)\n                    ? 'bg-emerald-500/10 text-emerald-400 border border-emerald-500/20'\n                    : 'text-slate-400 hover:text-white hover:bg-slate-800/50'\n                }`}\n              >\n                <i className={`fas ${item.icon} w-5`}></i>\n                <span>{item.label}</span>\n              </Link>\n            )}\n          </div>\n        ))}\n      </nav>\n\n      {/* User */}\n      <div className=\"p-4 border-t border-slate-700/50\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-9 h-9 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center\">\n            <span className=\"text-white font-medium text-sm\">JC</span>\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"text-sm font-medium text-white truncate\">John Cronk</div>\n            <div className=\"text-xs text-slate-400 truncate\">Admin</div>\n          </div>\n          <button className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg\">\n            <i className=\"fas fa-sign-out-alt\"></i>\n          </button>\n        </div>\n      </div>\n    </aside>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAiBe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,gIAAM;IACxB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAW,EAAE;IAE/D,8BAA8B;IAC9B,MAAM,cAAc,MAAM,MAAM,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,aAAa,EAAE,MAAM,KAAK,WAAW,MAAM;IACrG,MAAM,cAAc,MAAM,MAAM,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,aAAa,EAAE,MAAM,KAAK,WAAW,MAAM;IACrG,MAAM,qBAAqB,MAAM,MAAM,CAAC,MAAM,CAAC,CAAA,IAAK,CAAC;YAAC;YAAW;YAAa;YAAa;SAAQ,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM;IAC9H,MAAM,mBAAmB,MAAM,MAAM,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,SAAS,MAAM;IAC9E,MAAM,sBAAsB,MAAM,OAAO,EAAE,OAAO,CAAA,IAAK,CAAC;YAAC;YAAY;SAAW,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,UAAU;IAC/G,MAAM,wBAAwB,MAAM,SAAS,EAAE,OAAO,CAAA,IAAK,EAAE,MAAM,KAAK,cAAc,UAAU;IAChG,MAAM,kBAAkB,MAAM,cAAc,EAAE,OAAO,CAAA,KAAM,CAAC;YAAC;YAAY;SAAY,CAAC,QAAQ,CAAC,GAAG,MAAM,GAAG,UAAU;IACrH,MAAM,kBAAkB,MAAM,UAAU,EAAE,OAAO,CAAA,KAAM,CAAC;YAAC;YAAa;SAAY,CAAC,QAAQ,CAAC,GAAG,MAAM,GAAG,UAAU;IAElH,uBAAuB;IACvB,MAAM,WAAsB;QAC1B;YACE,MAAM;YACN,MAAM;YACN,OAAO;QACT;QACA;YACE,IAAI;YACJ,MAAM;YACN,OAAO;YACP,UAAU;gBACR;oBAAE,MAAM;oBAAc,MAAM;oBAAU,OAAO;gBAAW;gBACxD;oBAAE,MAAM;oBAAqB,MAAM;oBAAsB,OAAO;gBAAe;gBAC/E;oBAAE,MAAM;oBAAwB,MAAM;oBAAmB,OAAO;oBAAa,OAAO;gBAAsB;gBAC1G;oBAAE,MAAM;oBAAwB,MAAM;oBAAoB,OAAO;gBAAY;gBAC7E;oBAAE,MAAM;oBAAsB,MAAM;oBAAkB,OAAO;gBAAiB;aAC/E;QACH;QACA;YACE,IAAI;YACJ,MAAM;YACN,OAAO;YACP,OAAO;YACP,UAAU;gBACR;oBAAE,MAAM;oBAAW,MAAM;oBAAW,OAAO;oBAAc,OAAO;gBAAmB;gBACnF;oBAAE,MAAM;oBAAkB,MAAM;oBAAe,OAAO;oBAAgB,OAAO;gBAAiB;gBAC9F;oBAAE,MAAM;oBAAmB,MAAM;oBAAW,OAAO;oBAAW,OAAO;gBAAoB;aAC1F;QACH;QACA;YACE,IAAI;YACJ,MAAM;YACN,OAAO;YACP,OAAO,cAAc;YACrB,UAAU;gBACR;oBAAE,MAAM;oBAAgB,MAAM;oBAAqB,OAAO;gBAAW;gBACrE;oBAAE,MAAM;oBAAqB,MAAM;oBAAmB,OAAO;oBAAgB,OAAO;gBAAY;gBAChG;oBAAE,MAAM;oBAAqB,MAAM;oBAAe,OAAO;oBAAgB,OAAO;gBAAY;gBAC5F;oBAAE,MAAM;oBAAoB,MAAM;oBAAa,OAAO;oBAAY,SAAS;gBAAK;gBAChF;oBAAE,MAAM;oBAAyB,MAAM;oBAAY,OAAO;gBAAW;aACtE;QACH;QACA;YACE,IAAI;YACJ,MAAM;YACN,OAAO;YACP,OAAO,kBAAkB;YACzB,UAAU;gBACR;oBAAE,MAAM;oBAA+B,MAAM;oBAAmB,OAAO;oBAAmB,OAAO;gBAAgB;gBACjH;oBAAE,MAAM;oBAA2B,MAAM;oBAAe,OAAO;oBAAe,OAAO;gBAAgB;aACtG;QACH;QACA;YACE,IAAI;YACJ,MAAM;YACN,OAAO;YACP,UAAU;gBACR;oBAAE,MAAM;oBAAc,MAAM;oBAAiB,OAAO;gBAAY;gBAChE;oBAAE,MAAM;oBAAyB,MAAM;oBAAa,OAAO;oBAAc,SAAS;gBAAK;gBACvF;oBAAE,MAAM;oBAAuB,MAAM;oBAAW,OAAO;oBAAY,SAAS;gBAAK;gBACjF;oBAAE,MAAM;oBAAyB,MAAM;oBAAa,OAAO;oBAAc,SAAS;gBAAK;gBACvF;oBAAE,MAAM;oBAAyB,MAAM;oBAAa,OAAO;oBAAc,SAAS;gBAAK;gBACvF;oBAAE,MAAM;oBAAoB,MAAM;oBAAe,OAAO;gBAAkB;aAC3E;QACH;KACD;IAED,MAAM,iBAA4B;QAChC;YACE,IAAI;YACJ,MAAM;YACN,OAAO;YACP,UAAU;gBACR;oBAAE,MAAM;oBAAY,MAAM;oBAAiB,OAAO;gBAAW;gBAC7D;oBAAE,MAAM;oBAAkB,MAAM;oBAAkB,OAAO;gBAAQ;gBACjE;oBAAE,MAAM;oBAAsB,MAAM;oBAAoB,OAAO;gBAAY;gBAC3E;oBAAE,MAAM;oBAAqB,MAAM;oBAAiB,OAAO;gBAAW;gBACtE;oBAAE,MAAM;oBAAoB,MAAM;oBAAkB,OAAO;gBAAU;gBACrE;oBAAE,MAAM;oBAAsB,MAAM;oBAAe,OAAO;gBAAY;gBACtE;oBAAE,MAAM;oBAAsB,MAAM;oBAA0B,OAAO;gBAAY;gBACjF;oBAAE,MAAM;oBAAmB,MAAM;oBAA0B,OAAO;gBAAiB;gBACnF;oBAAE,MAAM;oBAAsB,MAAM;oBAAY,OAAO;gBAAY;aACpE;QACH;QACA;YAAE,MAAM;YAAa,MAAM;YAAU,OAAO;QAAW;KACxD;IAED,0CAA0C;IAC1C,IAAA,kNAAS,EAAC;QACR;eAAI;eAAa;SAAe,CAAC,OAAO,CAAC,CAAA;YACvC,IAAI,KAAK,QAAQ,IAAI,KAAK,EAAE,EAAE;gBAC5B,MAAM,WAAW,KAAK,QAAQ,CAAC,IAAI,CAAC,CAAA,QAClC,MAAM,IAAI,KAAK,YAAY,SAAS,UAAU,CAAC,MAAM,IAAI,GAAG;gBAE9D,IAAI,YAAY,CAAC,cAAc,QAAQ,CAAC,KAAK,EAAE,GAAG;oBAChD,iBAAiB,CAAA,OAAQ;+BAAI;4BAAM,KAAK,EAAE;yBAAE;gBAC9C;YACF;QACF;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,aAAa,CAAC;QAClB,iBAAiB,CAAA,OACf,KAAK,QAAQ,CAAC,UACV,KAAK,MAAM,CAAC,CAAA,KAAM,OAAO,UACzB;mBAAI;gBAAM;aAAO;IAEzB;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,SAAS,KAAK,OAAO,aAAa;QACtC,OAAO,aAAa,QAAQ,SAAS,UAAU,CAAC,OAAO;IACzD;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,KAAK,QAAQ,EAAE,OAAO;QAC3B,OAAO,KAAK,QAAQ,CAAC,IAAI,CAAC,CAAA,QAAS,MAAM,IAAI,IAAI,cAAc,MAAM,IAAI;IAC3E;IAEA,qBACE,8OAAC;QAAM,WAAU;;0BAEf,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;;;;;;;;;;sCAEf,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA+B;;;;;;8CAC7C,8OAAC;oCAAE,WAAU;8CAAyB;;;;;;;;;;;;;;;;;;;;;;;0BAM5C,8OAAC;gBAAI,WAAU;;oBACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC;sCACE,KAAK,QAAQ,GACZ,kBAAkB;0CAClB;;kDACE,8OAAC;wCACC,SAAS,IAAM,WAAW,KAAK,EAAE;wCACjC,WAAW,CAAC,mEAAmE,EAC7E,eAAe,QACX,uCACA,yDACJ;;0DAEF,8OAAC;gDAAE,WAAW,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC;;;;;;0DACpC,8OAAC;gDAAK,WAAU;0DAAe,KAAK,KAAK;;;;;;4CACxC,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,mBACnB,8OAAC;gDAAK,WAAU;0DACb,KAAK,KAAK;;;;;;0DAGf,8OAAC;gDAAE,WAAW,CAAC,eAAe,EAAE,cAAc,QAAQ,CAAC,KAAK,EAAE,IAAK,SAAS,QAAQ,wBAAwB,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,IAAI,KAAK,WAAW;;;;;;;;;;;;oCAIvJ,cAAc,QAAQ,CAAC,KAAK,EAAE,mBAC7B,8OAAC;wCAAI,WAAU;kDACZ,KAAK,QAAQ,CAAC,GAAG,CAAC,CAAC,sBAClB,8OAAC,uKAAI;gDAEH,MAAM,MAAM,IAAI;gDAChB,WAAW,CAAC,oEAAoE,EAC9E,cAAc,MAAM,IAAI,IACpB,uCACA,yDACJ;;kEAEF,8OAAC;wDAAE,WAAW,GAAG,MAAM,OAAO,GAAG,QAAQ,MAAM,CAAC,EAAE,MAAM,IAAI,CAAC,YAAY,CAAC;;;;;;kEAC1E,8OAAC;kEAAM,MAAM,KAAK;;;;;;oDACjB,CAAC,MAAM,KAAK,IAAI,CAAC,IAAI,mBACpB,8OAAC;wDAAK,WAAW,CAAC,yCAAyC,EACzD,MAAM,KAAK,CAAC,QAAQ,CAAC,UAAU,mCAC/B,MAAM,KAAK,CAAC,QAAQ,CAAC,UAAU,iCAC/B,MAAM,KAAK,CAAC,QAAQ,CAAC,YAAY,qCACjC,MAAM,KAAK,CAAC,QAAQ,CAAC,WAAW,mCAChC,kCACA;kEACC,MAAM,KAAK;;;;;;;+CAlBX,MAAM,IAAI;;;;;;;;;;;+CA2BzB,mBAAmB;0CACnB,8OAAC,uKAAI;gCACH,MAAM,KAAK,IAAI;gCACf,WAAW,CAAC,4DAA4D,EACtE,cAAc,KAAK,IAAI,IACnB,oEACA,yDACJ;;kDAEF,8OAAC;wCAAE,WAAW,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC;;;;;;kDACpC,8OAAC;wCAAK,WAAU;kDAAe,KAAK,KAAK;;;;;;oCACxC,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,mBACnB,8OAAC;wCAAK,WAAU;kDACb,KAAK,KAAK;;;;;;;;;;;;2BAnEX,KAAK,EAAE,IAAI,KAAK,IAAI;;;;;kCA4EhC,8OAAC;wBAAI,WAAU;;;;;;oBAGd,eAAe,GAAG,CAAC,CAAC,qBACnB,8OAAC;sCACE,KAAK,QAAQ,GACZ,kBAAkB;0CAClB;;kDACE,8OAAC;wCACC,SAAS,IAAM,WAAW,KAAK,EAAE;wCACjC,WAAW,CAAC,mEAAmE,EAC7E,eAAe,QACX,uCACA,yDACJ;;0DAEF,8OAAC;gDAAE,WAAW,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC;;;;;;0DACpC,8OAAC;gDAAK,WAAU;0DAAe,KAAK,KAAK;;;;;;0DACzC,8OAAC;gDAAE,WAAW,CAAC,eAAe,EAAE,cAAc,QAAQ,CAAC,KAAK,EAAE,IAAK,SAAS,QAAQ,+BAA+B,CAAC;;;;;;;;;;;;oCAIrH,cAAc,QAAQ,CAAC,KAAK,EAAE,mBAC7B,8OAAC;wCAAI,WAAU;kDACZ,KAAK,QAAQ,CAAC,GAAG,CAAC,CAAC,sBAClB,8OAAC,uKAAI;gDAEH,MAAM,MAAM,IAAI;gDAChB,WAAW,CAAC,oEAAoE,EAC9E,cAAc,MAAM,IAAI,IACpB,uCACA,yDACJ;;kEAEF,8OAAC;wDAAE,WAAW,GAAG,MAAM,OAAO,GAAG,QAAQ,MAAM,CAAC,EAAE,MAAM,IAAI,CAAC,YAAY,CAAC;;;;;;kEAC1E,8OAAC;kEAAM,MAAM,KAAK;;;;;;;+CATb,MAAM,IAAI;;;;;;;;;;;+CAgBzB,mBAAmB;0CACnB,8OAAC,uKAAI;gCACH,MAAM,KAAK,IAAI;gCACf,WAAW,CAAC,4DAA4D,EACtE,cAAc,KAAK,IAAI,IACnB,oEACA,yDACJ;;kDAEF,8OAAC;wCAAE,WAAW,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC;;;;;;kDACpC,8OAAC;kDAAM,KAAK,KAAK;;;;;;;;;;;;2BAhDb,KAAK,EAAE,IAAI,KAAK,IAAI;;;;;;;;;;;0BAwDlC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAK,WAAU;0CAAiC;;;;;;;;;;;sCAEnD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CAA0C;;;;;;8CACzD,8OAAC;oCAAI,WAAU;8CAAkC;;;;;;;;;;;;sCAEnD,8OAAC;4BAAO,WAAU;sCAChB,cAAA,8OAAC;gCAAE,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzB"}},
    {"offset": {"line": 2351, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/layout/Header.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport {\n  Bell,\n  RefreshCw,\n  Calendar,\n  ChevronDown,\n  Check,\n  AlertTriangle,\n  Package,\n  ShoppingCart,\n} from 'lucide-react';\n\ntype DateRange = 'today' | 'wtd' | 'mtd' | 'ytd' | 'custom';\n\ninterface DateRangeOption {\n  value: DateRange;\n  label: string;\n}\n\nconst dateRangeOptions: DateRangeOption[] = [\n  { value: 'today', label: 'Today' },\n  { value: 'wtd', label: 'Week to Date' },\n  { value: 'mtd', label: 'Month to Date' },\n  { value: 'ytd', label: 'Year to Date' },\n  { value: 'custom', label: 'Custom Range' },\n];\n\nconst mockNotifications = [\n  {\n    id: 1,\n    type: 'warning',\n    title: 'Low Stock Alert',\n    message: 'Big Bud 1L is below reorder point (12 units)',\n    time: '5 min ago',\n  },\n  {\n    id: 2,\n    type: 'order',\n    title: 'New Order',\n    message: 'Order #10492 received from Shopify',\n    time: '12 min ago',\n  },\n  {\n    id: 3,\n    type: 'success',\n    title: 'Shipment Delivered',\n    message: 'Order #10485 delivered to customer',\n    time: '1 hour ago',\n  },\n];\n\nexport default function Header() {\n  const [dateRange, setDateRange] = useState<DateRange>('mtd');\n  const [showDateDropdown, setShowDateDropdown] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [lastSync, setLastSync] = useState('2 min ago');\n\n  const handleSync = () => {\n    setIsSyncing(true);\n    setTimeout(() => {\n      setIsSyncing(false);\n      setLastSync('Just now');\n    }, 2000);\n  };\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'warning':\n        return <AlertTriangle className=\"h-4 w-4 text-amber-400\" />;\n      case 'order':\n        return <ShoppingCart className=\"h-4 w-4 text-blue-400\" />;\n      case 'success':\n        return <Check className=\"h-4 w-4 text-emerald-400\" />;\n      default:\n        return <Package className=\"h-4 w-4 text-slate-400\" />;\n    }\n  };\n\n  return (\n    <header className=\"fixed top-0 left-64 right-0 z-30 h-16 bg-slate-900/80 backdrop-blur border-b border-slate-700/50\">\n      <div className=\"flex h-full items-center justify-between px-6\">\n        {/* Left side - Page context area (can be used by pages) */}\n        <div className=\"flex items-center gap-4\">\n          {/* This space can be used for breadcrumbs or page-specific actions */}\n        </div>\n\n        {/* Right side - Actions */}\n        <div className=\"flex items-center gap-4\">\n          {/* Date Range Picker */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowDateDropdown(!showDateDropdown)}\n              className=\"flex items-center gap-2 rounded-lg bg-slate-800/50 px-4 py-2 text-sm font-medium text-white border border-slate-700/50 hover:bg-slate-700/50 transition-colors\"\n            >\n              <Calendar className=\"h-4 w-4 text-slate-400\" />\n              {dateRangeOptions.find((o) => o.value === dateRange)?.label}\n              <ChevronDown className=\"h-4 w-4 text-slate-400\" />\n            </button>\n\n            {showDateDropdown && (\n              <>\n                <div\n                  className=\"fixed inset-0 z-10\"\n                  onClick={() => setShowDateDropdown(false)}\n                />\n                <div className=\"absolute right-0 top-full mt-2 z-20 w-48 rounded-xl bg-slate-800 border border-slate-700/50 shadow-xl overflow-hidden\">\n                  {dateRangeOptions.map((option) => (\n                    <button\n                      key={option.value}\n                      onClick={() => {\n                        setDateRange(option.value);\n                        setShowDateDropdown(false);\n                      }}\n                      className={`w-full px-4 py-2.5 text-left text-sm transition-colors ${\n                        dateRange === option.value\n                          ? 'bg-emerald-500/20 text-emerald-400'\n                          : 'text-slate-300 hover:bg-slate-700/50'\n                      }`}\n                    >\n                      {option.label}\n                    </button>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Sync Status */}\n          <button\n            onClick={handleSync}\n            disabled={isSyncing}\n            className=\"flex items-center gap-2 rounded-lg bg-slate-800/50 px-4 py-2 text-sm font-medium border border-slate-700/50 hover:bg-slate-700/50 transition-colors disabled:opacity-50\"\n          >\n            <RefreshCw\n              className={`h-4 w-4 text-emerald-400 ${isSyncing ? 'animate-spin' : ''}`}\n            />\n            <span className=\"text-slate-300\">\n              {isSyncing ? 'Syncing...' : `Synced ${lastSync}`}\n            </span>\n          </button>\n\n          {/* Notifications */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowNotifications(!showNotifications)}\n              className=\"relative flex h-10 w-10 items-center justify-center rounded-lg bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 transition-colors\"\n            >\n              <Bell className=\"h-5 w-5 text-slate-400\" />\n              <span className=\"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500 text-xs font-bold text-white\">\n                {mockNotifications.length}\n              </span>\n            </button>\n\n            {showNotifications && (\n              <>\n                <div\n                  className=\"fixed inset-0 z-10\"\n                  onClick={() => setShowNotifications(false)}\n                />\n                <div className=\"absolute right-0 top-full mt-2 z-20 w-80 rounded-xl bg-slate-800 border border-slate-700/50 shadow-xl overflow-hidden\">\n                  <div className=\"border-b border-slate-700/50 px-4 py-3\">\n                    <h3 className=\"text-sm font-semibold text-white\">\n                      Notifications\n                    </h3>\n                  </div>\n                  <div className=\"max-h-80 overflow-y-auto\">\n                    {mockNotifications.map((notification) => (\n                      <div\n                        key={notification.id}\n                        className=\"flex gap-3 px-4 py-3 hover:bg-slate-700/30 transition-colors border-b border-slate-700/30 last:border-0\"\n                      >\n                        <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-slate-700/50\">\n                          {getNotificationIcon(notification.type)}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm font-medium text-white\">\n                            {notification.title}\n                          </p>\n                          <p className=\"text-xs text-slate-400 truncate\">\n                            {notification.message}\n                          </p>\n                          <p className=\"text-xs text-slate-500 mt-1\">\n                            {notification.time}\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"border-t border-slate-700/50 px-4 py-2\">\n                    <button className=\"w-full text-center text-sm text-emerald-400 hover:text-emerald-300 transition-colors\">\n                      View all notifications\n                    </button>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2823, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app'\nimport { getAuth, connectAuthEmulator } from 'firebase/auth'\nimport { getFirestore, connectFirestoreEmulator } from 'firebase/firestore'\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY || \"AIzaSyCWksF-L5FQkrEXbviMVadKHni-smNdeWo\",\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN || \"cronk-wms.firebaseapp.com\",\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID || \"cronk-wms\",\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET || \"cronk-wms.firebasestorage.app\",\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID || \"1085255099980\",\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID || \"1:1085255099980:web:ce50bce603dc23560a76e9\",\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID || \"G-DGHP1Y66PT\",\n}\n\n// Initialize Firebase only once\nconst app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0]\n\nexport const auth = getAuth(app)\nexport const db = getFirestore(app)\n\n// Use emulators in development (optional)\nif (process.env.NODE_ENV === 'development' && process.env.NEXT_PUBLIC_USE_EMULATORS === 'true') {\n  connectAuthEmulator(auth, 'http://localhost:9099')\n  connectFirestoreEmulator(db, 'localhost', 8080)\n}\n\nexport default app\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ,+EAA4C;IACpD,YAAY,iEAAgD;IAC5D,WAAW,iDAA+C;IAC1D,eAAe,qEAAmD;IAClE,mBAAmB,qDAAwD;IAC3E,OAAO,kFAA2C;IAClD,eAAe,oDAAmD;AACpE;AAEA,gCAAgC;AAChC,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,KAAK,IAAI,IAAA,iLAAa,EAAC,kBAAkB,IAAA,2KAAO,GAAE,CAAC,EAAE;AAE1E,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,KAAK,IAAA,iLAAY,EAAC;AAE/B,0CAA0C;AAC1C,IAAI,oDAAyB,iBAAiB,QAAQ,GAAG,CAAC,yBAAyB,KAAK,QAAQ;IAC9F,IAAA,yLAAmB,EAAC,MAAM;IAC1B,IAAA,6LAAwB,EAAC,IAAI,aAAa;AAC5C;uCAEe"}},
    {"offset": {"line": 2863, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/context/AuthContext.tsx"],"sourcesContent":["'use client'\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react'\nimport {\n  User,\n  signInWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n  sendPasswordResetEmail,\n  updateProfile,\n  createUserWithEmailAndPassword,\n} from 'firebase/auth'\nimport { doc, getDoc, setDoc, serverTimestamp } from 'firebase/firestore'\nimport { auth, db } from '@/lib/firebase'\n\nexport interface UserProfile {\n  uid: string\n  email: string | null\n  displayName: string | null\n  photoURL: string | null\n  role: 'admin' | 'warehouse' | 'viewer'\n  company?: string\n  createdAt?: Date\n  lastLoginAt?: Date\n}\n\ninterface AuthContextType {\n  user: User | null\n  userProfile: UserProfile | null\n  loading: boolean\n  error: string | null\n  login: (email: string, password: string, rememberMe?: boolean) => Promise<void>\n  logout: () => Promise<void>\n  register: (email: string, password: string, displayName: string) => Promise<void>\n  resetPassword: (email: string) => Promise<void>\n  updateUserProfile: (data: Partial<UserProfile>) => Promise<void>\n  clearError: () => void\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [userProfile, setUserProfile] = useState<UserProfile | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  // Fetch user profile from Firestore\n  const fetchUserProfile = async (uid: string): Promise<UserProfile | null> => {\n    try {\n      const userDoc = await getDoc(doc(db, 'users', uid))\n      if (userDoc.exists()) {\n        return userDoc.data() as UserProfile\n      }\n      return null\n    } catch (err) {\n      console.error('Error fetching user profile:', err)\n      return null\n    }\n  }\n\n  // Create or update user profile in Firestore\n  const createOrUpdateUserProfile = async (user: User, additionalData?: Partial<UserProfile>) => {\n    const userRef = doc(db, 'users', user.uid)\n    const userDoc = await getDoc(userRef)\n\n    if (!userDoc.exists()) {\n      // Create new user profile\n      const newProfile: UserProfile = {\n        uid: user.uid,\n        email: user.email,\n        displayName: user.displayName || additionalData?.displayName || null,\n        photoURL: user.photoURL,\n        role: 'admin', // Default role - first user is admin\n        createdAt: new Date(),\n        lastLoginAt: new Date(),\n        ...additionalData,\n      }\n      await setDoc(userRef, {\n        ...newProfile,\n        createdAt: serverTimestamp(),\n        lastLoginAt: serverTimestamp(),\n      })\n      return newProfile\n    } else {\n      // Update last login\n      await setDoc(userRef, { lastLoginAt: serverTimestamp() }, { merge: true })\n      return userDoc.data() as UserProfile\n    }\n  }\n\n  // Listen for auth state changes\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      setUser(user)\n\n      if (user) {\n        const profile = await fetchUserProfile(user.uid)\n        if (profile) {\n          setUserProfile(profile)\n        } else {\n          // Create profile if doesn't exist\n          const newProfile = await createOrUpdateUserProfile(user)\n          setUserProfile(newProfile)\n        }\n      } else {\n        setUserProfile(null)\n      }\n\n      setLoading(false)\n    })\n\n    return () => unsubscribe()\n  }, [])\n\n  // Login\n  const login = async (email: string, password: string, rememberMe: boolean = true) => {\n    try {\n      setError(null)\n      setLoading(true)\n\n      // Set persistence based on rememberMe\n      // Note: Firebase web SDK persists by default, this is mainly for UX\n      const result = await signInWithEmailAndPassword(auth, email, password)\n\n      // Update last login in Firestore\n      await createOrUpdateUserProfile(result.user)\n\n    } catch (err: unknown) {\n      const errorMessage = getAuthErrorMessage((err as { code?: string }).code || '')\n      setError(errorMessage)\n      throw new Error(errorMessage)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Logout\n  const logout = async () => {\n    try {\n      setError(null)\n      await signOut(auth)\n      setUser(null)\n      setUserProfile(null)\n    } catch (err) {\n      setError('Failed to log out. Please try again.')\n      throw err\n    }\n  }\n\n  // Register new user\n  const register = async (email: string, password: string, displayName: string) => {\n    try {\n      setError(null)\n      setLoading(true)\n\n      const result = await createUserWithEmailAndPassword(auth, email, password)\n\n      // Update display name\n      await updateProfile(result.user, { displayName })\n\n      // Create user profile in Firestore\n      await createOrUpdateUserProfile(result.user, { displayName })\n\n    } catch (err: unknown) {\n      const errorMessage = getAuthErrorMessage((err as { code?: string }).code || '')\n      setError(errorMessage)\n      throw new Error(errorMessage)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Reset password\n  const resetPassword = async (email: string) => {\n    try {\n      setError(null)\n      await sendPasswordResetEmail(auth, email)\n    } catch (err: unknown) {\n      const errorMessage = getAuthErrorMessage((err as { code?: string }).code || '')\n      setError(errorMessage)\n      throw new Error(errorMessage)\n    }\n  }\n\n  // Update user profile\n  const updateUserProfile = async (data: Partial<UserProfile>) => {\n    if (!user) throw new Error('No user logged in')\n\n    try {\n      setError(null)\n      const userRef = doc(db, 'users', user.uid)\n      await setDoc(userRef, data, { merge: true })\n\n      // Update local state\n      setUserProfile(prev => prev ? { ...prev, ...data } : null)\n\n      // Update Firebase Auth profile if name changed\n      if (data.displayName) {\n        await updateProfile(user, { displayName: data.displayName })\n      }\n    } catch (err) {\n      setError('Failed to update profile')\n      throw err\n    }\n  }\n\n  // Clear error\n  const clearError = () => setError(null)\n\n  const value = {\n    user,\n    userProfile,\n    loading,\n    error,\n    login,\n    logout,\n    register,\n    resetPassword,\n    updateUserProfile,\n    clearError,\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\n// Hook to use auth context\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider')\n  }\n  return context\n}\n\n// Helper to get user-friendly error messages\nfunction getAuthErrorMessage(code: string): string {\n  switch (code) {\n    case 'auth/user-not-found':\n      return 'No account found with this email address.'\n    case 'auth/wrong-password':\n      return 'Incorrect password. Please try again.'\n    case 'auth/invalid-email':\n      return 'Please enter a valid email address.'\n    case 'auth/email-already-in-use':\n      return 'An account with this email already exists.'\n    case 'auth/weak-password':\n      return 'Password should be at least 6 characters.'\n    case 'auth/too-many-requests':\n      return 'Too many failed attempts. Please try again later.'\n    case 'auth/network-request-failed':\n      return 'Network error. Please check your connection.'\n    case 'auth/invalid-credential':\n      return 'Invalid email or password.'\n    default:\n      return 'An error occurred. Please try again.'\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3098, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/Toast.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useCallback, ReactNode } from 'react';\n\ntype ToastType = 'success' | 'error' | 'info' | 'warning';\n\ninterface Toast {\n  id: string;\n  type: ToastType;\n  message: string;\n  duration?: number;\n}\n\ninterface ToastContextType {\n  toasts: Toast[];\n  addToast: (type: ToastType, message: string, duration?: number) => void;\n  removeToast: (id: string) => void;\n  success: (message: string, duration?: number) => void;\n  error: (message: string, duration?: number) => void;\n  info: (message: string, duration?: number) => void;\n  warning: (message: string, duration?: number) => void;\n}\n\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\n\nexport function ToastProvider({ children }: { children: ReactNode }) {\n  const [toasts, setToasts] = useState<Toast[]>([]);\n\n  const addToast = useCallback((type: ToastType, message: string, duration = 4000) => {\n    const id = Math.random().toString(36).substring(7);\n    setToasts(prev => [...prev, { id, type, message, duration }]);\n\n    if (duration > 0) {\n      setTimeout(() => {\n        setToasts(prev => prev.filter(t => t.id !== id));\n      }, duration);\n    }\n  }, []);\n\n  const removeToast = useCallback((id: string) => {\n    setToasts(prev => prev.filter(t => t.id !== id));\n  }, []);\n\n  // Convenience methods\n  const success = useCallback((message: string, duration?: number) => {\n    addToast('success', message, duration);\n  }, [addToast]);\n\n  const error = useCallback((message: string, duration?: number) => {\n    addToast('error', message, duration);\n  }, [addToast]);\n\n  const info = useCallback((message: string, duration?: number) => {\n    addToast('info', message, duration);\n  }, [addToast]);\n\n  const warning = useCallback((message: string, duration?: number) => {\n    addToast('warning', message, duration);\n  }, [addToast]);\n\n  return (\n    <ToastContext.Provider value={{ toasts, addToast, removeToast, success, error, info, warning }}>\n      {children}\n      <ToastContainer toasts={toasts} removeToast={removeToast} />\n    </ToastContext.Provider>\n  );\n}\n\nexport function useToast() {\n  const context = useContext(ToastContext);\n  if (!context) {\n    throw new Error('useToast must be used within ToastProvider');\n  }\n  return context;\n}\n\n// Toast icons mapping\nconst toastIcons: Record<ToastType, string> = {\n  success: 'fa-check-circle',\n  error: 'fa-exclamation-circle',\n  info: 'fa-info-circle',\n  warning: 'fa-exclamation-triangle',\n};\n\n// Toast colors mapping\nconst toastColors: Record<ToastType, { bg: string; border: string; text: string }> = {\n  success: {\n    bg: 'bg-emerald-500/20',\n    border: 'border-emerald-500/30',\n    text: 'text-emerald-400',\n  },\n  error: {\n    bg: 'bg-red-500/20',\n    border: 'border-red-500/30',\n    text: 'text-red-400',\n  },\n  info: {\n    bg: 'bg-blue-500/20',\n    border: 'border-blue-500/30',\n    text: 'text-blue-400',\n  },\n  warning: {\n    bg: 'bg-amber-500/20',\n    border: 'border-amber-500/30',\n    text: 'text-amber-400',\n  },\n};\n\n// Toast Container Component\nfunction ToastContainer({\n  toasts,\n  removeToast,\n}: {\n  toasts: Toast[];\n  removeToast: (id: string) => void;\n}) {\n  if (toasts.length === 0) return null;\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50 space-y-2 max-w-md\">\n      {toasts.map(toast => {\n        const colors = toastColors[toast.type];\n        const icon = toastIcons[toast.type];\n\n        return (\n          <div\n            key={toast.id}\n            className={`\n              flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border backdrop-blur-sm\n              animate-in slide-in-from-right-full duration-300\n              ${colors.bg} ${colors.border} ${colors.text}\n            `}\n            role=\"alert\"\n          >\n            <i className={`fas ${icon} flex-shrink-0`}></i>\n            <span className=\"text-sm flex-1\">{toast.message}</span>\n            <button\n              onClick={() => removeToast(toast.id)}\n              className=\"ml-2 text-slate-400 hover:text-white transition-colors flex-shrink-0\"\n              aria-label=\"Dismiss\"\n            >\n              <i className=\"fas fa-times text-xs\"></i>\n            </button>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default ToastProvider;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3284, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/ConfirmDialog.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useCallback, ReactNode, useEffect } from 'react';\n\ninterface ConfirmOptions {\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  destructive?: boolean;\n  icon?: string;\n}\n\ninterface ConfirmContextType {\n  confirm: (options: ConfirmOptions) => Promise<boolean>;\n}\n\nconst ConfirmContext = createContext<ConfirmContextType | undefined>(undefined);\n\nexport function ConfirmProvider({ children }: { children: ReactNode }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [options, setOptions] = useState<ConfirmOptions | null>(null);\n  const [resolvePromise, setResolvePromise] = useState<((value: boolean) => void) | null>(null);\n\n  const confirm = useCallback((opts: ConfirmOptions): Promise<boolean> => {\n    setOptions(opts);\n    setIsOpen(true);\n    return new Promise(resolve => {\n      setResolvePromise(() => resolve);\n    });\n  }, []);\n\n  const handleConfirm = useCallback(() => {\n    resolvePromise?.(true);\n    setIsOpen(false);\n    setOptions(null);\n  }, [resolvePromise]);\n\n  const handleCancel = useCallback(() => {\n    resolvePromise?.(false);\n    setIsOpen(false);\n    setOptions(null);\n  }, [resolvePromise]);\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        handleCancel();\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, handleCancel]);\n\n  // Prevent body scroll when dialog is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  return (\n    <ConfirmContext.Provider value={{ confirm }}>\n      {children}\n      {isOpen && options && (\n        <div\n          className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\n          onClick={handleCancel}\n        >\n          <div\n            className=\"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full shadow-2xl animate-in zoom-in-95 duration-200\"\n            onClick={e => e.stopPropagation()}\n          >\n            {/* Icon */}\n            {options.icon && (\n              <div className={`w-12 h-12 rounded-full flex items-center justify-center mb-4 ${\n                options.destructive ? 'bg-red-500/20' : 'bg-blue-500/20'\n              }`}>\n                <i className={`fas ${options.icon} text-xl ${\n                  options.destructive ? 'text-red-400' : 'text-blue-400'\n                }`}></i>\n              </div>\n            )}\n\n            {/* Title */}\n            <h3 className=\"text-lg font-semibold text-white mb-2\">{options.title}</h3>\n\n            {/* Message */}\n            <p className=\"text-slate-400 mb-6\">{options.message}</p>\n\n            {/* Actions */}\n            <div className=\"flex gap-3 justify-end\">\n              <button\n                onClick={handleCancel}\n                className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors\"\n              >\n                {options.cancelText || 'Cancel'}\n              </button>\n              <button\n                onClick={handleConfirm}\n                className={`px-4 py-2 rounded-lg transition-colors font-medium ${\n                  options.destructive\n                    ? 'bg-red-600 hover:bg-red-500 text-white'\n                    : 'bg-emerald-600 hover:bg-emerald-500 text-white'\n                }`}\n              >\n                {options.confirmText || 'Confirm'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </ConfirmContext.Provider>\n  );\n}\n\nexport function useConfirm() {\n  const context = useContext(ConfirmContext);\n  if (!context) {\n    throw new Error('useConfirm must be used within ConfirmProvider');\n  }\n  return context.confirm;\n}\n\nexport default ConfirmProvider;\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAFA;;;AAiBA,MAAM,+BAAiB,IAAA,sNAAa,EAAiC;AAE9D,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;IACnE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAwB;IAC9D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAoC;IAExF,MAAM,UAAU,IAAA,oNAAW,EAAC,CAAC;QAC3B,WAAW;QACX,UAAU;QACV,OAAO,IAAI,QAAQ,CAAA;YACjB,kBAAkB,IAAM;QAC1B;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,oNAAW,EAAC;QAChC,iBAAiB;QACjB,UAAU;QACV,WAAW;IACb,GAAG;QAAC;KAAe;IAEnB,MAAM,eAAe,IAAA,oNAAW,EAAC;QAC/B,iBAAiB;QACjB,UAAU;QACV,WAAW;IACb,GAAG;QAAC;KAAe;IAEnB,oBAAoB;IACpB,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe,CAAC;YACpB,IAAI,EAAE,GAAG,KAAK,YAAY,QAAQ;gBAChC;YACF;QACF;QACA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;IACvD,GAAG;QAAC;QAAQ;KAAa;IAEzB,0CAA0C;IAC1C,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ;YACV,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QACA,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;KAAO;IAEX,qBACE,8OAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;QAAQ;;YACvC;YACA,UAAU,yBACT,8OAAC;gBACC,WAAU;gBACV,SAAS;0BAET,cAAA,8OAAC;oBACC,WAAU;oBACV,SAAS,CAAA,IAAK,EAAE,eAAe;;wBAG9B,QAAQ,IAAI,kBACX,8OAAC;4BAAI,WAAW,CAAC,6DAA6D,EAC5E,QAAQ,WAAW,GAAG,kBAAkB,kBACxC;sCACA,cAAA,8OAAC;gCAAE,WAAW,CAAC,IAAI,EAAE,QAAQ,IAAI,CAAC,SAAS,EACzC,QAAQ,WAAW,GAAG,iBAAiB,iBACvC;;;;;;;;;;;sCAKN,8OAAC;4BAAG,WAAU;sCAAyC,QAAQ,KAAK;;;;;;sCAGpE,8OAAC;4BAAE,WAAU;sCAAuB,QAAQ,OAAO;;;;;;sCAGnD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS;oCACT,WAAU;8CAET,QAAQ,UAAU,IAAI;;;;;;8CAEzB,8OAAC;oCACC,SAAS;oCACT,WAAW,CAAC,mDAAmD,EAC7D,QAAQ,WAAW,GACf,2CACA,kDACJ;8CAED,QAAQ,WAAW,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQxC;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO,QAAQ,OAAO;AACxB;uCAEe"}},
    {"offset": {"line": 3449, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/Providers.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\nimport { AuthProvider } from '@/context/AuthContext';\nimport { AppProvider } from '@/context/AppContext';\nimport { ToastProvider } from '@/components/ui/Toast';\nimport { ConfirmProvider } from '@/components/ui/ConfirmDialog';\n\ninterface ProvidersProps {\n  children: ReactNode;\n}\n\nexport function Providers({ children }: ProvidersProps) {\n  return (\n    <AuthProvider>\n      <AppProvider>\n        <ToastProvider>\n          <ConfirmProvider>\n            {children}\n          </ConfirmProvider>\n        </ToastProvider>\n      </AppProvider>\n    </AuthProvider>\n  );\n}\n\nexport default Providers;\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;AACA;AANA;;;;;;AAYO,SAAS,UAAU,EAAE,QAAQ,EAAkB;IACpD,qBACE,8OAAC,uIAAY;kBACX,cAAA,8OAAC,qIAAW;sBACV,cAAA,8OAAC,2IAAa;0BACZ,cAAA,8OAAC,qJAAe;8BACb;;;;;;;;;;;;;;;;;;;;;AAMb;uCAEe"}}]
}