{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/Modal.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, useEffect } from 'react';\n\ninterface ModalProps {\n  open: boolean;\n  onClose: () => void;\n  title: string;\n  subtitle?: string;\n  children: ReactNode;\n  footer?: ReactNode;\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  className?: string;\n}\n\nconst sizeClasses = {\n  sm: 'max-w-sm',\n  md: 'max-w-lg',\n  lg: 'max-w-2xl',\n  xl: 'max-w-4xl',\n};\n\nexport function Modal({\n  open,\n  onClose,\n  title,\n  subtitle,\n  children,\n  footer,\n  size = 'md',\n  className = '',\n}: ModalProps) {\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && open) {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [open, onClose]);\n\n  // Prevent body scroll when open\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [open]);\n\n  if (!open) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div className={`relative bg-slate-900 border border-slate-700 rounded-2xl w-full ${sizeClasses[size]} m-4 shadow-2xl ${className}`}>\n        {/* Header */}\n        <div className=\"px-6 py-4 border-b border-slate-700 flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-xl font-bold text-white\">{title}</h2>\n            {subtitle && (\n              <p className=\"text-sm text-slate-400 mt-0.5\">{subtitle}</p>\n            )}\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-times\"></i>\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 max-h-[calc(100vh-16rem)] overflow-y-auto\">\n          {children}\n        </div>\n\n        {/* Footer */}\n        {footer && (\n          <div className=\"px-6 py-4 border-t border-slate-700 flex items-center justify-end gap-3\">\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAeA,MAAM,cAAc;IAClB,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,SAAS,MAAM,EACpB,IAAI,EACJ,OAAO,EACP,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,OAAO,IAAI,EACX,YAAY,EAAE,EACH;IACX,oBAAoB;IACpB,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe,CAAC;YACpB,IAAI,EAAE,GAAG,KAAK,YAAY,MAAM;gBAC9B;YACF;QACF;QACA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;IACvD,GAAG;QAAC;QAAM;KAAQ;IAElB,gCAAgC;IAChC,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM;YACR,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QACA,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;KAAK;IAET,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,8OAAC;gBAAI,WAAW,CAAC,iEAAiE,EAAE,WAAW,CAAC,KAAK,CAAC,gBAAgB,EAAE,WAAW;;kCAEjI,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAgC;;;;;;oCAC7C,0BACC,8OAAC;wCAAE,WAAU;kDAAiC;;;;;;;;;;;;0CAGlD,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC;oCAAE,WAAU;;;;;;;;;;;;;;;;;kCAKjB,8OAAC;wBAAI,WAAU;kCACZ;;;;;;oBAIF,wBACC,8OAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAMb;uCAEe"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/FilterBadge.tsx"],"sourcesContent":["'use client';\n\nimport { X } from 'lucide-react';\n\ninterface FilterBadgeProps {\n  label: string;\n  value: string;\n  onRemove: () => void;\n}\n\nexport function FilterBadge({ label, value, onRemove }: FilterBadgeProps) {\n  return (\n    <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-emerald-500/20 text-emerald-400 rounded-lg text-xs\">\n      <span className=\"text-emerald-400/70\">{label}:</span>\n      <span className=\"font-medium\">{value}</span>\n      <button\n        onClick={onRemove}\n        className=\"ml-0.5 p-0.5 hover:bg-emerald-500/30 rounded transition-colors\"\n      >\n        <X className=\"w-3 h-3\" />\n      </button>\n    </span>\n  );\n}\n\ninterface ActiveFiltersProps {\n  filters: Array<{\n    key: string;\n    label: string;\n    value: string;\n  }>;\n  onRemove: (key: string) => void;\n  onClearAll: () => void;\n}\n\nexport function ActiveFilters({ filters, onRemove, onClearAll }: ActiveFiltersProps) {\n  if (filters.length === 0) return null;\n\n  return (\n    <div className=\"flex items-center gap-3 p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg\">\n      <span className=\"text-sm text-emerald-400 flex-shrink-0\">Filtered by:</span>\n      <div className=\"flex items-center gap-2 flex-wrap flex-1\">\n        {filters.map((filter) => (\n          <FilterBadge\n            key={filter.key}\n            label={filter.label}\n            value={filter.value}\n            onRemove={() => onRemove(filter.key)}\n          />\n        ))}\n      </div>\n      <button\n        onClick={onClearAll}\n        className=\"text-sm text-slate-400 hover:text-white transition-colors flex-shrink-0\"\n      >\n        Clear All\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAUO,SAAS,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAoB;IACtE,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAK,WAAU;;oBAAuB;oBAAM;;;;;;;0BAC7C,8OAAC;gBAAK,WAAU;0BAAe;;;;;;0BAC/B,8OAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,8OAAC,iMAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrB;AAYO,SAAS,cAAc,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAsB;IACjF,IAAI,QAAQ,MAAM,KAAK,GAAG,OAAO;IAEjC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;0BAAyC;;;;;;0BACzD,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;wBAEC,OAAO,OAAO,KAAK;wBACnB,OAAO,OAAO,KAAK;wBACnB,UAAU,IAAM,SAAS,OAAO,GAAG;uBAH9B,OAAO,GAAG;;;;;;;;;;0BAOrB,8OAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKP"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/Button.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode, ButtonHTMLAttributes } from 'react';\nimport Link from 'next/link';\n\ntype ButtonVariant = 'primary' | 'secondary' | 'ghost' | 'danger';\ntype ButtonSize = 'sm' | 'md' | 'lg';\n\ninterface ButtonBaseProps {\n  variant?: ButtonVariant;\n  size?: ButtonSize;\n  icon?: string;\n  iconPosition?: 'left' | 'right';\n  children?: ReactNode;\n  className?: string;\n  disabled?: boolean;\n}\n\ninterface ButtonAsButton extends ButtonBaseProps, Omit<ButtonHTMLAttributes<HTMLButtonElement>, keyof ButtonBaseProps> {\n  href?: never;\n}\n\ninterface ButtonAsLink extends ButtonBaseProps {\n  href: string;\n  onClick?: never;\n  type?: never;\n}\n\ntype ButtonProps = ButtonAsButton | ButtonAsLink;\n\nconst variantClasses: Record<ButtonVariant, string> = {\n  primary: 'bg-emerald-600 hover:bg-emerald-500 text-white border-transparent',\n  secondary: 'bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700',\n  ghost: 'bg-transparent hover:bg-slate-800 text-slate-400 hover:text-white border-transparent',\n  danger: 'bg-red-600 hover:bg-red-500 text-white border-transparent',\n};\n\nconst sizeClasses: Record<ButtonSize, string> = {\n  sm: 'px-3 py-1.5 text-xs',\n  md: 'px-4 py-2 text-sm',\n  lg: 'px-5 py-2.5 text-base',\n};\n\nexport function Button({\n  variant = 'primary',\n  size = 'md',\n  icon,\n  iconPosition = 'left',\n  children,\n  className = '',\n  disabled,\n  href,\n  ...props\n}: ButtonProps) {\n  const baseClasses = 'inline-flex items-center justify-center gap-2 font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed';\n  const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`;\n\n  const content = (\n    <>\n      {icon && iconPosition === 'left' && <i className={icon}></i>}\n      {children}\n      {icon && iconPosition === 'right' && <i className={icon}></i>}\n    </>\n  );\n\n  if (href) {\n    return (\n      <Link href={href} className={classes}>\n        {content}\n      </Link>\n    );\n  }\n\n  return (\n    <button className={classes} disabled={disabled} {...props}>\n      {content}\n    </button>\n  );\n}\n\nexport default Button;\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AA8BA,MAAM,iBAAgD;IACpD,SAAS;IACT,WAAW;IACX,OAAO;IACP,QAAQ;AACV;AAEA,MAAM,cAA0C;IAC9C,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,SAAS,OAAO,EACrB,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,IAAI,EACJ,eAAe,MAAM,EACrB,QAAQ,EACR,YAAY,EAAE,EACd,QAAQ,EACR,IAAI,EACJ,GAAG,OACS;IACZ,MAAM,cAAc;IACpB,MAAM,UAAU,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;IAE7F,MAAM,wBACJ;;YACG,QAAQ,iBAAiB,wBAAU,8OAAC;gBAAE,WAAW;;;;;;YACjD;YACA,QAAQ,iBAAiB,yBAAW,8OAAC;gBAAE,WAAW;;;;;;;;IAIvD,IAAI,MAAM;QACR,qBACE,8OAAC,uKAAI;YAAC,MAAM;YAAM,WAAW;sBAC1B;;;;;;IAGP;IAEA,qBACE,8OAAC;QAAO,WAAW;QAAS,UAAU;QAAW,GAAG,KAAK;kBACtD;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/lib/formatting.ts"],"sourcesContent":["/**\n * Shared formatting utilities\n */\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(amount);\n}\n\nexport function formatCurrencyPrecise(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(amount);\n}\n\nexport function formatNumber(num: number): string {\n  return new Intl.NumberFormat('en-US').format(num);\n}\n\nexport function formatPercent(num: number, showSign: boolean = true): string {\n  if (showSign) {\n    return `${num >= 0 ? '+' : ''}${num.toFixed(1)}%`;\n  }\n  return `${num.toFixed(1)}%`;\n}\n\nexport function formatWeight(oz: number): string {\n  if (oz >= 16) {\n    return `${(oz / 16).toFixed(1)} lbs`;\n  }\n  return `${oz.toFixed(1)} oz`;\n}\n\nexport function formatDate(date: string | Date): string {\n  return new Date(date).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\nexport function formatDateTime(date: string | Date): string {\n  return new Date(date).toLocaleString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n  });\n}\n\nexport function formatRelativeTime(date: string | Date): string {\n  const now = new Date();\n  const then = new Date(date);\n  const diffMs = now.getTime() - then.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays < 7) return `${diffDays}d ago`;\n  return formatDate(date);\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;AAEM,SAAS,eAAe,MAAc;IAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,sBAAsB,MAAc;IAClD,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,aAAa,GAAW;IACtC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;AAC/C;AAEO,SAAS,cAAc,GAAW,EAAE,WAAoB,IAAI;IACjE,IAAI,UAAU;QACZ,OAAO,GAAG,OAAO,IAAI,MAAM,KAAK,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;IACnD;IACA,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;AAC7B;AAEO,SAAS,aAAa,EAAU;IACrC,IAAI,MAAM,IAAI;QACZ,OAAO,GAAG,CAAC,KAAK,EAAE,EAAE,OAAO,CAAC,GAAG,IAAI,CAAC;IACtC;IACA,OAAO,GAAG,GAAG,OAAO,CAAC,GAAG,GAAG,CAAC;AAC9B;AAEO,SAAS,WAAW,IAAmB;IAC5C,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;QAChD,OAAO;QACP,KAAK;QACL,MAAM;IACR;AACF;AAEO,SAAS,eAAe,IAAmB;IAChD,OAAO,IAAI,KAAK,MAAM,cAAc,CAAC,SAAS;QAC5C,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV;AACF;AAEO,SAAS,mBAAmB,IAAmB;IACpD,MAAM,MAAM,IAAI;IAChB,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,SAAS,IAAI,OAAO,KAAK,KAAK,OAAO;IAC3C,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;IACrC,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;IACtC,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;IAErC,IAAI,WAAW,GAAG,OAAO;IACzB,IAAI,WAAW,IAAI,OAAO,GAAG,SAAS,KAAK,CAAC;IAC5C,IAAI,YAAY,IAAI,OAAO,GAAG,UAAU,KAAK,CAAC;IAC9C,IAAI,WAAW,GAAG,OAAO,GAAG,SAAS,KAAK,CAAC;IAC3C,OAAO,WAAW;AACpB"}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/Toggle.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef } from 'react';\n\ninterface ToggleProps {\n  checked: boolean;\n  onChange: (checked: boolean) => void;\n  disabled?: boolean;\n  size?: 'sm' | 'md';\n  label?: string;\n  description?: string;\n}\n\nexport const Toggle = forwardRef<HTMLButtonElement, ToggleProps>(\n  ({ checked, onChange, disabled = false, size = 'md', label, description }, ref) => {\n    const sizes = {\n      sm: {\n        track: 'w-9 h-5',\n        thumb: 'w-4 h-4',\n        translate: 'translate-x-4',\n      },\n      md: {\n        track: 'w-11 h-6',\n        thumb: 'w-5 h-5',\n        translate: 'translate-x-5',\n      },\n    };\n\n    const sizeStyles = sizes[size];\n\n    const handleClick = () => {\n      if (!disabled) {\n        onChange(!checked);\n      }\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        handleClick();\n      }\n    };\n\n    const toggle = (\n      <button\n        ref={ref}\n        type=\"button\"\n        role=\"switch\"\n        aria-checked={checked}\n        disabled={disabled}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        className={`\n          relative inline-flex flex-shrink-0 cursor-pointer rounded-full\n          transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2\n          focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-slate-900\n          ${sizeStyles.track}\n          ${checked ? 'bg-emerald-500' : 'bg-slate-600'}\n          ${disabled ? 'opacity-50 cursor-not-allowed' : ''}\n        `}\n      >\n        <span\n          aria-hidden=\"true\"\n          className={`\n            pointer-events-none inline-block rounded-full bg-white shadow-lg\n            ring-0 transition duration-200 ease-in-out\n            ${sizeStyles.thumb}\n            ${checked ? sizeStyles.translate : 'translate-x-0.5'}\n            ${size === 'md' ? 'mt-0.5' : 'mt-0.5'}\n          `}\n        />\n      </button>\n    );\n\n    if (label || description) {\n      return (\n        <div className=\"flex items-start justify-between gap-4\">\n          <div className=\"flex-1\">\n            {label && (\n              <div className={`text-white ${size === 'sm' ? 'text-sm' : 'text-base'}`}>\n                {label}\n              </div>\n            )}\n            {description && (\n              <div className=\"text-sm text-slate-400 mt-0.5\">{description}</div>\n            )}\n          </div>\n          {toggle}\n        </div>\n      );\n    }\n\n    return toggle;\n  }\n);\n\nToggle.displayName = 'Toggle';\n\nexport default Toggle;\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAaO,MAAM,uBAAS,IAAA,mNAAU,EAC9B,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,KAAK,EAAE,OAAO,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE;IACzE,MAAM,QAAQ;QACZ,IAAI;YACF,OAAO;YACP,OAAO;YACP,WAAW;QACb;QACA,IAAI;YACF,OAAO;YACP,OAAO;YACP,WAAW;QACb;IACF;IAEA,MAAM,aAAa,KAAK,CAAC,KAAK;IAE9B,MAAM,cAAc;QAClB,IAAI,CAAC,UAAU;YACb,SAAS,CAAC;QACZ;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;YACtC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,MAAM,uBACJ,8OAAC;QACC,KAAK;QACL,MAAK;QACL,MAAK;QACL,gBAAc;QACd,UAAU;QACV,SAAS;QACT,WAAW;QACX,WAAW,CAAC;;;;UAIV,EAAE,WAAW,KAAK,CAAC;UACnB,EAAE,UAAU,mBAAmB,eAAe;UAC9C,EAAE,WAAW,kCAAkC,GAAG;QACpD,CAAC;kBAED,cAAA,8OAAC;YACC,eAAY;YACZ,WAAW,CAAC;;;YAGV,EAAE,WAAW,KAAK,CAAC;YACnB,EAAE,UAAU,WAAW,SAAS,GAAG,kBAAkB;YACrD,EAAE,SAAS,OAAO,WAAW,SAAS;UACxC,CAAC;;;;;;;;;;;IAKP,IAAI,SAAS,aAAa;QACxB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;wBACZ,uBACC,8OAAC;4BAAI,WAAW,CAAC,WAAW,EAAE,SAAS,OAAO,YAAY,aAAa;sCACpE;;;;;;wBAGJ,6BACC,8OAAC;4BAAI,WAAU;sCAAiC;;;;;;;;;;;;gBAGnD;;;;;;;IAGP;IAEA,OAAO;AACT;AAGF,OAAO,WAAW,GAAG;uCAEN"}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/modals/AddProductModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { useApp, Product, ProductComponent } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { formatNumber } from '@/lib/formatting';\nimport { Plus, X, Package, Search, Hash, Calendar, Layers } from 'lucide-react';\nimport { Toggle } from '@/components/ui/Toggle';\n\ninterface AddProductModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  editProduct?: Product | null;\n}\n\nconst CATEGORIES = [\n  { value: 'classic_line', label: 'Classic Line' },\n  { value: 'additives', label: 'Additives' },\n  { value: 'autoflower_line', label: 'Autoflower Line' },\n  { value: 'puur_organics', label: 'PuurOrganics' },\n  { value: 'shipping_supplies', label: 'Shipping Supplies' },\n  { value: 'merch', label: 'Merch' },\n  { value: 'labels', label: 'Labels' },\n];\n\ninterface FormData {\n  name: string;\n  sku: string;\n  barcode: string;\n  category: string;\n  description: string;\n  cost: string;\n  priceMSRP: string;\n  priceShopify: string;\n  priceAmazon: string;\n  priceWholesale: string;\n  weight: string;\n  length: string;\n  width: string;\n  height: string;\n  reorderPoint: string;\n  supplier: string;\n}\n\nconst initialFormData: FormData = {\n  name: '',\n  sku: '',\n  barcode: '',\n  category: 'classic_line',\n  description: '',\n  cost: '',\n  priceMSRP: '',\n  priceShopify: '',\n  priceAmazon: '',\n  priceWholesale: '',\n  weight: '',\n  length: '',\n  width: '',\n  height: '',\n  reorderPoint: '50',\n  supplier: '',\n};\n\nexport function AddProductModal({ isOpen, onClose, editProduct }: AddProductModalProps) {\n  const { state, dispatch } = useApp();\n  const { success, error } = useToast();\n  const [formData, setFormData] = useState<FormData>(initialFormData);\n  const [errors, setErrors] = useState<Partial<FormData>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Components state for BOM\n  const [components, setComponents] = useState<ProductComponent[]>([]);\n  const [componentSearch, setComponentSearch] = useState('');\n  const [showComponentDropdown, setShowComponentDropdown] = useState(false);\n\n  // Serial number tracking state\n  const [trackSerials, setTrackSerials] = useState(false);\n  const [serialPrefix, setSerialPrefix] = useState('');\n  const [serialNextNumber, setSerialNextNumber] = useState(1001);\n  const [serialSuffix, setSerialSuffix] = useState('');\n\n  // Lot/batch tracking state\n  const [trackLots, setTrackLots] = useState(false);\n  const [expirationTracking, setExpirationTracking] = useState(false);\n  const [expirationWarningDays, setExpirationWarningDays] = useState(30);\n  const [lotPrefix, setLotPrefix] = useState('');\n  const [lotNextNumber, setLotNextNumber] = useState(1);\n\n  const isEditing = !!editProduct;\n\n  // Filter products for component search (exclude current product and already added)\n  const filteredComponentProducts = useMemo(() => {\n    if (!componentSearch.trim()) return [];\n    const search = componentSearch.toLowerCase();\n    return state.products\n      .filter(p =>\n        (p.name.toLowerCase().includes(search) || p.sku.toLowerCase().includes(search)) &&\n        p.id !== editProduct?.id &&\n        !components.some(c => c.productId === p.id)\n      )\n      .slice(0, 6);\n  }, [componentSearch, state.products, components, editProduct?.id]);\n\n  // Get total stock for a product\n  const getProductStock = (productId: string) => {\n    return state.inventory\n      .filter(i => i.productId === productId)\n      .reduce((sum, i) => sum + i.quantity, 0);\n  };\n\n  // Add component to list\n  const addComponent = (productId: string) => {\n    const product = state.products.find(p => p.id === productId);\n    if (!product) return;\n\n    setComponents(prev => [\n      ...prev,\n      {\n        productId: product.id,\n        productName: product.name,\n        quantity: 1,\n      }\n    ]);\n    setComponentSearch('');\n    setShowComponentDropdown(false);\n  };\n\n  // Remove component from list\n  const removeComponent = (productId: string) => {\n    setComponents(prev => prev.filter(c => c.productId !== productId));\n  };\n\n  // Update component quantity\n  const updateComponentQty = (productId: string, quantity: number) => {\n    if (quantity < 1) return;\n    setComponents(prev => prev.map(c =>\n      c.productId === productId ? { ...c, quantity } : c\n    ));\n  };\n\n  // Reset form when modal opens/closes or editProduct changes\n  useEffect(() => {\n    if (isOpen) {\n      if (editProduct) {\n        setFormData({\n          name: editProduct.name,\n          sku: editProduct.sku,\n          barcode: editProduct.barcode || '',\n          category: editProduct.category,\n          description: editProduct.description || '',\n          cost: editProduct.cost.rolling.toString(),\n          priceMSRP: editProduct.prices.msrp.toString(),\n          priceShopify: editProduct.prices.shopify?.toString() || '',\n          priceAmazon: editProduct.prices.amazon?.toString() || '',\n          priceWholesale: editProduct.prices.wholesale?.toString() || '',\n          weight: editProduct.weight.value.toString(),\n          length: editProduct.dimensions?.length?.toString() || '',\n          width: editProduct.dimensions?.width?.toString() || '',\n          height: editProduct.dimensions?.height?.toString() || '',\n          reorderPoint: editProduct.reorderPoint.toString(),\n          supplier: editProduct.supplier || '',\n        });\n        // Load existing components\n        setComponents(editProduct.components || []);\n        // Load serial tracking settings\n        setTrackSerials(editProduct.trackSerials || false);\n        setSerialPrefix(editProduct.serialPrefix || '');\n        setSerialNextNumber(editProduct.serialNextNumber || 1001);\n        setSerialSuffix(editProduct.serialSuffix || '');\n        // Load lot tracking settings\n        setTrackLots(editProduct.trackLots || false);\n        setExpirationTracking(editProduct.expirationTracking || false);\n        setExpirationWarningDays(editProduct.expirationWarningDays || 30);\n        setLotPrefix(editProduct.lotPrefix || '');\n        setLotNextNumber(editProduct.lotNextNumber || 1);\n      } else {\n        setFormData(initialFormData);\n        setComponents([]);\n        setTrackSerials(false);\n        setSerialPrefix('');\n        setSerialNextNumber(1001);\n        setSerialSuffix('');\n        setTrackLots(false);\n        setExpirationTracking(false);\n        setExpirationWarningDays(30);\n        setLotPrefix('');\n        setLotNextNumber(1);\n      }\n      setErrors({});\n      setComponentSearch('');\n      setShowComponentDropdown(false);\n    }\n  }, [isOpen, editProduct]);\n\n  const handleChange = (field: keyof FormData, value: string) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error when user types\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const generateSku = () => {\n    const categoryPrefix = formData.category.substring(0, 3).toUpperCase();\n    const randomNum = Math.floor(Math.random() * 900) + 100;\n    const newSku = `CN${categoryPrefix}${randomNum}`;\n    handleChange('sku', newSku);\n  };\n\n  const validate = (): boolean => {\n    const newErrors: Partial<FormData> = {};\n\n    if (!formData.name.trim()) {\n      newErrors.name = 'Product name is required';\n    }\n\n    if (!formData.sku.trim()) {\n      newErrors.sku = 'SKU is required';\n    } else if (!isEditing || formData.sku !== editProduct?.sku) {\n      // Check for duplicate SKU\n      const existingSku = state.products.find(\n        p => p.sku.toLowerCase() === formData.sku.toLowerCase() && p.id !== editProduct?.id\n      );\n      if (existingSku) {\n        newErrors.sku = 'SKU already exists';\n      }\n    }\n\n    if (!formData.category) {\n      newErrors.category = 'Category is required';\n    }\n\n    const cost = parseFloat(formData.cost);\n    if (isNaN(cost) || cost < 0) {\n      newErrors.cost = 'Valid cost is required';\n    }\n\n    const msrp = parseFloat(formData.priceMSRP);\n    if (isNaN(msrp) || msrp < 0) {\n      newErrors.priceMSRP = 'Valid MSRP is required';\n    }\n\n    const weight = parseFloat(formData.weight);\n    if (isNaN(weight) || weight < 0) {\n      newErrors.weight = 'Valid weight is required';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async () => {\n    if (!validate()) return;\n\n    setIsSubmitting(true);\n\n    try {\n      const productData: Product = {\n        id: editProduct?.id || crypto.randomUUID(),\n        name: formData.name.trim(),\n        sku: formData.sku.trim(),\n        barcode: formData.barcode.trim() || undefined,\n        category: formData.category,\n        description: formData.description.trim() || undefined,\n        cost: {\n          rolling: parseFloat(formData.cost),\n          fixed: parseFloat(formData.cost),\n        },\n        prices: {\n          msrp: parseFloat(formData.priceMSRP),\n          shopify: formData.priceShopify ? parseFloat(formData.priceShopify) : parseFloat(formData.priceMSRP),\n          amazon: formData.priceAmazon ? parseFloat(formData.priceAmazon) : parseFloat(formData.priceMSRP),\n          wholesale: formData.priceWholesale ? parseFloat(formData.priceWholesale) : parseFloat(formData.priceMSRP) * 0.6,\n        },\n        weight: {\n          value: parseFloat(formData.weight),\n          unit: 'lbs',\n        },\n        dimensions: {\n          length: parseFloat(formData.length) || 0,\n          width: parseFloat(formData.width) || 0,\n          height: parseFloat(formData.height) || 0,\n        },\n        reorderPoint: parseInt(formData.reorderPoint) || 50,\n        supplier: formData.supplier.trim() || undefined,\n        skus: editProduct?.skus,\n        // Include manufacturing components (BOM)\n        components: components.length > 0 ? components : undefined,\n        // Serial number tracking\n        trackSerials,\n        serialPrefix: trackSerials ? serialPrefix : undefined,\n        serialNextNumber: trackSerials ? serialNextNumber : undefined,\n        serialSuffix: trackSerials ? serialSuffix : undefined,\n        // Lot/batch tracking\n        trackLots,\n        expirationTracking: trackLots ? expirationTracking : undefined,\n        expirationWarningDays: trackLots && expirationTracking ? expirationWarningDays : undefined,\n        lotPrefix: trackLots ? lotPrefix : undefined,\n        lotNextNumber: trackLots ? lotNextNumber : undefined,\n        createdAt: editProduct?.createdAt || new Date(),\n        updatedAt: new Date(),\n      };\n\n      if (isEditing) {\n        dispatch({ type: 'UPDATE_PRODUCT', payload: productData });\n        success('Product updated successfully!');\n      } else {\n        dispatch({ type: 'ADD_PRODUCT', payload: productData });\n\n        // Create initial inventory levels (0) for all locations\n        state.locations.forEach(location => {\n          const existingInventory = state.inventory.find(\n            inv => inv.productId === productData.id && inv.locationId === location.id\n          );\n          if (!existingInventory) {\n            dispatch({\n              type: 'UPDATE_INVENTORY',\n              payload: {\n                productId: productData.id,\n                locationId: location.id,\n                quantity: 0,\n                updatedAt: new Date(),\n              },\n            });\n          }\n        });\n\n        success('Product created successfully!');\n      }\n\n      onClose();\n    } catch (err) {\n      error('Failed to save product. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={onClose}\n      title={isEditing ? 'Edit Product' : 'Add Product'}\n      subtitle={isEditing ? `Editing ${editProduct?.name}` : 'Create a new product in your inventory'}\n      size=\"lg\"\n      footer={\n        <>\n          <Button variant=\"secondary\" onClick={onClose}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={isSubmitting}>\n            {isSubmitting ? (\n              <>\n                <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                Saving...\n              </>\n            ) : isEditing ? (\n              'Save Changes'\n            ) : (\n              'Create Product'\n            )}\n          </Button>\n        </>\n      }\n    >\n      <div className=\"space-y-6\">\n        {/* Basic Info */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Basic Information</h3>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"col-span-2\">\n              <label className=\"block text-sm text-slate-400 mb-1.5\">\n                Product Name <span className=\"text-red-400\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={formData.name}\n                onChange={e => handleChange('name', e.target.value)}\n                className={`w-full bg-slate-800 border ${errors.name ? 'border-red-500' : 'border-slate-700'} rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50`}\n                placeholder=\"e.g., 1L Micro Classic\"\n              />\n              {errors.name && <p className=\"text-red-400 text-xs mt-1\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">\n                SKU <span className=\"text-red-400\">*</span>\n              </label>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={formData.sku}\n                  onChange={e => handleChange('sku', e.target.value.toUpperCase())}\n                  className={`flex-1 bg-slate-800 border ${errors.sku ? 'border-red-500' : 'border-slate-700'} rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50`}\n                  placeholder=\"e.g., CLM1L\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={generateSku}\n                  className=\"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg transition-colors text-sm\"\n                  title=\"Auto-generate SKU\"\n                >\n                  <i className=\"fas fa-magic\"></i>\n                </button>\n              </div>\n              {errors.sku && <p className=\"text-red-400 text-xs mt-1\">{errors.sku}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Barcode</label>\n              <input\n                type=\"text\"\n                value={formData.barcode}\n                onChange={e => handleChange('barcode', e.target.value)}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                placeholder=\"UPC or EAN\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">\n                Category <span className=\"text-red-400\">*</span>\n              </label>\n              <select\n                value={formData.category}\n                onChange={e => handleChange('category', e.target.value)}\n                className={`w-full bg-slate-800 border ${errors.category ? 'border-red-500' : 'border-slate-700'} rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50`}\n              >\n                {CATEGORIES.map(cat => (\n                  <option key={cat.value} value={cat.value}>\n                    {cat.label}\n                  </option>\n                ))}\n              </select>\n              {errors.category && <p className=\"text-red-400 text-xs mt-1\">{errors.category}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Supplier</label>\n              <input\n                type=\"text\"\n                value={formData.supplier}\n                onChange={e => handleChange('supplier', e.target.value)}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                placeholder=\"e.g., HIGROCORP\"\n              />\n            </div>\n\n            <div className=\"col-span-2\">\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Description</label>\n              <textarea\n                value={formData.description}\n                onChange={e => handleChange('description', e.target.value)}\n                rows={2}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 resize-none\"\n                placeholder=\"Product description...\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Pricing */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Pricing</h3>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">\n                Cost (COGS) <span className=\"text-red-400\">*</span>\n              </label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.cost}\n                  onChange={e => handleChange('cost', e.target.value)}\n                  className={`w-full bg-slate-800 border ${errors.cost ? 'border-red-500' : 'border-slate-700'} rounded-lg pl-7 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50`}\n                  placeholder=\"0.00\"\n                />\n              </div>\n              {errors.cost && <p className=\"text-red-400 text-xs mt-1\">{errors.cost}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">\n                MSRP <span className=\"text-red-400\">*</span>\n              </label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.priceMSRP}\n                  onChange={e => handleChange('priceMSRP', e.target.value)}\n                  className={`w-full bg-slate-800 border ${errors.priceMSRP ? 'border-red-500' : 'border-slate-700'} rounded-lg pl-7 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50`}\n                  placeholder=\"0.00\"\n                />\n              </div>\n              {errors.priceMSRP && <p className=\"text-red-400 text-xs mt-1\">{errors.priceMSRP}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Shopify Price</label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.priceShopify}\n                  onChange={e => handleChange('priceShopify', e.target.value)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-7 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                  placeholder=\"Same as MSRP\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Amazon Price</label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.priceAmazon}\n                  onChange={e => handleChange('priceAmazon', e.target.value)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-7 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                  placeholder=\"Same as MSRP\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Wholesale Price</label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.priceWholesale}\n                  onChange={e => handleChange('priceWholesale', e.target.value)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-7 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                  placeholder=\"60% of MSRP\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Reorder Point</label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                value={formData.reorderPoint}\n                onChange={e => handleChange('reorderPoint', e.target.value)}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                placeholder=\"50\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Physical Attributes */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Physical Attributes</h3>\n          <div className=\"grid grid-cols-4 gap-4\">\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">\n                Weight (lbs) <span className=\"text-red-400\">*</span>\n              </label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                min=\"0\"\n                value={formData.weight}\n                onChange={e => handleChange('weight', e.target.value)}\n                className={`w-full bg-slate-800 border ${errors.weight ? 'border-red-500' : 'border-slate-700'} rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50`}\n                placeholder=\"0.00\"\n              />\n              {errors.weight && <p className=\"text-red-400 text-xs mt-1\">{errors.weight}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Length (in)</label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                value={formData.length}\n                onChange={e => handleChange('length', e.target.value)}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                placeholder=\"0\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Width (in)</label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                value={formData.width}\n                onChange={e => handleChange('width', e.target.value)}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                placeholder=\"0\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Height (in)</label>\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                min=\"0\"\n                value={formData.height}\n                onChange={e => handleChange('height', e.target.value)}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                placeholder=\"0\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Manufacturing Components (BOM) */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">\n            Manufacturing Components (Bill of Materials)\n          </h3>\n          <p className=\"text-xs text-slate-400 mb-3\">\n            Add components required to manufacture this product (e.g., front label, back label, bottle)\n          </p>\n\n          {/* Search for components */}\n          <div className=\"relative mb-3\">\n            <div className=\"flex gap-2\">\n              <div className=\"flex-1 relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                <input\n                  type=\"text\"\n                  value={componentSearch}\n                  onChange={e => {\n                    setComponentSearch(e.target.value);\n                    setShowComponentDropdown(true);\n                  }}\n                  onFocus={() => setShowComponentDropdown(true)}\n                  placeholder=\"Search products to add as components...\"\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                />\n\n                {/* Dropdown */}\n                {showComponentDropdown && filteredComponentProducts.length > 0 && (\n                  <div className=\"absolute z-10 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-lg max-h-48 overflow-auto\">\n                    {filteredComponentProducts.map(product => {\n                      const stock = getProductStock(product.id);\n                      return (\n                        <button\n                          key={product.id}\n                          type=\"button\"\n                          onClick={() => addComponent(product.id)}\n                          className=\"w-full px-4 py-2.5 flex items-center justify-between hover:bg-slate-700/50 text-left\"\n                        >\n                          <div>\n                            <div className=\"text-sm text-white\">{product.name}</div>\n                            <div className=\"text-xs text-slate-400\">{product.sku}</div>\n                          </div>\n                          <div className=\"text-right\">\n                            <div className={`text-xs ${stock > 0 ? 'text-emerald-400' : 'text-slate-500'}`}>\n                              {formatNumber(stock)} in stock\n                            </div>\n                          </div>\n                        </button>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Component List */}\n          {components.length > 0 ? (\n            <div className=\"space-y-2\">\n              {components.map(comp => {\n                const product = state.products.find(p => p.id === comp.productId);\n                const stock = getProductStock(comp.productId);\n\n                return (\n                  <div\n                    key={comp.productId}\n                    className=\"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg\"\n                  >\n                    <div className=\"w-8 h-8 bg-emerald-500/20 rounded-lg flex items-center justify-center flex-shrink-0\">\n                      <Package className=\"w-4 h-4 text-emerald-400\" />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-sm text-white truncate\">{comp.productName}</div>\n                      <div className=\"text-xs text-slate-400\">\n                        {product?.sku} - {formatNumber(stock)} available\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-xs text-slate-400\">Qty:</span>\n                      <input\n                        type=\"number\"\n                        min=\"1\"\n                        value={comp.quantity}\n                        onChange={e => updateComponentQty(comp.productId, parseInt(e.target.value) || 1)}\n                        className=\"w-16 bg-slate-700 border border-slate-600 rounded-lg px-2 py-1.5 text-white text-center text-sm focus:outline-none focus:border-emerald-500/50\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => removeComponent(comp.productId)}\n                        className=\"p-1.5 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded-lg transition-colors\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <div className=\"p-4 border-2 border-dashed border-slate-700 rounded-lg text-center\">\n              <Package className=\"w-8 h-8 text-slate-600 mx-auto mb-2\" />\n              <p className=\"text-sm text-slate-500\">No components added</p>\n              <p className=\"text-xs text-slate-600 mt-1\">\n                Search and add components to track BOM for manufacturing\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Serial Number Tracking */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Serial Number Tracking</h3>\n\n          <div className=\"p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"font-medium text-white\">Enable Serial Number Tracking</div>\n                <div className=\"text-sm text-slate-400 mt-0.5\">\n                  Track individual units with unique serial numbers\n                </div>\n              </div>\n              <Toggle\n                checked={trackSerials}\n                onChange={setTrackSerials}\n              />\n            </div>\n\n            {trackSerials && (\n              <div className=\"mt-4 pt-4 border-t border-slate-700/50 space-y-4\">\n                <h4 className=\"font-medium text-white flex items-center gap-2\">\n                  <Hash className=\"w-4 h-4 text-emerald-400\" />\n                  Auto-Generate Serial Format\n                </h4>\n\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-slate-400 mb-1.5\">Prefix</label>\n                    <input\n                      type=\"text\"\n                      value={serialPrefix}\n                      onChange={(e) => setSerialPrefix(e.target.value)}\n                      placeholder=\"e.g., SN-\"\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 font-mono\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-slate-400 mb-1.5\">Next Number</label>\n                    <input\n                      type=\"number\"\n                      value={serialNextNumber}\n                      onChange={(e) => setSerialNextNumber(parseInt(e.target.value) || 1)}\n                      placeholder=\"1001\"\n                      min={1}\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-slate-400 mb-1.5\">Suffix</label>\n                    <input\n                      type=\"text\"\n                      value={serialSuffix}\n                      onChange={(e) => setSerialSuffix(e.target.value)}\n                      placeholder=\"e.g., -2024\"\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 font-mono\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"p-3 bg-slate-700/30 rounded-lg\">\n                  <span className=\"text-sm text-slate-400\">Preview: </span>\n                  <span className=\"font-mono text-emerald-400\">\n                    {serialPrefix}{String(serialNextNumber).padStart(4, '0')}{serialSuffix}\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Lot/Batch Tracking */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Lot/Batch Tracking</h3>\n\n          <div className=\"p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"font-medium text-white\">Enable Lot/Batch Tracking</div>\n                <div className=\"text-sm text-slate-400 mt-0.5\">\n                  Track inventory by lot numbers for FIFO/FEFO picking\n                </div>\n              </div>\n              <Toggle\n                checked={trackLots}\n                onChange={setTrackLots}\n              />\n            </div>\n\n            {trackLots && (\n              <div className=\"mt-4 pt-4 border-t border-slate-700/50 space-y-4\">\n                {/* Expiration Tracking Toggle */}\n                <div className=\"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg\">\n                  <div className=\"flex items-center gap-3\">\n                    <Calendar className=\"w-5 h-5 text-amber-400\" />\n                    <div>\n                      <div className=\"font-medium text-white\">Track Expiration Dates</div>\n                      <div className=\"text-sm text-slate-400\">Enable FEFO (First Expired, First Out) picking</div>\n                    </div>\n                  </div>\n                  <Toggle\n                    checked={expirationTracking}\n                    onChange={setExpirationTracking}\n                  />\n                </div>\n\n                {expirationTracking && (\n                  <div>\n                    <label className=\"block text-sm text-slate-400 mb-1.5\">\n                      Warning Days Before Expiration\n                    </label>\n                    <div className=\"flex items-center gap-2\">\n                      <input\n                        type=\"number\"\n                        value={expirationWarningDays}\n                        onChange={(e) => setExpirationWarningDays(parseInt(e.target.value) || 30)}\n                        min={1}\n                        className=\"w-24 bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                      />\n                      <span className=\"text-slate-400\">days</span>\n                    </div>\n                  </div>\n                )}\n\n                <h4 className=\"font-medium text-white flex items-center gap-2\">\n                  <Layers className=\"w-4 h-4 text-purple-400\" />\n                  Auto-Generate Lot Number Format\n                </h4>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-slate-400 mb-1.5\">Lot Prefix</label>\n                    <input\n                      type=\"text\"\n                      value={lotPrefix}\n                      onChange={(e) => setLotPrefix(e.target.value)}\n                      placeholder=\"e.g., LOT-\"\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 font-mono\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-slate-400 mb-1.5\">Next Lot Number</label>\n                    <input\n                      type=\"number\"\n                      value={lotNextNumber}\n                      onChange={(e) => setLotNextNumber(parseInt(e.target.value) || 1)}\n                      placeholder=\"1\"\n                      min={1}\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"p-3 bg-slate-700/30 rounded-lg\">\n                  <span className=\"text-sm text-slate-400\">Preview: </span>\n                  <span className=\"font-mono text-purple-400\">\n                    {lotPrefix || 'LOT-'}{new Date().toISOString().slice(0, 10).replace(/-/g, '')}-{String(lotNextNumber).padStart(3, '0')}\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default AddProductModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2436, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/modals/AdjustStockModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { useApp, Product } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { formatNumber } from '@/lib/formatting';\n\ninterface AdjustStockModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  product: Product | null;\n}\n\ntype AdjustmentType = 'add' | 'remove' | 'set';\n\nconst ADJUSTMENT_REASONS = [\n  { value: 'received', label: 'Received (PO)' },\n  { value: 'sold', label: 'Sold' },\n  { value: 'damaged', label: 'Damaged' },\n  { value: 'count_adjustment', label: 'Count Adjustment' },\n  { value: 'transfer_in', label: 'Transfer In' },\n  { value: 'transfer_out', label: 'Transfer Out' },\n  { value: 'returned', label: 'Customer Return' },\n  { value: 'other', label: 'Other' },\n];\n\nexport function AdjustStockModal({ isOpen, onClose, product }: AdjustStockModalProps) {\n  const { state, dispatch } = useApp();\n  const { success, warning } = useToast();\n\n  const [selectedLocation, setSelectedLocation] = useState('');\n  const [adjustmentType, setAdjustmentType] = useState<AdjustmentType>('add');\n  const [quantity, setQuantity] = useState('');\n  const [reason, setReason] = useState('count_adjustment');\n  const [notes, setNotes] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Reset form when modal opens\n  useEffect(() => {\n    if (isOpen && product) {\n      setSelectedLocation(state.locations[0]?.id || '');\n      setAdjustmentType('add');\n      setQuantity('');\n      setReason('count_adjustment');\n      setNotes('');\n    }\n  }, [isOpen, product, state.locations]);\n\n  // Get current stock for selected location\n  const currentStock = useMemo(() => {\n    if (!product || !selectedLocation) return 0;\n    const inv = state.inventory.find(\n      i => i.productId === product.id && i.locationId === selectedLocation\n    );\n    return inv?.quantity || 0;\n  }, [product, selectedLocation, state.inventory]);\n\n  // Get stock by location for display\n  const stockByLocation = useMemo(() => {\n    if (!product) return [];\n    return state.locations.map(loc => {\n      const inv = state.inventory.find(\n        i => i.productId === product.id && i.locationId === loc.id\n      );\n      return {\n        locationId: loc.id,\n        locationName: loc.name,\n        quantity: inv?.quantity || 0,\n      };\n    });\n  }, [product, state.locations, state.inventory]);\n\n  // Calculate new stock\n  const newStock = useMemo(() => {\n    const qty = parseInt(quantity) || 0;\n    if (adjustmentType === 'add') return currentStock + qty;\n    if (adjustmentType === 'remove') return currentStock - qty;\n    if (adjustmentType === 'set') return qty;\n    return currentStock;\n  }, [currentStock, adjustmentType, quantity]);\n\n  // Check if removal would go negative\n  const wouldGoNegative = adjustmentType === 'remove' && newStock < 0;\n\n  const handleSubmit = () => {\n    if (!product || !selectedLocation) return;\n\n    const qty = parseInt(quantity) || 0;\n    if (qty === 0) return;\n\n    setIsSubmitting(true);\n\n    try {\n      let adjustment = 0;\n      if (adjustmentType === 'add') adjustment = qty;\n      if (adjustmentType === 'remove') adjustment = -qty;\n      if (adjustmentType === 'set') adjustment = qty - currentStock;\n\n      dispatch({\n        type: 'ADJUST_STOCK',\n        payload: {\n          productId: product.id,\n          locationId: selectedLocation,\n          adjustment,\n        },\n      });\n\n      const locationName = state.locations.find(l => l.id === selectedLocation)?.name || 'Unknown';\n\n      if (wouldGoNegative) {\n        warning(`Stock adjusted: ${product.name} now has ${newStock} units at ${locationName} (negative stock)`);\n      } else {\n        success(`Stock adjusted: ${product.name} now has ${formatNumber(newStock)} units at ${locationName}`);\n      }\n\n      onClose();\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!product) return null;\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={onClose}\n      title=\"Adjust Stock\"\n      subtitle={product.name}\n      size=\"md\"\n      footer={\n        <>\n          <Button variant=\"secondary\" onClick={onClose}>\n            Cancel\n          </Button>\n          <Button\n            onClick={handleSubmit}\n            disabled={isSubmitting || !quantity || parseInt(quantity) === 0}\n          >\n            {isSubmitting ? (\n              <>\n                <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                Saving...\n              </>\n            ) : (\n              'Apply Adjustment'\n            )}\n          </Button>\n        </>\n      }\n    >\n      <div className=\"space-y-6\">\n        {/* Product Info */}\n        <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"w-12 h-12 bg-emerald-500/20 rounded-lg flex items-center justify-center\">\n              <i className=\"fas fa-flask text-emerald-400\"></i>\n            </div>\n            <div>\n              <div className=\"font-medium text-white\">{product.name}</div>\n              <div className=\"text-sm text-slate-400\">SKU: {product.sku}</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Current Stock by Location */}\n        <div>\n          <h3 className=\"text-sm font-medium text-white mb-3\">Current Stock by Location</h3>\n          <div className=\"grid grid-cols-1 gap-2\">\n            {stockByLocation.map(loc => (\n              <div\n                key={loc.locationId}\n                className={`flex items-center justify-between p-3 rounded-lg border ${\n                  selectedLocation === loc.locationId\n                    ? 'bg-emerald-500/10 border-emerald-500/30'\n                    : 'bg-slate-800/50 border-slate-700/50'\n                }`}\n              >\n                <span className=\"text-slate-300\">{loc.locationName}</span>\n                <span className={`font-medium ${loc.quantity > 0 ? 'text-white' : 'text-slate-500'}`}>\n                  {formatNumber(loc.quantity)} units\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Adjustment Form */}\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1.5\">Location</label>\n            <select\n              value={selectedLocation}\n              onChange={e => setSelectedLocation(e.target.value)}\n              className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n            >\n              {state.locations.map(loc => (\n                <option key={loc.id} value={loc.id}>\n                  {loc.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1.5\">Adjustment Type</label>\n            <div className=\"grid grid-cols-3 gap-2\">\n              {[\n                { value: 'add', label: 'Add', icon: 'fa-plus' },\n                { value: 'remove', label: 'Remove', icon: 'fa-minus' },\n                { value: 'set', label: 'Set To', icon: 'fa-equals' },\n              ].map(type => (\n                <button\n                  key={type.value}\n                  type=\"button\"\n                  onClick={() => setAdjustmentType(type.value as AdjustmentType)}\n                  className={`p-3 rounded-lg border transition-colors ${\n                    adjustmentType === type.value\n                      ? 'bg-emerald-500/20 border-emerald-500/30 text-emerald-400'\n                      : 'bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-600'\n                  }`}\n                >\n                  <i className={`fas ${type.icon} mr-2`}></i>\n                  {type.label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1.5\">Quantity</label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              value={quantity}\n              onChange={e => setQuantity(e.target.value)}\n              className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n              placeholder=\"Enter quantity\"\n            />\n          </div>\n\n          {/* Preview */}\n          {quantity && parseInt(quantity) > 0 && (\n            <div className={`p-4 rounded-lg border ${\n              wouldGoNegative\n                ? 'bg-red-500/10 border-red-500/30'\n                : 'bg-blue-500/10 border-blue-500/30'\n            }`}>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-slate-300\">Stock Change Preview</span>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-slate-400\">{formatNumber(currentStock)}</span>\n                  <i className=\"fas fa-arrow-right text-slate-500\"></i>\n                  <span className={`font-medium ${wouldGoNegative ? 'text-red-400' : 'text-emerald-400'}`}>\n                    {formatNumber(newStock)}\n                  </span>\n                </div>\n              </div>\n              {wouldGoNegative && (\n                <p className=\"text-red-400 text-sm mt-2\">\n                  <i className=\"fas fa-exclamation-triangle mr-1\"></i>\n                  This will result in negative stock. Proceed with caution.\n                </p>\n              )}\n            </div>\n          )}\n\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1.5\">Reason</label>\n            <select\n              value={reason}\n              onChange={e => setReason(e.target.value)}\n              className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n            >\n              {ADJUSTMENT_REASONS.map(r => (\n                <option key={r.value} value={r.value}>\n                  {r.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-slate-400 mb-1.5\">Notes (Optional)</label>\n            <textarea\n              value={notes}\n              onChange={e => setNotes(e.target.value)}\n              rows={2}\n              className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 resize-none\"\n              placeholder=\"Additional notes about this adjustment...\"\n            />\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default AdjustStockModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3014, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/modals/ImportCSVModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useRef } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { useApp, Product, InventoryLevel, ProductSupplier } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\n\ninterface ImportCSVModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ninterface ParsedRow {\n  [key: string]: string;\n}\n\ninterface ColumnMapping {\n  name: string;\n  sku: string;\n  category: string;\n  cost: string;\n  priceMSRP: string;\n  priceShopify?: string;\n  priceAmazon?: string;\n  priceWholesale?: string;\n  weight?: string;\n  barcode?: string;\n  // New inventory fields\n  quantity?: string;\n  binLocation?: string;\n  reorderPoint?: string;\n  // Supplier fields\n  supplierSku?: string;\n  supplierName?: string;\n  leadTime?: string;\n  minOrderQty?: string;\n}\n\nconst REQUIRED_FIELDS = ['name', 'sku'];\nconst FIELD_LABELS: Record<string, string> = {\n  name: 'Product Name',\n  sku: 'SKU',\n  category: 'Category',\n  cost: 'Cost',\n  priceMSRP: 'MSRP',\n  priceShopify: 'Shopify Price',\n  priceAmazon: 'Amazon Price',\n  priceWholesale: 'Wholesale Price',\n  weight: 'Weight (lbs)',\n  barcode: 'Barcode/UPC',\n  quantity: 'Quantity on Hand',\n  binLocation: 'Bin Location',\n  reorderPoint: 'Reorder Point',\n  supplierSku: 'Supplier SKU',\n  supplierName: 'Supplier Name',\n  leadTime: 'Lead Time (days)',\n  minOrderQty: 'Min Order Qty',\n};\n\n// Field groupings for better UI organization\nconst FIELD_GROUPS = {\n  basic: ['name', 'sku', 'category', 'barcode'],\n  pricing: ['cost', 'priceMSRP', 'priceShopify', 'priceAmazon', 'priceWholesale'],\n  inventory: ['quantity', 'binLocation', 'reorderPoint', 'weight'],\n  supplier: ['supplierName', 'supplierSku', 'leadTime', 'minOrderQty'],\n};\n\nexport function ImportCSVModal({ isOpen, onClose }: ImportCSVModalProps) {\n  const { state, dispatch } = useApp();\n  const { success, error, warning } = useToast();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const [step, setStep] = useState<'upload' | 'mapping' | 'preview'>('upload');\n  const [fileName, setFileName] = useState('');\n  const [csvHeaders, setCsvHeaders] = useState<string[]>([]);\n  const [csvData, setCsvData] = useState<ParsedRow[]>([]);\n  const [columnMapping, setColumnMapping] = useState<Partial<ColumnMapping>>({});\n  const [isImporting, setIsImporting] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  const [selectedLocationId, setSelectedLocationId] = useState<string>(state.settings.defaultLocation || '');\n  const [createInventoryRecords, setCreateInventoryRecords] = useState(true);\n  const [createSuppliers, setCreateSuppliers] = useState(true);\n\n  // Generate and download CSV templates\n  const downloadTemplate = (type: 'basic' | 'full' | 'inflow') => {\n    let headers: string[] = [];\n    let sampleData: string[][] = [];\n\n    if (type === 'basic') {\n      headers = ['Product Name', 'SKU', 'Category', 'Cost', 'MSRP', 'Quantity'];\n      sampleData = [\n        ['Example Product 1', 'SKU-001', 'Category A', '10.00', '24.99', '100'],\n        ['Example Product 2', 'SKU-002', 'Category B', '15.00', '34.99', '50'],\n      ];\n    } else if (type === 'full') {\n      headers = [\n        'Product Name', 'SKU', 'Category', 'Barcode',\n        'Cost', 'MSRP', 'Shopify Price', 'Amazon Price', 'Wholesale Price',\n        'Quantity', 'Bin Location', 'Reorder Point', 'Weight (lbs)',\n        'Supplier Name', 'Supplier SKU', 'Lead Time (days)', 'Min Order Qty'\n      ];\n      sampleData = [\n        ['Example Product 1', 'SKU-001', 'Supplements', '123456789012',\n         '10.00', '24.99', '22.99', '24.99', '14.99',\n         '100', 'A1-01', '25', '1.5',\n         'Supplier Inc', 'SUP-001', '14', '50'],\n        ['Example Product 2', 'SKU-002', 'Nutrients', '234567890123',\n         '15.00', '34.99', '32.99', '34.99', '20.99',\n         '50', 'B2-03', '20', '2.0',\n         'Vendor Co', 'VND-002', '7', '25'],\n      ];\n    } else if (type === 'inflow') {\n      // inFlow export format columns\n      headers = [\n        'Name', 'Barcode', 'Category', 'Description',\n        'Sale Price', 'Purchase Cost', 'Quantity on Hand',\n        'Location', 'Reorder Point', 'Vendor', 'Vendor SKU'\n      ];\n      sampleData = [\n        ['Product Name Here', '123456789012', 'Category', 'Description text',\n         '24.99', '10.00', '100',\n         'Main Warehouse', '25', 'Supplier Name', 'VENDOR-SKU-001'],\n      ];\n    }\n\n    // Build CSV content\n    const csvContent = [\n      headers.join(','),\n      ...sampleData.map(row => row.map(cell => `\"${cell}\"`).join(','))\n    ].join('\\n');\n\n    // Create and download file\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `cronk-wms-import-template-${type}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const resetState = () => {\n    setStep('upload');\n    setFileName('');\n    setCsvHeaders([]);\n    setCsvData([]);\n    setColumnMapping({});\n    setIsImporting(false);\n    setSelectedLocationId(state.settings.defaultLocation || state.locations[0]?.id || '');\n    setCreateInventoryRecords(true);\n    setCreateSuppliers(true);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const parseCSV = (text: string): { headers: string[]; data: ParsedRow[] } => {\n    const lines = text.split(/\\r?\\n/).filter(line => line.trim());\n    if (lines.length === 0) return { headers: [], data: [] };\n\n    // Parse headers\n    const headers = lines[0].split(',').map(h => h.trim().replace(/^\"|\"$/g, ''));\n\n    // Parse data rows\n    const data: ParsedRow[] = [];\n    for (let i = 1; i < lines.length; i++) {\n      const values = lines[i].split(',').map(v => v.trim().replace(/^\"|\"$/g, ''));\n      const row: ParsedRow = {};\n      headers.forEach((header, index) => {\n        row[header] = values[index] || '';\n      });\n      data.push(row);\n    }\n\n    return { headers, data };\n  };\n\n  const autoMapColumns = (headers: string[]) => {\n    const mapping: Partial<ColumnMapping> = {};\n    const lowerHeaders = headers.map(h => h.toLowerCase());\n\n    // Try to auto-map common column names\n    const mappings: Record<keyof ColumnMapping, string[]> = {\n      name: ['name', 'product name', 'product', 'title', 'item name', 'description'],\n      sku: ['sku', 'product sku', 'item number', 'item #', 'item code', 'product code'],\n      category: ['category', 'type', 'product type', 'group', 'product category'],\n      cost: ['cost', 'cogs', 'unit cost', 'price cost', 'purchase price', 'buy price'],\n      priceMSRP: ['msrp', 'price', 'retail price', 'price msrp', 'sell price', 'sale price'],\n      priceShopify: ['shopify price', 'shopify', 'web price', 'online price'],\n      priceAmazon: ['amazon price', 'amazon', 'marketplace price'],\n      priceWholesale: ['wholesale', 'wholesale price', 'dealer price', 'trade price'],\n      weight: ['weight', 'weight (lbs)', 'lbs', 'weight lbs', 'item weight'],\n      barcode: ['barcode', 'upc', 'ean', 'gtin', 'isbn'],\n      // Inventory fields\n      quantity: ['quantity', 'qty', 'stock', 'on hand', 'quantity on hand', 'stock qty', 'available', 'inventory'],\n      binLocation: ['bin', 'bin location', 'location', 'shelf', 'rack', 'position', 'warehouse location'],\n      reorderPoint: ['reorder point', 'reorder', 'min qty', 'minimum', 'low stock', 'reorder level'],\n      // Supplier fields\n      supplierName: ['supplier', 'vendor', 'supplier name', 'vendor name', 'manufacturer'],\n      supplierSku: ['supplier sku', 'vendor sku', 'manufacturer sku', 'vendor code', 'supplier code', 'mfg part #'],\n      leadTime: ['lead time', 'leadtime', 'lead time days', 'delivery time'],\n      minOrderQty: ['min order', 'moq', 'minimum order', 'min order qty'],\n    };\n\n    Object.entries(mappings).forEach(([field, possibleNames]) => {\n      const matchIndex = lowerHeaders.findIndex(h =>\n        possibleNames.some(name => h.includes(name))\n      );\n      if (matchIndex !== -1) {\n        mapping[field as keyof ColumnMapping] = headers[matchIndex];\n      }\n    });\n\n    return mapping;\n  };\n\n  const handleFileSelect = (file: File) => {\n    if (!file.name.endsWith('.csv')) {\n      error('Please select a CSV file');\n      return;\n    }\n\n    setFileName(file.name);\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const text = e.target?.result as string;\n      const { headers, data } = parseCSV(text);\n\n      if (headers.length === 0) {\n        error('Could not parse CSV file');\n        return;\n      }\n\n      setCsvHeaders(headers);\n      setCsvData(data);\n      setColumnMapping(autoMapColumns(headers));\n      setStep('mapping');\n    };\n    reader.readAsText(file);\n  };\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n\n    const file = e.dataTransfer.files[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  }, []);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  }, []);\n\n  const handleDragLeave = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  const handleFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  };\n\n  const isValidMapping = () => {\n    return REQUIRED_FIELDS.every(field => columnMapping[field as keyof ColumnMapping]);\n  };\n\n  const getPreviewData = () => {\n    return csvData.slice(0, 5).map(row => {\n      const mapped: Record<string, string> = {};\n      Object.entries(columnMapping).forEach(([field, column]) => {\n        if (column) {\n          mapped[field] = row[column] || '';\n        }\n      });\n      return mapped;\n    });\n  };\n\n  const getValidationIssues = () => {\n    const issues: string[] = [];\n    const existingSkus = new Set(state.products.map(p => p.sku.toLowerCase()));\n    const newSkus = new Set<string>();\n\n    csvData.forEach((row, index) => {\n      const sku = columnMapping.sku ? row[columnMapping.sku] : '';\n      const name = columnMapping.name ? row[columnMapping.name] : '';\n\n      if (!sku) {\n        issues.push(`Row ${index + 2}: Missing SKU`);\n      } else if (existingSkus.has(sku.toLowerCase())) {\n        issues.push(`Row ${index + 2}: SKU \"${sku}\" already exists`);\n      } else if (newSkus.has(sku.toLowerCase())) {\n        issues.push(`Row ${index + 2}: Duplicate SKU \"${sku}\" in file`);\n      } else {\n        newSkus.add(sku.toLowerCase());\n      }\n\n      if (!name) {\n        issues.push(`Row ${index + 2}: Missing product name`);\n      }\n    });\n\n    return issues.slice(0, 10); // Show first 10 issues\n  };\n\n  const handleImport = async () => {\n    if (!isValidMapping()) return;\n\n    setIsImporting(true);\n\n    try {\n      const existingSkus = new Set(state.products.map(p => p.sku.toLowerCase()));\n      const existingSuppliers = new Map(state.suppliers.map(s => [s.name.toLowerCase(), s]));\n      let imported = 0;\n      let skipped = 0;\n      let inventoryCreated = 0;\n      let suppliersCreated = 0;\n      const newSupplierIds = new Map<string, string>(); // supplierName -> id\n\n      for (const row of csvData) {\n        const sku = columnMapping.sku ? row[columnMapping.sku] : '';\n        const name = columnMapping.name ? row[columnMapping.name] : '';\n\n        if (!sku || !name || existingSkus.has(sku.toLowerCase())) {\n          skipped++;\n          continue;\n        }\n\n        const msrp = parseFloat(columnMapping.priceMSRP ? row[columnMapping.priceMSRP] : '0') || 0;\n        const shopifyPrice = parseFloat(columnMapping.priceShopify ? row[columnMapping.priceShopify] : '0') || msrp;\n        const amazonPrice = parseFloat(columnMapping.priceAmazon ? row[columnMapping.priceAmazon] : '0') || msrp;\n        const wholesalePrice = parseFloat(columnMapping.priceWholesale ? row[columnMapping.priceWholesale] : '0') || msrp * 0.6;\n        const costValue = parseFloat(columnMapping.cost ? row[columnMapping.cost] : '0') || 0;\n        const weightValue = parseFloat(columnMapping.weight ? row[columnMapping.weight] : '0') || 0;\n        const reorderPoint = parseInt(columnMapping.reorderPoint ? row[columnMapping.reorderPoint] : '50') || 50;\n        const quantity = parseInt(columnMapping.quantity ? row[columnMapping.quantity] : '0') || 0;\n        const binLocation = columnMapping.binLocation ? row[columnMapping.binLocation]?.trim() : undefined;\n        const supplierName = columnMapping.supplierName ? row[columnMapping.supplierName]?.trim() : '';\n        const supplierSku = columnMapping.supplierSku ? row[columnMapping.supplierSku]?.trim() : '';\n        const leadTime = parseInt(columnMapping.leadTime ? row[columnMapping.leadTime] : '0') || undefined;\n        const minOrderQty = parseInt(columnMapping.minOrderQty ? row[columnMapping.minOrderQty] : '0') || undefined;\n\n        const productId = crypto.randomUUID();\n\n        const newProduct: Product = {\n          id: productId,\n          name: name.trim(),\n          sku: sku.trim().toUpperCase(),\n          barcode: columnMapping.barcode ? row[columnMapping.barcode]?.trim() : undefined,\n          category: columnMapping.category ? row[columnMapping.category]?.trim() || 'imported' : 'imported',\n          cost: {\n            rolling: costValue,\n            fixed: costValue,\n          },\n          prices: {\n            msrp: msrp,\n            shopify: shopifyPrice,\n            amazon: amazonPrice,\n            wholesale: wholesalePrice,\n          },\n          weight: {\n            value: weightValue,\n            unit: 'lbs',\n          },\n          dimensions: { length: 0, width: 0, height: 0 },\n          reorderPoint: reorderPoint,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n        };\n\n        dispatch({ type: 'ADD_PRODUCT', payload: newProduct });\n        existingSkus.add(sku.toLowerCase());\n        imported++;\n\n        // Create inventory record if enabled and quantity provided or location selected\n        if (createInventoryRecords && selectedLocationId && (quantity > 0 || binLocation)) {\n          const newInventory: InventoryLevel = {\n            productId: productId,\n            locationId: selectedLocationId,\n            quantity: quantity,\n            binLocation: binLocation,\n            updatedAt: new Date(),\n          };\n          dispatch({ type: 'SET_INVENTORY', payload: [...state.inventory, newInventory] });\n          inventoryCreated++;\n        }\n\n        // Handle supplier creation and linking\n        if (createSuppliers && supplierName) {\n          let supplierId: string;\n          const existingSupplier = existingSuppliers.get(supplierName.toLowerCase());\n\n          if (existingSupplier) {\n            supplierId = existingSupplier.id;\n          } else if (newSupplierIds.has(supplierName.toLowerCase())) {\n            supplierId = newSupplierIds.get(supplierName.toLowerCase())!;\n          } else {\n            // Create new supplier\n            supplierId = crypto.randomUUID();\n            const code = supplierName.substring(0, 3).toUpperCase();\n            dispatch({\n              type: 'ADD_SUPPLIER',\n              payload: {\n                id: supplierId,\n                name: supplierName,\n                code: code,\n                currency: 'USD',\n                isActive: true,\n                createdAt: new Date(),\n                updatedAt: new Date(),\n              },\n            });\n            newSupplierIds.set(supplierName.toLowerCase(), supplierId);\n            suppliersCreated++;\n          }\n\n          // Link product to supplier\n          const productSupplier: ProductSupplier = {\n            productId: productId,\n            supplierId: supplierId,\n            supplierSku: supplierSku || undefined,\n            unitCost: costValue,\n            currency: 'USD',\n            minimumOrderQty: minOrderQty,\n            leadTimeDays: leadTime,\n            isPrimary: true,\n          };\n          dispatch({ type: 'ADD_PRODUCT_SUPPLIER', payload: productSupplier });\n        }\n      }\n\n      // Build success message\n      const messages: string[] = [];\n      if (imported > 0) messages.push(`${imported} products`);\n      if (inventoryCreated > 0) messages.push(`${inventoryCreated} inventory records`);\n      if (suppliersCreated > 0) messages.push(`${suppliersCreated} new suppliers`);\n\n      if (messages.length > 0) {\n        success(`Successfully imported ${messages.join(', ')}`);\n      }\n      if (skipped > 0) {\n        warning(`Skipped ${skipped} rows (missing data or duplicate SKUs)`);\n      }\n\n      resetState();\n      onClose();\n    } catch (err) {\n      error('Failed to import products');\n    } finally {\n      setIsImporting(false);\n    }\n  };\n\n  const handleClose = () => {\n    resetState();\n    onClose();\n  };\n\n  const renderUploadStep = () => (\n    <div className=\"space-y-4\">\n      <div\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onClick={() => fileInputRef.current?.click()}\n        className={`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors ${\n          isDragging\n            ? 'border-emerald-500 bg-emerald-500/10'\n            : 'border-slate-700 hover:border-slate-600'\n        }`}\n      >\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\".csv\"\n          onChange={handleFileInputChange}\n          className=\"hidden\"\n        />\n        <i className=\"fas fa-cloud-upload-alt text-4xl text-slate-500 mb-4\"></i>\n        <p className=\"text-white font-medium mb-1\">\n          Drag & drop CSV file here\n        </p>\n        <p className=\"text-sm text-slate-400\">\n          or click to browse\n        </p>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n        <h4 className=\"text-sm font-medium text-white mb-2\">CSV Format Requirements</h4>\n        <ul className=\"text-sm text-slate-400 space-y-1\">\n          <li><i className=\"fas fa-check text-emerald-400 mr-2\"></i>First row must contain column headers</li>\n          <li><i className=\"fas fa-check text-emerald-400 mr-2\"></i>Required columns: <span className=\"text-white\">Name, SKU</span></li>\n          <li><i className=\"fas fa-check text-emerald-400 mr-2\"></i>Pricing: Cost, MSRP, Shopify Price, Amazon Price, Wholesale</li>\n          <li><i className=\"fas fa-check text-emerald-400 mr-2\"></i>Inventory: Quantity, Bin Location, Reorder Point, Weight</li>\n          <li><i className=\"fas fa-check text-emerald-400 mr-2\"></i>Supplier: Supplier Name, Supplier SKU, Lead Time, Min Order Qty</li>\n        </ul>\n      </div>\n\n      {/* Quick Templates */}\n      <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n        <h4 className=\"text-sm font-medium text-white mb-2\">Download Templates</h4>\n        <div className=\"flex flex-wrap gap-2\">\n          <button\n            onClick={() => downloadTemplate('basic')}\n            className=\"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-white text-xs rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-download mr-1.5\"></i>\n            Basic Template\n          </button>\n          <button\n            onClick={() => downloadTemplate('full')}\n            className=\"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-white text-xs rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-download mr-1.5\"></i>\n            Full Template\n          </button>\n          <button\n            onClick={() => downloadTemplate('inflow')}\n            className=\"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-white text-xs rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-download mr-1.5\"></i>\n            inFlow Format\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderFieldGroup = (groupName: string, fields: string[], icon: string, color: string) => (\n    <div className=\"bg-slate-800/30 border border-slate-700/50 rounded-lg p-4\">\n      <h5 className={`text-sm font-medium ${color} mb-3 flex items-center gap-2`}>\n        <i className={`fas ${icon}`}></i>\n        {groupName}\n      </h5>\n      <div className=\"grid grid-cols-2 gap-3\">\n        {fields.map(field => (\n          <div key={field}>\n            <label className=\"block text-xs text-slate-400 mb-1\">\n              {FIELD_LABELS[field]}\n              {REQUIRED_FIELDS.includes(field) && (\n                <span className=\"text-red-400 ml-1\">*</span>\n              )}\n            </label>\n            <select\n              value={columnMapping[field as keyof ColumnMapping] || ''}\n              onChange={e =>\n                setColumnMapping(prev => ({ ...prev, [field]: e.target.value }))\n              }\n              className={`w-full bg-slate-800 border ${\n                REQUIRED_FIELDS.includes(field) && !columnMapping[field as keyof ColumnMapping]\n                  ? 'border-amber-500/50'\n                  : 'border-slate-700'\n              } rounded-lg px-2 py-1.5 text-white text-sm focus:outline-none focus:border-emerald-500/50`}\n            >\n              <option value=\"\">-- Select --</option>\n              {csvHeaders.map(header => (\n                <option key={header} value={header}>\n                  {header}\n                </option>\n              ))}\n            </select>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderMappingStep = () => (\n    <div className=\"space-y-4 max-h-[60vh] overflow-y-auto pr-2\">\n      <div className=\"bg-slate-800/50 border border-slate-700/50 rounded-lg p-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <i className=\"fas fa-file-csv text-emerald-400\"></i>\n            <span className=\"text-white font-medium\">{fileName}</span>\n            <span className=\"text-slate-400 text-sm\">({csvData.length} rows)</span>\n          </div>\n          <button\n            onClick={resetState}\n            className=\"text-sm text-slate-400 hover:text-white\"\n          >\n            <i className=\"fas fa-times mr-1\"></i>\n            Change file\n          </button>\n        </div>\n      </div>\n\n      {/* Field Mapping Groups */}\n      <div className=\"space-y-3\">\n        {renderFieldGroup('Basic Info', FIELD_GROUPS.basic, 'fa-box', 'text-blue-400')}\n        {renderFieldGroup('Pricing', FIELD_GROUPS.pricing, 'fa-dollar-sign', 'text-emerald-400')}\n        {renderFieldGroup('Inventory', FIELD_GROUPS.inventory, 'fa-warehouse', 'text-amber-400')}\n        {renderFieldGroup('Supplier', FIELD_GROUPS.supplier, 'fa-truck-loading', 'text-purple-400')}\n      </div>\n\n      {/* Import Options */}\n      <div className=\"bg-slate-800/30 border border-slate-700/50 rounded-lg p-4\">\n        <h5 className=\"text-sm font-medium text-white mb-3 flex items-center gap-2\">\n          <i className=\"fas fa-cog\"></i>\n          Import Options\n        </h5>\n\n        <div className=\"space-y-3\">\n          {/* Location Selection */}\n          <div>\n            <label className=\"block text-xs text-slate-400 mb-1\">Import Inventory To Location</label>\n            <select\n              value={selectedLocationId}\n              onChange={e => setSelectedLocationId(e.target.value)}\n              className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-emerald-500/50\"\n            >\n              <option value=\"\">-- No inventory records --</option>\n              {state.locations.map(loc => (\n                <option key={loc.id} value={loc.id}>\n                  {loc.name} ({loc.type})\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Toggles */}\n          <div className=\"flex items-center gap-4\">\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={createInventoryRecords}\n                onChange={e => setCreateInventoryRecords(e.target.checked)}\n                className=\"w-4 h-4 rounded border-slate-600 bg-slate-700 text-emerald-500 focus:ring-emerald-500\"\n              />\n              <span className=\"text-sm text-slate-300\">Create inventory records</span>\n            </label>\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={createSuppliers}\n                onChange={e => setCreateSuppliers(e.target.checked)}\n                className=\"w-4 h-4 rounded border-slate-600 bg-slate-700 text-emerald-500 focus:ring-emerald-500\"\n              />\n              <span className=\"text-sm text-slate-300\">Auto-create suppliers</span>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      {isValidMapping() && (\n        <Button onClick={() => setStep('preview')} className=\"w-full\">\n          Preview Import\n          <i className=\"fas fa-arrow-right ml-2\"></i>\n        </Button>\n      )}\n    </div>\n  );\n\n  const renderPreviewStep = () => {\n    const previewData = getPreviewData();\n    const issues = getValidationIssues();\n\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <button\n            onClick={() => setStep('mapping')}\n            className=\"text-sm text-slate-400 hover:text-white\"\n          >\n            <i className=\"fas fa-arrow-left mr-1\"></i>\n            Back to mapping\n          </button>\n          <span className=\"text-sm text-slate-400\">\n            Ready to import <span className=\"text-white font-medium\">{csvData.length}</span> products\n          </span>\n        </div>\n\n        {/* Preview Table */}\n        <div className=\"border border-slate-700 rounded-lg overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead className=\"bg-slate-800\">\n                <tr>\n                  {Object.entries(columnMapping)\n                    .filter(([, col]) => col)\n                    .map(([field]) => (\n                      <th key={field} className=\"px-3 py-2 text-left text-slate-400 font-medium\">\n                        {FIELD_LABELS[field] || field}\n                      </th>\n                    ))}\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-slate-700/50\">\n                {previewData.map((row, index) => (\n                  <tr key={index} className=\"bg-slate-800/30\">\n                    {Object.entries(columnMapping)\n                      .filter(([, col]) => col)\n                      .map(([field]) => (\n                        <td key={field} className=\"px-3 py-2 text-white\">\n                          {row[field] || '-'}\n                        </td>\n                      ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n          {csvData.length > 5 && (\n            <div className=\"px-3 py-2 bg-slate-800/50 text-center text-sm text-slate-400\">\n              ... and {csvData.length - 5} more rows\n            </div>\n          )}\n        </div>\n\n        {/* Validation Issues */}\n        {issues.length > 0 && (\n          <div className=\"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4\">\n            <h4 className=\"text-amber-400 font-medium mb-2 flex items-center gap-2\">\n              <i className=\"fas fa-exclamation-triangle\"></i>\n              Validation Warnings\n            </h4>\n            <ul className=\"text-sm text-amber-300/80 space-y-1\">\n              {issues.map((issue, index) => (\n                <li key={index}>{issue}</li>\n              ))}\n              {issues.length === 10 && (\n                <li className=\"text-slate-400\">... and more</li>\n              )}\n            </ul>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={handleClose}\n      title=\"Import Products from CSV\"\n      subtitle={\n        step === 'upload' ? 'Upload a CSV file to import products' :\n        step === 'mapping' ? 'Map CSV columns to product fields' :\n        'Review and confirm import'\n      }\n      size=\"lg\"\n      footer={\n        step === 'preview' ? (\n          <>\n            <Button variant=\"secondary\" onClick={handleClose}>\n              Cancel\n            </Button>\n            <Button onClick={handleImport} disabled={isImporting}>\n              {isImporting ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                  Importing...\n                </>\n              ) : (\n                <>\n                  <i className=\"fas fa-file-import mr-2\"></i>\n                  Import {csvData.length} Products\n                </>\n              )}\n            </Button>\n          </>\n        ) : undefined\n      }\n    >\n      {step === 'upload' && renderUploadStep()}\n      {step === 'mapping' && renderMappingStep()}\n      {step === 'preview' && renderPreviewStep()}\n    </Modal>\n  );\n}\n\nexport default ImportCSVModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4502, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/ui/Card.tsx"],"sourcesContent":["import { ReactNode } from 'react';\n\ninterface CardProps {\n  children: ReactNode;\n  className?: string;\n  padding?: 'none' | 'sm' | 'md' | 'lg';\n  header?: ReactNode;\n  headerAction?: ReactNode;\n  headerClassName?: string;\n}\n\nconst paddingClasses = {\n  none: '',\n  sm: 'p-3',\n  md: 'p-4',\n  lg: 'p-5',\n};\n\nexport function Card({\n  children,\n  className = '',\n  padding = 'md',\n  header,\n  headerAction,\n  headerClassName = '',\n}: CardProps) {\n  return (\n    <div className={`bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden ${className}`}>\n      {(header || headerAction) && (\n        <div className={`px-5 py-4 border-b border-slate-700/50 flex items-center justify-between ${headerClassName}`}>\n          {typeof header === 'string' ? (\n            <h2 className=\"font-semibold text-white\">{header}</h2>\n          ) : (\n            header\n          )}\n          {headerAction}\n        </div>\n      )}\n      <div className={paddingClasses[padding]}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n"],"names":[],"mappings":";;;;;;;;AAWA,MAAM,iBAAiB;IACrB,MAAM;IACN,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,SAAS,KAAK,EACnB,QAAQ,EACR,YAAY,EAAE,EACd,UAAU,IAAI,EACd,MAAM,EACN,YAAY,EACZ,kBAAkB,EAAE,EACV;IACV,qBACE,8OAAC;QAAI,WAAW,CAAC,oFAAoF,EAAE,WAAW;;YAC/G,CAAC,UAAU,YAAY,mBACtB,8OAAC;gBAAI,WAAW,CAAC,yEAAyE,EAAE,iBAAiB;;oBAC1G,OAAO,WAAW,yBACjB,8OAAC;wBAAG,WAAU;kCAA4B;;;;;+BAE1C;oBAED;;;;;;;0BAGL,8OAAC;gBAAI,WAAW,cAAc,CAAC,QAAQ;0BACpC;;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 4558, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/SerialLookup.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport Link from 'next/link';\nimport { useApp, SerialNumber } from '@/context/AppContext';\nimport { Card } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { formatDate } from '@/lib/formatting';\nimport {\n  Search,\n  Hash,\n  Package,\n  MapPin,\n  Calendar,\n  ShoppingCart,\n  FileText,\n  X,\n  ArrowRight,\n  CheckCircle,\n  Clock,\n  AlertTriangle,\n  RotateCcw\n} from 'lucide-react';\n\ninterface SerialLookupProps {\n  onClose?: () => void;\n  embedded?: boolean;\n}\n\nexport function SerialLookup({ onClose, embedded = false }: SerialLookupProps) {\n  const { state } = useApp();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResult, setSearchResult] = useState<SerialNumber | null>(null);\n  const [notFound, setNotFound] = useState(false);\n\n  // Search for serial\n  const handleSearch = () => {\n    if (!searchQuery.trim()) return;\n\n    const query = searchQuery.trim().toLowerCase();\n    const found = state.serialNumbers.find(\n      sn => sn.serial.toLowerCase() === query || sn.serial.toLowerCase().includes(query)\n    );\n\n    if (found) {\n      setSearchResult(found);\n      setNotFound(false);\n    } else {\n      setSearchResult(null);\n      setNotFound(true);\n    }\n  };\n\n  // Clear search\n  const clearSearch = () => {\n    setSearchQuery('');\n    setSearchResult(null);\n    setNotFound(false);\n  };\n\n  // Get status badge\n  const getStatusBadge = (status: SerialNumber['status']) => {\n    const configs = {\n      in_stock: { bg: 'bg-emerald-500/20', text: 'text-emerald-400', icon: CheckCircle, label: 'In Stock' },\n      reserved: { bg: 'bg-amber-500/20', text: 'text-amber-400', icon: Clock, label: 'Reserved' },\n      sold: { bg: 'bg-blue-500/20', text: 'text-blue-400', icon: ShoppingCart, label: 'Sold' },\n      returned: { bg: 'bg-purple-500/20', text: 'text-purple-400', icon: RotateCcw, label: 'Returned' },\n      damaged: { bg: 'bg-red-500/20', text: 'text-red-400', icon: AlertTriangle, label: 'Damaged' },\n    };\n    const config = configs[status];\n    const Icon = config.icon;\n\n    return (\n      <span className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ${config.bg} ${config.text}`}>\n        <Icon className=\"w-3 h-3\" />\n        {config.label}\n      </span>\n    );\n  };\n\n  // Get related serials (same product)\n  const relatedSerials = useMemo(() => {\n    if (!searchResult) return [];\n    return state.serialNumbers\n      .filter(sn => sn.productId === searchResult.productId && sn.id !== searchResult.id)\n      .slice(0, 5);\n  }, [searchResult, state.serialNumbers]);\n\n  const content = (\n    <div className=\"space-y-4\">\n      {/* Search Input */}\n      <div className=\"flex gap-2\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={e => setSearchQuery(e.target.value)}\n            onKeyDown={e => e.key === 'Enter' && handleSearch()}\n            placeholder=\"Enter or scan serial number...\"\n            className=\"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-10 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 font-mono\"\n            autoFocus\n          />\n          {searchQuery && (\n            <button\n              onClick={clearSearch}\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          )}\n        </div>\n        <Button onClick={handleSearch}>\n          <Search className=\"w-4 h-4\" />\n          Search\n        </Button>\n      </div>\n\n      {/* Not Found */}\n      {notFound && (\n        <div className=\"p-6 bg-slate-800/50 border border-slate-700 rounded-lg text-center\">\n          <Hash className=\"w-12 h-12 text-slate-600 mx-auto mb-3\" />\n          <h3 className=\"text-white font-medium mb-1\">Serial Not Found</h3>\n          <p className=\"text-sm text-slate-400\">\n            No serial number matching \"{searchQuery}\" was found in the system.\n          </p>\n        </div>\n      )}\n\n      {/* Search Result */}\n      {searchResult && (\n        <div className=\"space-y-4\">\n          {/* Main Info Card */}\n          <Card className=\"p-6\">\n            <div className=\"flex items-start justify-between mb-4\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 rounded-lg bg-purple-500/20 flex items-center justify-center\">\n                  <Hash className=\"w-6 h-6 text-purple-400\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-mono font-medium text-white\">{searchResult.serial}</h3>\n                  <p className=\"text-sm text-slate-400\">{searchResult.productName}</p>\n                </div>\n              </div>\n              {getStatusBadge(searchResult.status)}\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <Package className=\"w-4 h-4 text-slate-400\" />\n                <span className=\"text-slate-400\">SKU:</span>\n                <span className=\"font-mono text-white\">{searchResult.sku}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <MapPin className=\"w-4 h-4 text-slate-400\" />\n                <span className=\"text-slate-400\">Location:</span>\n                <span className=\"text-white\">{searchResult.locationName}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"w-4 h-4 text-slate-400\" />\n                <span className=\"text-slate-400\">Received:</span>\n                <span className=\"text-white\">{formatDate(searchResult.receivedAt)}</span>\n              </div>\n              {searchResult.soldAt && (\n                <div className=\"flex items-center gap-2\">\n                  <ShoppingCart className=\"w-4 h-4 text-slate-400\" />\n                  <span className=\"text-slate-400\">Sold:</span>\n                  <span className=\"text-white\">{formatDate(searchResult.soldAt)}</span>\n                </div>\n              )}\n            </div>\n\n            {/* Links */}\n            <div className=\"mt-4 pt-4 border-t border-slate-700/50 flex flex-wrap gap-2\">\n              <Link\n                href={`/inventory/${searchResult.productId}`}\n                className=\"inline-flex items-center gap-1 text-sm text-emerald-400 hover:text-emerald-300\"\n              >\n                <Package className=\"w-4 h-4\" />\n                View Product\n                <ArrowRight className=\"w-3 h-3\" />\n              </Link>\n              {searchResult.purchaseOrderId && (\n                <Link\n                  href={`/purchase-orders`}\n                  className=\"inline-flex items-center gap-1 text-sm text-blue-400 hover:text-blue-300 ml-4\"\n                >\n                  <FileText className=\"w-4 h-4\" />\n                  View PO\n                  <ArrowRight className=\"w-3 h-3\" />\n                </Link>\n              )}\n              {searchResult.salesOrderId && (\n                <Link\n                  href={`/orders/${searchResult.salesOrderId}`}\n                  className=\"inline-flex items-center gap-1 text-sm text-purple-400 hover:text-purple-300 ml-4\"\n                >\n                  <ShoppingCart className=\"w-4 h-4\" />\n                  View Order\n                  <ArrowRight className=\"w-3 h-3\" />\n                </Link>\n              )}\n            </div>\n\n            {/* Notes */}\n            {searchResult.notes && (\n              <div className=\"mt-4 p-3 bg-slate-800/50 rounded-lg\">\n                <span className=\"text-xs text-slate-400 uppercase\">Notes</span>\n                <p className=\"text-sm text-white mt-1\">{searchResult.notes}</p>\n              </div>\n            )}\n          </Card>\n\n          {/* Related Serials */}\n          {relatedSerials.length > 0 && (\n            <Card className=\"p-4\">\n              <h4 className=\"text-sm font-medium text-white mb-3\">\n                Other Serials for this Product ({state.serialNumbers.filter(sn => sn.productId === searchResult.productId).length} total)\n              </h4>\n              <div className=\"space-y-2\">\n                {relatedSerials.map(sn => (\n                  <button\n                    key={sn.id}\n                    onClick={() => {\n                      setSearchQuery(sn.serial);\n                      setSearchResult(sn);\n                    }}\n                    className=\"w-full flex items-center justify-between p-2 bg-slate-800/50 hover:bg-slate-700/50 rounded-lg transition-colors\"\n                  >\n                    <span className=\"font-mono text-sm text-white\">{sn.serial}</span>\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-xs text-slate-400\">{sn.locationName}</span>\n                      {getStatusBadge(sn.status)}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </Card>\n          )}\n        </div>\n      )}\n\n      {/* Empty State */}\n      {!searchResult && !notFound && (\n        <div className=\"p-8 text-center\">\n          <Hash className=\"w-16 h-16 text-slate-700 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-white mb-2\">Serial Number Lookup</h3>\n          <p className=\"text-sm text-slate-400 max-w-md mx-auto\">\n            Enter a serial number above to look up its status, location, and history.\n            You can also scan a barcode with the serial number.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n\n  if (embedded) {\n    return content;\n  }\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-lg font-medium text-white flex items-center gap-2\">\n          <Hash className=\"w-5 h-5 text-purple-400\" />\n          Serial Number Lookup\n        </h2>\n        {onClose && (\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white\">\n            <X className=\"w-5 h-5\" />\n          </button>\n        )}\n      </div>\n      {content}\n    </Card>\n  );\n}\n\nexport default SerialLookup;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5274, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/inventory/StatusBadge.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\n\n// Generic status badge configuration\nexport interface StatusConfig {\n  color: string;\n  icon: string;\n  label: string;\n}\n\ninterface StatusBadgeProps {\n  status: string;\n  config: Record<string, StatusConfig>;\n  animated?: boolean;\n}\n\nexport function StatusBadge({ status, config, animated = false }: StatusBadgeProps) {\n  const cfg = config[status];\n  if (!cfg) return null;\n\n  const colorClasses: Record<string, string> = {\n    slate: 'bg-slate-500/10 text-slate-400 border-slate-500/20',\n    blue: 'bg-blue-500/10 text-blue-400 border-blue-500/20',\n    emerald: 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20',\n    amber: 'bg-amber-500/10 text-amber-400 border-amber-500/20',\n    red: 'bg-red-500/10 text-red-400 border-red-500/20',\n    purple: 'bg-purple-500/10 text-purple-400 border-purple-500/20',\n    orange: 'bg-orange-500/10 text-orange-400 border-orange-500/20',\n    cyan: 'bg-cyan-500/10 text-cyan-400 border-cyan-500/20',\n  };\n\n  return (\n    <span className={`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full border ${colorClasses[cfg.color] || colorClasses.slate}`}>\n      <i className={`fas ${cfg.icon} ${animated ? 'fa-spin' : ''} text-[10px]`}></i>\n      {cfg.label}\n    </span>\n  );\n}\n\n// Common status configurations\nexport const stockCountStatusConfig: Record<string, StatusConfig> = {\n  draft: { color: 'slate', icon: 'fa-file', label: 'Draft' },\n  in_progress: { color: 'blue', icon: 'fa-spinner', label: 'In Progress' },\n  completed: { color: 'emerald', icon: 'fa-check-circle', label: 'Completed' },\n  cancelled: { color: 'red', icon: 'fa-times-circle', label: 'Cancelled' },\n};\n\nexport const transferStatusConfig: Record<string, StatusConfig> = {\n  draft: { color: 'slate', icon: 'fa-edit', label: 'Draft' },\n  pending: { color: 'amber', icon: 'fa-clock', label: 'Pending' },\n  in_transit: { color: 'blue', icon: 'fa-truck', label: 'In Transit' },\n  received: { color: 'emerald', icon: 'fa-check', label: 'Received' },\n  cancelled: { color: 'red', icon: 'fa-times', label: 'Cancelled' },\n};\n\nexport const countTypeConfig: Record<string, { label: string; color: string }> = {\n  full: { label: 'Full Count', color: 'purple' },\n  cycle: { label: 'Cycle Count', color: 'blue' },\n  spot: { label: 'Spot Check', color: 'amber' },\n};\n\nexport function TypeBadge({ type, config }: { type: string; config: Record<string, { label: string; color: string }> }) {\n  const cfg = config[type];\n  if (!cfg) return null;\n\n  const colorClasses: Record<string, string> = {\n    purple: 'bg-purple-500/10 text-purple-400 border-purple-500/20',\n    blue: 'bg-blue-500/10 text-blue-400 border-blue-500/20',\n    amber: 'bg-amber-500/10 text-amber-400 border-amber-500/20',\n  };\n\n  return (\n    <span className={`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded border ${colorClasses[cfg.color] || ''}`}>\n      {cfg.label}\n    </span>\n  );\n}\n\n// Stock status component\ninterface StockStatusProps {\n  status: 'in_stock' | 'low_stock' | 'out_of_stock';\n  compact?: boolean;\n}\n\nexport function StockStatus({ status, compact = false }: StockStatusProps) {\n  const configs = {\n    in_stock: { text: 'In Stock', color: 'text-emerald-400', bg: 'bg-emerald-500/10', icon: '' },\n    low_stock: { text: 'Low Stock', color: 'text-amber-400', bg: 'bg-amber-500/10', icon: '' },\n    out_of_stock: { text: 'Out of Stock', color: 'text-red-400', bg: 'bg-red-500/10', icon: '' },\n  };\n\n  const cfg = configs[status];\n\n  if (compact) {\n    return <span className={`text-xs ${cfg.color}`}>{cfg.icon} {cfg.text}</span>;\n  }\n\n  return (\n    <span className={`text-xs px-2 py-1 rounded ${cfg.bg} ${cfg.color}`}>\n      {cfg.text}\n    </span>\n  );\n}\n\n// Category badge/icon\nexport interface CategoryStyle {\n  gradient: string;\n  border: string;\n  text: string;\n  icon: string;\n  label: string;\n}\n\nexport const categoryStyles: Record<string, CategoryStyle> = {\n  nutrients: {\n    gradient: 'from-emerald-500/20 to-emerald-600/20',\n    border: 'border-emerald-500/20',\n    text: 'text-emerald-400',\n    icon: 'fa-flask',\n    label: 'Nutrients',\n  },\n  supplements: {\n    gradient: 'from-purple-500/20 to-purple-600/20',\n    border: 'border-purple-500/20',\n    text: 'text-purple-400',\n    icon: 'fa-seedling',\n    label: 'Supplements',\n  },\n  ph_adjusters: {\n    gradient: 'from-blue-500/20 to-blue-600/20',\n    border: 'border-blue-500/20',\n    text: 'text-blue-400',\n    icon: 'fa-vial',\n    label: 'pH Adjusters',\n  },\n  bundles: {\n    gradient: 'from-amber-500/20 to-amber-600/20',\n    border: 'border-amber-500/20',\n    text: 'text-amber-400',\n    icon: 'fa-boxes-stacked',\n    label: 'Bundles',\n  },\n};\n\nexport function getCategoryStyle(category: string): CategoryStyle {\n  return categoryStyles[category] || categoryStyles.nutrients;\n}\n\nexport function CategoryIcon({ category, size = 'md' }: { category: string; size?: 'sm' | 'md' | 'lg' }) {\n  const style = getCategoryStyle(category);\n  const sizes = {\n    sm: { container: 'w-8 h-8', icon: 'text-sm' },\n    md: { container: 'w-12 h-12', icon: '' },\n    lg: { container: 'w-16 h-16', icon: 'text-2xl' },\n  };\n\n  return (\n    <div className={`${sizes[size].container} bg-gradient-to-br ${style.gradient} rounded-lg flex items-center justify-center border ${style.border}`}>\n      <i className={`fas ${style.icon} ${style.text} ${sizes[size].icon}`}></i>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5521, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/inventory/InventoryTable.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\n\n// Empty state component\ninterface EmptyStateProps {\n  icon: string;\n  title: string;\n  description: string;\n  showFilterHint?: boolean;\n  action?: ReactNode;\n}\n\nexport function EmptyState({ icon, title, description, showFilterHint, action }: EmptyStateProps) {\n  return (\n    <div className=\"p-8 text-center text-slate-500\">\n      <i className={`fas ${icon} text-4xl mb-4 text-slate-600`}></i>\n      <p className=\"font-medium text-white mb-2\">{title}</p>\n      <p className=\"text-sm text-slate-400\">{description}</p>\n      {showFilterHint && (\n        <p className=\"text-sm mt-2\">Try adjusting your filters</p>\n      )}\n      {action && <div className=\"mt-4\">{action}</div>}\n    </div>\n  );\n}\n\n// Pagination component\ninterface PaginationProps {\n  currentPage: number;\n  totalPages: number;\n  totalItems: number;\n  itemsPerPage: number;\n  itemLabel?: string;\n  onPageChange: (page: number) => void;\n}\n\nexport function Pagination({\n  currentPage,\n  totalPages,\n  totalItems,\n  itemsPerPage,\n  itemLabel = 'items',\n  onPageChange,\n}: PaginationProps) {\n  if (totalPages <= 1) return null;\n\n  const startItem = ((currentPage - 1) * itemsPerPage) + 1;\n  const endItem = Math.min(currentPage * itemsPerPage, totalItems);\n\n  return (\n    <div className=\"flex items-center justify-between p-4 border-t border-slate-700/50\">\n      <div className=\"text-sm text-slate-400\">\n        Showing {startItem} to {endItem} of {totalItems} {itemLabel}\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <button\n          onClick={() => onPageChange(Math.max(1, currentPage - 1))}\n          disabled={currentPage === 1}\n          className=\"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors\"\n        >\n          <i className=\"fas fa-chevron-left\"></i>\n        </button>\n        {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\n          let pageNum: number;\n          if (totalPages <= 5) {\n            pageNum = i + 1;\n          } else if (currentPage <= 3) {\n            pageNum = i + 1;\n          } else if (currentPage >= totalPages - 2) {\n            pageNum = totalPages - 4 + i;\n          } else {\n            pageNum = currentPage - 2 + i;\n          }\n\n          return (\n            <button\n              key={pageNum}\n              onClick={() => onPageChange(pageNum)}\n              className={`px-3 py-1.5 rounded-lg transition-colors ${\n                currentPage === pageNum\n                  ? 'bg-emerald-600 text-white'\n                  : 'bg-slate-700/50 hover:bg-slate-600/50 text-slate-300'\n              }`}\n            >\n              {pageNum}\n            </button>\n          );\n        })}\n        <button\n          onClick={() => onPageChange(Math.min(totalPages, currentPage + 1))}\n          disabled={currentPage === totalPages}\n          className=\"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors\"\n        >\n          <i className=\"fas fa-chevron-right\"></i>\n        </button>\n      </div>\n    </div>\n  );\n}\n\n// Table wrapper with header\ninterface TableWrapperProps {\n  children: ReactNode;\n}\n\nexport function TableWrapper({ children }: TableWrapperProps) {\n  return (\n    <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden\">\n      {children}\n    </div>\n  );\n}\n\n// Table header cell\ninterface TableHeaderProps {\n  columns: Array<{\n    key: string;\n    header: string;\n    align?: 'left' | 'center' | 'right';\n    className?: string;\n  }>;\n}\n\nexport function TableHeader({ columns }: TableHeaderProps) {\n  return (\n    <thead>\n      <tr className=\"border-b border-slate-700/50\">\n        {columns.map(col => (\n          <th\n            key={col.key}\n            className={`p-4 text-xs font-medium text-slate-400 uppercase tracking-wider ${\n              col.align === 'right' ? 'text-right' : col.align === 'center' ? 'text-center' : 'text-left'\n            } ${col.className || ''}`}\n          >\n            {col.header}\n          </th>\n        ))}\n      </tr>\n    </thead>\n  );\n}\n\n// Action button styles\ninterface ActionButtonProps {\n  icon: string;\n  onClick: (e: React.MouseEvent) => void;\n  color?: 'slate' | 'blue' | 'emerald' | 'amber' | 'red';\n  title?: string;\n  disabled?: boolean;\n}\n\nexport function ActionButton({ icon, onClick, color = 'slate', title, disabled }: ActionButtonProps) {\n  const colorClasses: Record<string, string> = {\n    slate: 'text-slate-400 hover:bg-slate-600/50',\n    blue: 'text-blue-400 hover:bg-blue-500/20',\n    emerald: 'text-emerald-400 hover:bg-emerald-500/20',\n    amber: 'text-amber-400 hover:bg-amber-500/20',\n    red: 'text-red-400 hover:bg-red-500/20',\n  };\n\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      title={title}\n      className={`p-2 rounded-lg transition-colors ${colorClasses[color]} ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}\n    >\n      <i className={`fas ${icon}`}></i>\n    </button>\n  );\n}\n\n// Primary action button\ninterface PrimaryActionButtonProps {\n  icon: string;\n  label: string;\n  onClick: () => void;\n  variant?: 'primary' | 'secondary';\n}\n\nexport function PrimaryActionButton({ icon, label, onClick, variant = 'primary' }: PrimaryActionButtonProps) {\n  const variantClasses = {\n    primary: 'bg-emerald-600 hover:bg-emerald-500 text-white',\n    secondary: 'bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300',\n  };\n\n  return (\n    <button\n      onClick={onClick}\n      className={`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${variantClasses[variant]}`}\n    >\n      <i className={`fas ${icon} text-sm`}></i>\n      {label}\n    </button>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5770, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/inventory/InventoryStats.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\nimport { formatCurrency, formatNumber } from '@/lib/formatting';\n\nexport interface StatCardProps {\n  icon: string;\n  iconColor: string;\n  value: number | string;\n  label: string;\n  format?: 'number' | 'currency' | 'raw';\n  onClick?: () => void;\n  isActive?: boolean;\n  borderColor?: string;\n}\n\nexport function ClickableStatCard({\n  icon,\n  iconColor,\n  value,\n  label,\n  format = 'number',\n  onClick,\n  isActive = false,\n  borderColor,\n}: StatCardProps) {\n  const colorClasses: Record<string, { border: string; bg: string; hover: string; iconBg: string; ring: string }> = {\n    blue: { border: 'border-blue-500/30', bg: 'bg-blue-500/10', hover: 'hover:bg-blue-500/10', iconBg: 'bg-blue-500/20', ring: 'ring-blue-500/30' },\n    emerald: { border: 'border-emerald-500/30', bg: 'bg-emerald-500/10', hover: 'hover:bg-emerald-500/10', iconBg: 'bg-emerald-500/20', ring: 'ring-emerald-500/30' },\n    amber: { border: 'border-amber-500/30', bg: 'bg-amber-500/10', hover: 'hover:bg-amber-500/10', iconBg: 'bg-amber-500/20', ring: 'ring-amber-500/30' },\n    red: { border: 'border-red-500/30', bg: 'bg-red-500/10', hover: 'hover:bg-red-500/10', iconBg: 'bg-red-500/20', ring: 'ring-red-500/30' },\n    purple: { border: 'border-purple-500/30', bg: 'bg-purple-500/10', hover: 'hover:bg-purple-500/10', iconBg: 'bg-purple-500/20', ring: 'ring-purple-500/30' },\n    slate: { border: 'border-slate-700/50', bg: 'bg-slate-700/30', hover: 'hover:bg-slate-700/30', iconBg: 'bg-slate-700/50', ring: 'ring-slate-500/30' },\n  };\n\n  const colors = colorClasses[iconColor] || colorClasses.slate;\n\n  const formattedValue = format === 'currency'\n    ? formatCurrency(typeof value === 'number' ? value : 0)\n    : format === 'number'\n    ? formatNumber(typeof value === 'number' ? value : 0)\n    : value;\n\n  const textColor = iconColor === 'slate' || iconColor === 'white' ? 'text-white' : `text-${iconColor}-400`;\n\n  return (\n    <div\n      onClick={onClick}\n      className={`bg-slate-800/50 backdrop-blur border rounded-xl p-4 transition-colors ${\n        onClick ? 'cursor-pointer' : ''\n      } ${colors.hover} ${\n        isActive\n          ? `${colors.border.replace('/30', '/50')} ${colors.bg} ring-2 ${colors.ring}`\n          : borderColor || colors.border\n      }`}\n    >\n      <div className=\"flex items-center gap-3\">\n        <div className={`w-10 h-10 rounded-lg ${colors.iconBg} flex items-center justify-center`}>\n          <i className={`fas ${icon} text-${iconColor}-400`}></i>\n        </div>\n        <div>\n          <div className={`text-2xl font-bold ${textColor}`}>{formattedValue}</div>\n          <div className=\"text-xs text-slate-400\">{label}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\ninterface InventoryStatsGridProps {\n  children: ReactNode;\n  columns?: 4 | 5 | 6 | 7;\n}\n\nexport function InventoryStatsGrid({ children, columns = 4 }: InventoryStatsGridProps) {\n  const colClass = {\n    4: 'grid-cols-4',\n    5: 'grid-cols-5',\n    6: 'grid-cols-6',\n    7: 'grid-cols-7',\n  }[columns];\n\n  return <div className={`grid ${colClass} gap-4`}>{children}</div>;\n}\n\n// Progress bar component used in stock counts and transfers\ninterface ProgressBarProps {\n  current: number;\n  total: number;\n  completed?: boolean;\n}\n\nexport function ProgressBar({ current, total, completed = false }: ProgressBarProps) {\n  const progress = total > 0 ? (current / total) * 100 : 0;\n\n  return (\n    <div className=\"w-32\">\n      <div className=\"flex items-center justify-between text-xs mb-1\">\n        <span className=\"text-slate-400\">{current}/{total}</span>\n        <span className=\"text-slate-500\">{Math.round(progress)}%</span>\n      </div>\n      <div className=\"w-full bg-slate-700 rounded-full h-2\">\n        <div\n          className={`rounded-full h-2 transition-all ${completed ? 'bg-emerald-500' : 'bg-blue-500'}`}\n          style={{ width: `${progress}%` }}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAHA;;;AAgBO,SAAS,kBAAkB,EAChC,IAAI,EACJ,SAAS,EACT,KAAK,EACL,KAAK,EACL,SAAS,QAAQ,EACjB,OAAO,EACP,WAAW,KAAK,EAChB,WAAW,EACG;IACd,MAAM,eAA4G;QAChH,MAAM;YAAE,QAAQ;YAAsB,IAAI;YAAkB,OAAO;YAAwB,QAAQ;YAAkB,MAAM;QAAmB;QAC9I,SAAS;YAAE,QAAQ;YAAyB,IAAI;YAAqB,OAAO;YAA2B,QAAQ;YAAqB,MAAM;QAAsB;QAChK,OAAO;YAAE,QAAQ;YAAuB,IAAI;YAAmB,OAAO;YAAyB,QAAQ;YAAmB,MAAM;QAAoB;QACpJ,KAAK;YAAE,QAAQ;YAAqB,IAAI;YAAiB,OAAO;YAAuB,QAAQ;YAAiB,MAAM;QAAkB;QACxI,QAAQ;YAAE,QAAQ;YAAwB,IAAI;YAAoB,OAAO;YAA0B,QAAQ;YAAoB,MAAM;QAAqB;QAC1J,OAAO;YAAE,QAAQ;YAAuB,IAAI;YAAmB,OAAO;YAAyB,QAAQ;YAAmB,MAAM;QAAoB;IACtJ;IAEA,MAAM,SAAS,YAAY,CAAC,UAAU,IAAI,aAAa,KAAK;IAE5D,MAAM,iBAAiB,WAAW,aAC9B,IAAA,mIAAc,EAAC,OAAO,UAAU,WAAW,QAAQ,KACnD,WAAW,WACX,IAAA,iIAAY,EAAC,OAAO,UAAU,WAAW,QAAQ,KACjD;IAEJ,MAAM,YAAY,cAAc,WAAW,cAAc,UAAU,eAAe,CAAC,KAAK,EAAE,UAAU,IAAI,CAAC;IAEzG,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC,sEAAsE,EAChF,UAAU,mBAAmB,GAC9B,CAAC,EAAE,OAAO,KAAK,CAAC,CAAC,EAChB,WACI,GAAG,OAAO,MAAM,CAAC,OAAO,CAAC,OAAO,OAAO,CAAC,EAAE,OAAO,EAAE,CAAC,QAAQ,EAAE,OAAO,IAAI,EAAE,GAC3E,eAAe,OAAO,MAAM,EAChC;kBAEF,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAW,CAAC,qBAAqB,EAAE,OAAO,MAAM,CAAC,iCAAiC,CAAC;8BACtF,cAAA,8OAAC;wBAAE,WAAW,CAAC,IAAI,EAAE,KAAK,MAAM,EAAE,UAAU,IAAI,CAAC;;;;;;;;;;;8BAEnD,8OAAC;;sCACC,8OAAC;4BAAI,WAAW,CAAC,mBAAmB,EAAE,WAAW;sCAAG;;;;;;sCACpD,8OAAC;4BAAI,WAAU;sCAA0B;;;;;;;;;;;;;;;;;;;;;;;AAKnD;AAOO,SAAS,mBAAmB,EAAE,QAAQ,EAAE,UAAU,CAAC,EAA2B;IACnF,MAAM,WAAW;QACf,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;IACL,CAAC,CAAC,QAAQ;IAEV,qBAAO,8OAAC;QAAI,WAAW,CAAC,KAAK,EAAE,SAAS,MAAM,CAAC;kBAAG;;;;;;AACpD;AASO,SAAS,YAAY,EAAE,OAAO,EAAE,KAAK,EAAE,YAAY,KAAK,EAAoB;IACjF,MAAM,WAAW,QAAQ,IAAI,AAAC,UAAU,QAAS,MAAM;IAEvD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;;4BAAkB;4BAAQ;4BAAE;;;;;;;kCAC5C,8OAAC;wBAAK,WAAU;;4BAAkB,KAAK,KAAK,CAAC;4BAAU;;;;;;;;;;;;;0BAEzD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAW,CAAC,gCAAgC,EAAE,YAAY,mBAAmB,eAAe;oBAC5F,OAAO;wBAAE,OAAO,GAAG,SAAS,CAAC,CAAC;oBAAC;;;;;;;;;;;;;;;;;AAKzC"}},
    {"offset": {"line": 5968, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/inventory/InventoryFilters.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\n\ninterface FilterSelectProps {\n  value: string;\n  onChange: (value: string) => void;\n  options: Array<{ value: string; label: string }>;\n  placeholder?: string;\n}\n\nexport function FilterSelect({ value, onChange, options, placeholder }: FilterSelectProps) {\n  return (\n    <select\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2.5 text-slate-200 focus:outline-none focus:border-emerald-500\"\n    >\n      {placeholder && <option value=\"\">{placeholder}</option>}\n      {options.map(opt => (\n        <option key={opt.value} value={opt.value}>{opt.label}</option>\n      ))}\n    </select>\n  );\n}\n\ninterface SearchInputProps {\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n}\n\nexport function SearchInput({ value, onChange, placeholder = 'Search...' }: SearchInputProps) {\n  return (\n    <div className=\"relative flex-1 min-w-[200px]\">\n      <i className=\"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-500\"></i>\n      <input\n        type=\"text\"\n        placeholder={placeholder}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500/50\"\n      />\n    </div>\n  );\n}\n\ninterface ClearFiltersButtonProps {\n  onClick: () => void;\n}\n\nexport function ClearFiltersButton({ onClick }: ClearFiltersButtonProps) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"px-3 py-2.5 text-slate-400 hover:text-slate-200 transition-colors flex items-center gap-2\"\n    >\n      <i className=\"fas fa-times text-sm\"></i>\n      Clear\n    </button>\n  );\n}\n\ninterface FilterBarProps {\n  children: ReactNode;\n}\n\nexport function FilterBar({ children }: FilterBarProps) {\n  return (\n    <div className=\"flex flex-wrap items-center gap-4\">\n      {children}\n    </div>\n  );\n}\n\n// Page header with back button\ninterface PageHeaderProps {\n  title: string;\n  subtitle?: string;\n  icon?: ReactNode;\n  backHref?: string;\n  actions?: ReactNode;\n}\n\nexport function PageHeader({ title, subtitle, icon, backHref, actions }: PageHeaderProps) {\n  return (\n    <div className=\"flex items-center justify-between\">\n      <div className=\"flex items-center gap-4\">\n        {backHref && (\n          <a\n            href={backHref}\n            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-arrow-left\"></i>\n          </a>\n        )}\n        <div>\n          <h1 className=\"text-2xl font-bold text-white flex items-center gap-2\">\n            {icon}\n            {title}\n          </h1>\n          {subtitle && <p className=\"text-sm text-slate-400\">{subtitle}</p>}\n        </div>\n      </div>\n      {actions}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;AAWO,SAAS,aAAa,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,EAAqB;IACvF,qBACE,8OAAC;QACC,OAAO;QACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;QACxC,WAAU;;YAET,6BAAe,8OAAC;gBAAO,OAAM;0BAAI;;;;;;YACjC,QAAQ,GAAG,CAAC,CAAA,oBACX,8OAAC;oBAAuB,OAAO,IAAI,KAAK;8BAAG,IAAI,KAAK;mBAAvC,IAAI,KAAK;;;;;;;;;;;AAI9B;AAQO,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,WAAW,EAAoB;IAC1F,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAE,WAAU;;;;;;0BACb,8OAAC;gBACC,MAAK;gBACL,aAAa;gBACb,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAU;;;;;;;;;;;;AAIlB;AAMO,SAAS,mBAAmB,EAAE,OAAO,EAA2B;IACrE,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;;0BAEV,8OAAC;gBAAE,WAAU;;;;;;YAA2B;;;;;;;AAI9C;AAMO,SAAS,UAAU,EAAE,QAAQ,EAAkB;IACpD,qBACE,8OAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;AAWO,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAmB;IACtF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;oBACZ,0BACC,8OAAC;wBACC,MAAM;wBACN,WAAU;kCAEV,cAAA,8OAAC;4BAAE,WAAU;;;;;;;;;;;kCAGjB,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;;oCACX;oCACA;;;;;;;4BAEF,0BAAY,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;;;;;;;;;;;;;YAGvD;;;;;;;AAGP"}},
    {"offset": {"line": 6138, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/inventory/index.ts"],"sourcesContent":["// Inventory-specific components\nexport * from './StatusBadge';\nexport * from './InventoryTable';\nexport * from './InventoryStats';\nexport * from './InventoryFilters';\n"],"names":[],"mappings":";AAAA,gCAAgC;AAChC;AACA;AACA;AACA"}},
    {"offset": {"line": 6152, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/app/%28dashboard%29/inventory/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo, useEffect, useCallback, Suspense } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { useApp, Product } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { useConfirm } from '@/components/ui/ConfirmDialog';\nimport { Modal } from '@/components/ui/Modal';\nimport { ActiveFilters } from '@/components/ui/FilterBadge';\nimport { AddProductModal } from '@/components/modals/AddProductModal';\nimport { AdjustStockModal } from '@/components/modals/AdjustStockModal';\nimport { ImportCSVModal } from '@/components/modals/ImportCSVModal';\nimport { ImportInflowModal } from '@/components/modals/ImportInflowModal';\nimport { SerialLookup } from '@/components/SerialLookup';\nimport { formatCurrency, formatNumber } from '@/lib/formatting';\nimport { Hash, Layers, Loader2 } from 'lucide-react';\nimport {\n  getCategoryStyle,\n  categoryStyles,\n  CategoryIcon,\n  StockStatus,\n} from '@/components/inventory';\nimport { Pagination, EmptyState } from '@/components/inventory/InventoryTable';\n\ntype CategoryFilter = 'all' | 'nutrients' | 'supplements' | 'ph_adjusters' | 'bundles';\ntype StatusFilter = 'all' | 'in_stock' | 'low_stock' | 'out_of_stock';\ntype LocationFilter = 'all' | string;\n\nfunction InventoryPageLoading() {\n  return (\n    <div className=\"flex items-center justify-center min-h-[400px]\">\n      <Loader2 className=\"w-8 h-8 text-emerald-500 animate-spin\" />\n    </div>\n  );\n}\n\nexport default function InventoryPage() {\n  return (\n    <Suspense fallback={<InventoryPageLoading />}>\n      <InventoryPageContent />\n    </Suspense>\n  );\n}\n\nfunction InventoryPageContent() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { state, dispatch } = useApp();\n  const { success, error: showError, warning } = useToast();\n  const confirm = useConfirm();\n\n  // Read initial filter values from URL\n  const [searchQuery, setSearchQuery] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState<CategoryFilter>('all');\n  const [statusFilter, setStatusFilter] = useState<StatusFilter>('all');\n  const [locationFilter, setLocationFilter] = useState<LocationFilter>('all');\n  const [urlInitialized, setUrlInitialized] = useState(false);\n\n  // Initialize filters from URL params\n  useEffect(() => {\n    if (!urlInitialized) {\n      const location = searchParams.get('location');\n      const status = searchParams.get('status');\n      const category = searchParams.get('category');\n      const search = searchParams.get('search');\n\n      if (location) setLocationFilter(location);\n      if (status && ['in_stock', 'low_stock', 'out_of_stock'].includes(status)) {\n        setStatusFilter(status as StatusFilter);\n      }\n      if (category && ['nutrients', 'supplements', 'ph_adjusters', 'bundles'].includes(category)) {\n        setCategoryFilter(category as CategoryFilter);\n      }\n      if (search) setSearchQuery(search);\n\n      setUrlInitialized(true);\n    }\n  }, [searchParams, urlInitialized]);\n\n  // Update URL when filters change\n  const updateUrlParams = useCallback((newFilters: {\n    location?: string;\n    status?: string;\n    category?: string;\n    search?: string;\n  }) => {\n    const params = new URLSearchParams();\n    const location = newFilters.location ?? locationFilter;\n    const status = newFilters.status ?? statusFilter;\n    const category = newFilters.category ?? categoryFilter;\n    const search = newFilters.search ?? searchQuery;\n\n    if (location !== 'all') params.set('location', location);\n    if (status !== 'all') params.set('status', status);\n    if (category !== 'all') params.set('category', category);\n    if (search) params.set('search', search);\n\n    const url = params.toString() ? `/inventory?${params.toString()}` : '/inventory';\n    router.replace(url, { scroll: false });\n  }, [router, locationFilter, statusFilter, categoryFilter, searchQuery]);\n\n  // Helper to get location name\n  const getLocationName = (locationId: string) => {\n    const loc = state.locations.find(l => l.id === locationId);\n    return loc?.name || locationId;\n  };\n\n  // Build active filters array for display\n  const activeFiltersList = useMemo(() => {\n    const filters: Array<{ key: string; label: string; value: string }> = [];\n    if (locationFilter !== 'all') {\n      filters.push({ key: 'location', label: 'Location', value: getLocationName(locationFilter) });\n    }\n    if (statusFilter !== 'all') {\n      const statusLabels: Record<string, string> = {\n        in_stock: 'In Stock',\n        low_stock: 'Low Stock',\n        out_of_stock: 'Out of Stock',\n      };\n      filters.push({ key: 'status', label: 'Status', value: statusLabels[statusFilter] });\n    }\n    if (categoryFilter !== 'all') {\n      const catLabels: Record<string, string> = {\n        nutrients: 'Nutrients',\n        supplements: 'Supplements',\n        ph_adjusters: 'pH Adjusters',\n        bundles: 'Bundles',\n      };\n      filters.push({ key: 'category', label: 'Category', value: catLabels[categoryFilter] });\n    }\n    if (searchQuery) {\n      filters.push({ key: 'search', label: 'Search', value: searchQuery });\n    }\n    return filters;\n  }, [locationFilter, statusFilter, categoryFilter, searchQuery, state.locations]);\n\n  // Handle removing a filter\n  const handleRemoveFilter = (key: string) => {\n    if (key === 'location') {\n      setLocationFilter('all');\n      updateUrlParams({ location: 'all' });\n    } else if (key === 'status') {\n      setStatusFilter('all');\n      updateUrlParams({ status: 'all' });\n    } else if (key === 'category') {\n      setCategoryFilter('all');\n      updateUrlParams({ category: 'all' });\n    } else if (key === 'search') {\n      setSearchQuery('');\n      updateUrlParams({ search: '' });\n    }\n  };\n\n  // Handle clearing all filters\n  const handleClearAllFilters = () => {\n    setLocationFilter('all');\n    setStatusFilter('all');\n    setCategoryFilter('all');\n    setSearchQuery('');\n    router.replace('/inventory', { scroll: false });\n  };\n  const [selectedProducts, setSelectedProducts] = useState<Set<string>>(new Set());\n  const [currentPage, setCurrentPage] = useState(1);\n  const [viewMode, setViewMode] = useState<'list' | 'grid'>('list');\n  const itemsPerPage = 10;\n\n  // Modal states\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\n  const [isAdjustModalOpen, setIsAdjustModalOpen] = useState(false);\n  const [isImportModalOpen, setIsImportModalOpen] = useState(false);\n  const [isInflowModalOpen, setIsInflowModalOpen] = useState(false);\n  const [isSerialLookupOpen, setIsSerialLookupOpen] = useState(false);\n  const [showImportDropdown, setShowImportDropdown] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [adjustingProduct, setAdjustingProduct] = useState<Product | null>(null);\n\n  // Get stock for a product\n  const getProductStock = (productId: string) => {\n    const inventoryLevels = state.inventory.filter(i => i.productId === productId);\n    const total = inventoryLevels.reduce((sum, i) => sum + i.quantity, 0);\n    const byLocation: Record<string, number> = {};\n    inventoryLevels.forEach(i => {\n      byLocation[i.locationId] = i.quantity;\n    });\n    return { total, byLocation };\n  };\n\n  // Get stock status\n  const getStockStatus = (product: Product) => {\n    const stock = getProductStock(product.id);\n    if (stock.total === 0) return 'out_of_stock';\n    if (stock.total <= product.reorderPoint) return 'low_stock';\n    return 'in_stock';\n  };\n\n  // Calculate margin\n  const calculateMargin = (price: number, cost: number) => {\n    if (price === 0) return 0;\n    return ((price - cost) / price) * 100;\n  };\n\n  // Calculate average margin across all price points\n  const getAvgMargin = (product: Product) => {\n    const margins = [\n      calculateMargin(product.prices.msrp, product.cost.rolling),\n      calculateMargin(product.prices.shopify, product.cost.rolling),\n      calculateMargin(product.prices.amazon, product.cost.rolling),\n      calculateMargin(product.prices.wholesale, product.cost.rolling),\n    ];\n    return margins.reduce((a, b) => a + b, 0) / margins.length;\n  };\n\n  // Filter products\n  const filteredProducts = useMemo(() => {\n    return state.products.filter((product) => {\n      // Search filter\n      if (searchQuery) {\n        const query = searchQuery.toLowerCase();\n        if (\n          !product.name.toLowerCase().includes(query) &&\n          !product.sku.toLowerCase().includes(query) &&\n          !(product.skus?.shopify?.toLowerCase().includes(query)) &&\n          !(product.skus?.amazon?.toLowerCase().includes(query))\n        ) {\n          return false;\n        }\n      }\n\n      // Category filter\n      if (categoryFilter !== 'all' && product.category !== categoryFilter) {\n        return false;\n      }\n\n      // Status filter\n      const status = getStockStatus(product);\n      if (statusFilter !== 'all' && status !== statusFilter) {\n        return false;\n      }\n\n      // Location filter\n      if (locationFilter !== 'all') {\n        const stock = getProductStock(product.id);\n        if (!stock.byLocation[locationFilter] || stock.byLocation[locationFilter] === 0) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }, [state.products, state.inventory, searchQuery, categoryFilter, statusFilter, locationFilter]);\n\n  // Pagination\n  const totalPages = Math.ceil(filteredProducts.length / itemsPerPage);\n  const paginatedProducts = filteredProducts.slice(\n    (currentPage - 1) * itemsPerPage,\n    currentPage * itemsPerPage\n  );\n\n  // Calculate stats from real data\n  const stats = useMemo(() => {\n    const totalProducts = state.products.length;\n    const totalUnits = state.inventory.reduce((sum, i) => sum + i.quantity, 0);\n\n    let inventoryValue = 0;\n    let costOnHand = 0;\n\n    state.products.forEach(product => {\n      const stock = getProductStock(product.id);\n      inventoryValue += stock.total * product.prices.msrp;\n      costOnHand += stock.total * product.cost.rolling;\n    });\n\n    const overallMargin = inventoryValue > 0 ? ((inventoryValue - costOnHand) / inventoryValue) * 100 : 0;\n    const lowStockCount = state.products.filter(p => getStockStatus(p) === 'low_stock').length;\n    const outOfStockCount = state.products.filter(p => getStockStatus(p) === 'out_of_stock').length;\n\n    return {\n      totalProducts,\n      totalUnits,\n      inventoryValue,\n      costOnHand,\n      overallMargin,\n      lowStockCount,\n      outOfStockCount,\n    };\n  }, [state.products, state.inventory]);\n\n  // Get category label from shared styles\n  const getCategoryLabel = (category: Product['category']) => {\n    return categoryStyles[category]?.label || category;\n  };\n\n  // Handle row click\n  const handleRowClick = (productId: string) => {\n    router.push(`/inventory/${productId}`);\n  };\n\n  // Handle checkbox\n  const handleCheckbox = (productId: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    const newSelected = new Set(selectedProducts);\n    if (newSelected.has(productId)) {\n      newSelected.delete(productId);\n    } else {\n      newSelected.add(productId);\n    }\n    setSelectedProducts(newSelected);\n  };\n\n  // Handle select all\n  const handleSelectAll = () => {\n    if (selectedProducts.size === paginatedProducts.length) {\n      setSelectedProducts(new Set());\n    } else {\n      setSelectedProducts(new Set(paginatedProducts.map(p => p.id)));\n    }\n  };\n\n  // Handle edit product\n  const handleEditProduct = (product: Product, e: React.MouseEvent) => {\n    e.stopPropagation();\n    setEditingProduct(product);\n    setIsAddModalOpen(true);\n  };\n\n  // Handle adjust stock\n  const handleAdjustStock = (product: Product, e: React.MouseEvent) => {\n    e.stopPropagation();\n    setAdjustingProduct(product);\n    setIsAdjustModalOpen(true);\n  };\n\n  // Handle delete product\n  const handleDeleteProduct = async (product: Product, e: React.MouseEvent) => {\n    e.stopPropagation();\n    const confirmed = await confirm({\n      title: 'Delete Product',\n      message: `Are you sure you want to delete \"${product.name}\"? This action cannot be undone.`,\n      confirmText: 'Delete',\n      cancelText: 'Cancel',\n      destructive: true,\n    });\n\n    if (confirmed) {\n      dispatch({ type: 'DELETE_PRODUCT', payload: product.id });\n      success(`Product \"${product.name}\" deleted successfully`);\n    }\n  };\n\n  // Handle bulk delete\n  const handleBulkDelete = async () => {\n    if (selectedProducts.size === 0) return;\n\n    const confirmed = await confirm({\n      title: 'Delete Products',\n      message: `Are you sure you want to delete ${selectedProducts.size} product(s)? This action cannot be undone.`,\n      confirmText: 'Delete All',\n      cancelText: 'Cancel',\n      destructive: true,\n    });\n\n    if (confirmed) {\n      selectedProducts.forEach(id => {\n        dispatch({ type: 'DELETE_PRODUCT', payload: id });\n      });\n      success(`${selectedProducts.size} product(s) deleted successfully`);\n      setSelectedProducts(new Set());\n    }\n  };\n\n  // Handle export\n  const handleExport = () => {\n    const dataToExport = selectedProducts.size > 0\n      ? state.products.filter(p => selectedProducts.has(p.id))\n      : filteredProducts;\n\n    const csv = [\n      ['SKU', 'Name', 'Category', 'Weight', 'Total Stock', 'MSRP', 'Shopify Price', 'Amazon Price', 'Wholesale Price', 'Rolling Cost', 'Fixed Cost'].join(','),\n      ...dataToExport.map(p => {\n        const stock = getProductStock(p.id);\n        return [\n          p.sku,\n          `\"${p.name}\"`,\n          p.category,\n          p.weight.value + ' ' + p.weight.unit,\n          stock.total,\n          p.prices.msrp,\n          p.prices.shopify,\n          p.prices.amazon,\n          p.prices.wholesale,\n          p.cost.rolling,\n          p.cost.fixed,\n        ].join(',');\n      }),\n    ].join('\\n');\n\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `inventory-export-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n\n    success(`Exported ${dataToExport.length} product(s) to CSV`);\n  };\n\n  // Close modals\n  const handleCloseAddModal = () => {\n    setIsAddModalOpen(false);\n    setEditingProduct(null);\n  };\n\n  const handleCloseAdjustModal = () => {\n    setIsAdjustModalOpen(false);\n    setAdjustingProduct(null);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-white\">Inventory</h1>\n          <p className=\"text-sm text-slate-400\">Manage products, pricing, and stock levels</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <button\n            onClick={() => setIsSerialLookupOpen(true)}\n            className=\"px-4 py-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/30 text-purple-400 rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <Hash className=\"w-4 h-4\" />\n            Serial Lookup\n          </button>\n          <Link\n            href=\"/inventory/lots\"\n            className=\"px-4 py-2 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/30 text-purple-400 rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <Layers className=\"w-4 h-4\" />\n            Lot Inventory\n          </Link>\n          <button\n            onClick={handleExport}\n            className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-download text-sm\"></i>\n            Export\n          </button>\n          <Link\n            href=\"/inventory/counts\"\n            className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-clipboard-check text-sm\"></i>\n            Count Stock\n          </Link>\n          <Link\n            href=\"/inventory/transfers\"\n            className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-exchange-alt text-sm\"></i>\n            Transfers\n          </Link>\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowImportDropdown(!showImportDropdown)}\n              className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2\"\n            >\n              <i className=\"fas fa-upload text-sm\"></i>\n              Import\n              <i className=\"fas fa-chevron-down text-xs\"></i>\n            </button>\n            {showImportDropdown && (\n              <>\n                <div\n                  className=\"fixed inset-0 z-40\"\n                  onClick={() => setShowImportDropdown(false)}\n                />\n                <div className=\"absolute right-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50 overflow-hidden\">\n                  <button\n                    onClick={() => {\n                      setIsImportModalOpen(true);\n                      setShowImportDropdown(false);\n                    }}\n                    className=\"w-full px-4 py-3 text-left text-slate-300 hover:bg-slate-700 transition-colors flex items-center gap-3\"\n                  >\n                    <div className=\"w-8 h-8 bg-emerald-500/20 rounded-lg flex items-center justify-center\">\n                      <i className=\"fas fa-file-csv text-emerald-400\"></i>\n                    </div>\n                    <div>\n                      <div className=\"font-medium text-white\">Import CSV</div>\n                      <div className=\"text-xs text-slate-400\">Generic CSV format</div>\n                    </div>\n                  </button>\n                  <button\n                    onClick={() => {\n                      setIsInflowModalOpen(true);\n                      setShowImportDropdown(false);\n                    }}\n                    className=\"w-full px-4 py-3 text-left text-slate-300 hover:bg-slate-700 transition-colors flex items-center gap-3 border-t border-slate-700\"\n                  >\n                    <div className=\"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center\">\n                      <i className=\"fas fa-exchange-alt text-blue-400\"></i>\n                    </div>\n                    <div>\n                      <div className=\"font-medium text-white\">Import from inFlow</div>\n                      <div className=\"text-xs text-slate-400\">inFlow Inventory export</div>\n                    </div>\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n          <button\n            onClick={() => setIsAddModalOpen(true)}\n            className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-plus text-sm\"></i>\n            Add Product\n          </button>\n        </div>\n      </div>\n\n      {/* Active Filters Banner */}\n      {activeFiltersList.length > 0 && (\n        <ActiveFilters\n          filters={activeFiltersList}\n          onRemove={handleRemoveFilter}\n          onClearAll={handleClearAllFilters}\n        />\n      )}\n\n      {/* Stats Row */}\n      <div className=\"grid grid-cols-5 gap-4\">\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n          <div className=\"text-sm text-slate-400 mb-1\">Total Products</div>\n          <div className=\"text-2xl font-bold text-white\">{stats.totalProducts}</div>\n          <div className=\"text-xs text-slate-500 mt-1\">Active SKUs</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n          <div className=\"text-sm text-slate-400 mb-1\">Total Units</div>\n          <div className=\"text-2xl font-bold text-white\">{formatNumber(stats.totalUnits)}</div>\n          <div className=\"text-xs text-slate-500 mt-1\">Across all locations</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n          <div className=\"text-sm text-slate-400 mb-1\">Inventory Value</div>\n          <div className=\"text-2xl font-bold text-white\">{formatCurrency(stats.inventoryValue)}</div>\n          <div className=\"text-xs text-slate-500 mt-1\">At MSRP</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n          <div className=\"text-sm text-slate-400 mb-1\">Cost on Hand</div>\n          <div className=\"text-2xl font-bold text-emerald-400\">{formatCurrency(stats.costOnHand)}</div>\n          <div className=\"text-xs text-slate-500 mt-1\">{stats.overallMargin.toFixed(1)}% margin</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n          <div className=\"text-sm text-slate-400 mb-1\">Low Stock Items</div>\n          <div className=\"text-2xl font-bold text-amber-400\">{stats.lowStockCount}</div>\n          <div className=\"text-xs text-red-400 mt-1\">{stats.outOfStockCount} out of stock</div>\n        </div>\n      </div>\n\n      {/* Filters Row */}\n      <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n        <div className=\"flex items-center gap-4\">\n          {/* Search */}\n          <div className=\"flex-1 relative\">\n            <i className=\"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400\"></i>\n            <input\n              type=\"text\"\n              placeholder=\"Search by SKU, name, or barcode...\"\n              value={searchQuery}\n              onChange={(e) => {\n                setSearchQuery(e.target.value);\n                setCurrentPage(1);\n              }}\n              onBlur={() => {\n                if (urlInitialized) updateUrlParams({ search: searchQuery });\n              }}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' && urlInitialized) {\n                  updateUrlParams({ search: searchQuery });\n                }\n              }}\n              className=\"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-400 focus:outline-none focus:border-emerald-500/50 focus:ring-1 focus:ring-emerald-500/50\"\n            />\n          </div>\n\n          {/* Category Filter */}\n          <select\n            value={categoryFilter}\n            onChange={(e) => {\n              const val = e.target.value as CategoryFilter;\n              setCategoryFilter(val);\n              setCurrentPage(1);\n              if (urlInitialized) updateUrlParams({ category: val });\n            }}\n            className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50\"\n          >\n            <option value=\"all\">All Categories</option>\n            <option value=\"nutrients\">Nutrients</option>\n            <option value=\"supplements\">Supplements</option>\n            <option value=\"ph_adjusters\">pH Adjusters</option>\n            <option value=\"bundles\">Bundles</option>\n          </select>\n\n          {/* Location Filter */}\n          <select\n            value={locationFilter}\n            onChange={(e) => {\n              const val = e.target.value;\n              setLocationFilter(val);\n              setCurrentPage(1);\n              if (urlInitialized) updateUrlParams({ location: val });\n            }}\n            className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50\"\n          >\n            <option value=\"all\">All Locations</option>\n            {state.locations.map(loc => (\n              <option key={loc.id} value={loc.id}>{loc.name}</option>\n            ))}\n          </select>\n\n          {/* Stock Status Filter */}\n          <select\n            value={statusFilter}\n            onChange={(e) => {\n              const val = e.target.value as StatusFilter;\n              setStatusFilter(val);\n              setCurrentPage(1);\n              if (urlInitialized) updateUrlParams({ status: val });\n            }}\n            className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2.5 text-slate-300 focus:outline-none focus:border-emerald-500/50\"\n          >\n            <option value=\"all\">All Stock Levels</option>\n            <option value=\"in_stock\">In Stock</option>\n            <option value=\"low_stock\">Low Stock</option>\n            <option value=\"out_of_stock\">Out of Stock</option>\n          </select>\n\n          {/* View Toggle */}\n          <div className=\"flex items-center bg-slate-800/50 border border-slate-700 rounded-lg p-1\">\n            <button\n              onClick={() => setViewMode('list')}\n              className={`px-3 py-1.5 rounded-md text-sm ${\n                viewMode === 'list'\n                  ? 'bg-emerald-500/20 text-emerald-400'\n                  : 'text-slate-400 hover:text-white'\n              }`}\n            >\n              <i className=\"fas fa-list\"></i>\n            </button>\n            <button\n              onClick={() => setViewMode('grid')}\n              className={`px-3 py-1.5 rounded-md text-sm ${\n                viewMode === 'grid'\n                  ? 'bg-emerald-500/20 text-emerald-400'\n                  : 'text-slate-400 hover:text-white'\n              }`}\n            >\n              <i className=\"fas fa-grip\"></i>\n            </button>\n          </div>\n        </div>\n\n        {/* Bulk Actions */}\n        {selectedProducts.size > 0 && (\n          <div className=\"flex items-center gap-3 mt-4 pt-4 border-t border-slate-700/50\">\n            <span className=\"text-sm text-slate-400\">\n              {selectedProducts.size} selected\n            </span>\n            <button\n              onClick={handleExport}\n              className=\"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg text-sm transition-colors\"\n            >\n              <i className=\"fas fa-download mr-2\"></i>\n              Export Selected\n            </button>\n            <button\n              onClick={handleBulkDelete}\n              className=\"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg text-sm transition-colors\"\n            >\n              <i className=\"fas fa-trash mr-2\"></i>\n              Delete Selected\n            </button>\n            <button\n              onClick={() => setSelectedProducts(new Set())}\n              className=\"px-3 py-1.5 text-slate-400 hover:text-white text-sm transition-colors\"\n            >\n              Clear Selection\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Grid View */}\n      {viewMode === 'grid' && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n          {paginatedProducts.map((product) => {\n            const stock = getProductStock(product.id);\n            const status = getStockStatus(product);\n            const avgMargin = getAvgMargin(product);\n\n            return (\n              <div\n                key={product.id}\n                onClick={() => handleRowClick(product.id)}\n                className={`bg-slate-800/50 backdrop-blur border rounded-xl p-4 cursor-pointer transition-all hover:border-slate-600 ${\n                  selectedProducts.has(product.id) ? 'border-emerald-500/50 bg-emerald-500/5' : 'border-slate-700/50'\n                }`}\n              >\n                <div className=\"flex items-start justify-between mb-3\">\n                  <CategoryIcon category={product.category} />\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedProducts.has(product.id)}\n                    onChange={() => {}}\n                    onClick={(e) => handleCheckbox(product.id, e)}\n                    className=\"rounded bg-slate-700 border-slate-600\"\n                  />\n                </div>\n\n                <h3 className=\"font-medium text-white mb-1 line-clamp-1\">{product.name}</h3>\n                <p className=\"text-xs text-slate-400 mb-3\">{product.sku}</p>\n\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div className={`text-lg font-bold ${\n                    status === 'in_stock' ? 'text-emerald-400' :\n                    status === 'low_stock' ? 'text-amber-400' : 'text-red-400'\n                  }`}>\n                    {formatNumber(stock.total)} units\n                  </div>\n                  <StockStatus status={status} />\n                </div>\n\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-slate-400\">{formatCurrency(product.prices.msrp)}</span>\n                  <span className=\"text-emerald-400\">{avgMargin.toFixed(1)}% margin</span>\n                </div>\n\n                <div className=\"flex items-center gap-2 mt-4 pt-4 border-t border-slate-700/50\">\n                  <button\n                    onClick={(e) => handleEditProduct(product, e)}\n                    className=\"flex-1 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg text-sm transition-colors\"\n                  >\n                    <i className=\"fas fa-edit mr-1\"></i>\n                    Edit\n                  </button>\n                  <button\n                    onClick={(e) => handleAdjustStock(product, e)}\n                    className=\"flex-1 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg text-sm transition-colors\"\n                  >\n                    <i className=\"fas fa-boxes-stacked mr-1\"></i>\n                    Stock\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* List View / Table */}\n      {viewMode === 'list' && (\n        <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead>\n                <tr className=\"bg-slate-800/50 border-b border-slate-700/50\">\n                  <th className=\"px-4 py-3 text-left\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedProducts.size === paginatedProducts.length && paginatedProducts.length > 0}\n                      onChange={handleSelectAll}\n                      className=\"rounded bg-slate-700 border-slate-600\"\n                    />\n                  </th>\n                  <th className=\"px-4 py-3 text-left text-sm font-medium text-slate-400\">Product</th>\n                  <th className=\"px-4 py-3 text-left text-sm font-medium text-slate-400\">SKUs</th>\n                  <th className=\"px-4 py-3 text-center text-sm font-medium text-slate-400\">Stock</th>\n                  <th className=\"px-4 py-3 text-right text-sm font-medium text-slate-400\">Cost</th>\n                  <th className=\"px-4 py-3 text-right text-sm font-medium text-slate-400\">MSRP</th>\n                  <th className=\"px-4 py-3 text-right text-sm font-medium text-slate-400\">Shopify</th>\n                  <th className=\"px-4 py-3 text-right text-sm font-medium text-slate-400\">Amazon</th>\n                  <th className=\"px-4 py-3 text-right text-sm font-medium text-slate-400\">Wholesale</th>\n                  <th className=\"px-4 py-3 text-center text-sm font-medium text-slate-400\">Avg Margin</th>\n                  <th className=\"px-4 py-3 text-center text-sm font-medium text-slate-400\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {paginatedProducts.map((product) => {\n                  const stock = getProductStock(product.id);\n                  const status = getStockStatus(product);\n                  const avgMargin = getAvgMargin(product);\n\n                  return (\n                    <tr\n                      key={product.id}\n                      onClick={() => handleRowClick(product.id)}\n                      className={`transition-colors cursor-pointer border-b border-slate-700/30 hover:bg-slate-800/30 ${\n                        selectedProducts.has(product.id) ? 'bg-emerald-500/5' : ''\n                      }`}\n                    >\n                      {/* Checkbox */}\n                      <td className=\"px-4 py-4\" onClick={(e) => handleCheckbox(product.id, e)}>\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedProducts.has(product.id)}\n                          onChange={() => {}}\n                          className=\"rounded bg-slate-700 border-slate-600\"\n                        />\n                      </td>\n\n                      {/* Product */}\n                      <td className=\"px-4 py-4\">\n                        <div className=\"flex items-center gap-3\">\n                          <CategoryIcon category={product.category} />\n                          <div>\n                            <div className=\"font-medium text-white\">{product.name}</div>\n                            <div className=\"text-xs text-slate-400\">{getCategoryLabel(product.category)}  {product.weight.value} {product.weight.unit}</div>\n                          </div>\n                        </div>\n                      </td>\n\n                      {/* SKUs */}\n                      <td className=\"px-4 py-4\">\n                        <div className=\"space-y-1\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"text-xs text-slate-500 w-16\">Internal:</span>\n                            <code className=\"text-xs bg-slate-800 px-2 py-0.5 rounded text-slate-300\">{product.sku}</code>\n                          </div>\n                          {product.skus?.shopify && (\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"text-xs text-green-400 w-16\"><i className=\"fab fa-shopify\"></i></span>\n                              <code className=\"text-xs bg-slate-800 px-2 py-0.5 rounded text-slate-300\">{product.skus.shopify}</code>\n                            </div>\n                          )}\n                          {product.skus?.amazon && (\n                            <div className=\"flex items-center gap-2\">\n                              <span className=\"text-xs text-orange-400 w-16\"><i className=\"fab fa-amazon\"></i></span>\n                              <code className=\"text-xs bg-slate-800 px-2 py-0.5 rounded text-slate-300\">{product.skus.amazon}</code>\n                            </div>\n                          )}\n                        </div>\n                      </td>\n\n                      {/* Stock */}\n                      <td className=\"px-4 py-4\">\n                        <div className=\"text-center\">\n                          <div className={`text-lg font-bold ${\n                            status === 'in_stock' ? 'text-emerald-400' :\n                            status === 'low_stock' ? 'text-amber-400' : 'text-red-400'\n                          }`}>\n                            {formatNumber(stock.total)}\n                          </div>\n                          <div className=\"text-xs text-slate-500 mt-1\">\n                            {state.locations.slice(0, 2).map((loc, i) => (\n                              <span key={loc.id}>\n                                {i > 0 && '  '}\n                                <span className={i === 0 ? 'text-blue-400' : 'text-orange-400'}>\n                                  {stock.byLocation[loc.id] || 0}\n                                </span> {loc.name.split(' ')[0]}\n                              </span>\n                            ))}\n                          </div>\n                          <StockStatus status={status} compact />\n                        </div>\n                      </td>\n\n                      {/* Cost */}\n                      <td className=\"px-4 py-4 text-right\">\n                        <div className=\"text-sm text-white\">{formatCurrency(product.cost.rolling)}</div>\n                        <div className=\"text-xs text-slate-500\">Rolling Avg</div>\n                        <div className=\"text-xs text-slate-400\">Fixed: {formatCurrency(product.cost.fixed)}</div>\n                      </td>\n\n                      {/* MSRP */}\n                      <td className=\"px-4 py-4 text-right\">\n                        <div className=\"text-sm font-medium text-white\">{formatCurrency(product.prices.msrp)}</div>\n                        <div className=\"text-xs text-emerald-400\">{calculateMargin(product.prices.msrp, product.cost.rolling).toFixed(1)}%</div>\n                      </td>\n\n                      {/* Shopify */}\n                      <td className=\"px-4 py-4 text-right\">\n                        <div className=\"text-sm text-white\">{formatCurrency(product.prices.shopify)}</div>\n                        <div className=\"text-xs text-emerald-400\">{calculateMargin(product.prices.shopify, product.cost.rolling).toFixed(1)}%</div>\n                      </td>\n\n                      {/* Amazon */}\n                      <td className=\"px-4 py-4 text-right\">\n                        <div className=\"text-sm text-white\">{formatCurrency(product.prices.amazon)}</div>\n                        <div className=\"text-xs text-emerald-400\">{calculateMargin(product.prices.amazon, product.cost.rolling).toFixed(1)}%</div>\n                      </td>\n\n                      {/* Wholesale */}\n                      <td className=\"px-4 py-4 text-right\">\n                        <div className=\"text-sm text-white\">{formatCurrency(product.prices.wholesale)}</div>\n                        <div className=\"text-xs text-emerald-400\">{calculateMargin(product.prices.wholesale, product.cost.rolling).toFixed(1)}%</div>\n                      </td>\n\n                      {/* Avg Margin */}\n                      <td className=\"px-4 py-4 text-center\">\n                        <div className=\"inline-flex items-center gap-1 px-2 py-1 bg-emerald-500/10 text-emerald-400 rounded-full text-sm font-medium\">\n                          {avgMargin.toFixed(1)}%\n                        </div>\n                      </td>\n\n                      {/* Actions */}\n                      <td className=\"px-4 py-4\" onClick={(e) => e.stopPropagation()}>\n                        <div className=\"flex items-center justify-center gap-1\">\n                          <button\n                            onClick={(e) => handleEditProduct(product, e)}\n                            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors\"\n                            title=\"Edit\"\n                          >\n                            <i className=\"fas fa-edit text-sm\"></i>\n                          </button>\n                          <button\n                            onClick={(e) => handleAdjustStock(product, e)}\n                            className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors\"\n                            title=\"Adjust Stock\"\n                          >\n                            <i className=\"fas fa-boxes-stacked text-sm\"></i>\n                          </button>\n                          <button\n                            onClick={(e) => handleDeleteProduct(product, e)}\n                            className=\"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded-lg transition-colors\"\n                            title=\"Delete\"\n                          >\n                            <i className=\"fas fa-trash text-sm\"></i>\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Empty State */}\n          {filteredProducts.length === 0 && (\n            <div className=\"py-12 text-center\">\n              <i className=\"fas fa-box-open text-4xl text-slate-600 mb-4\"></i>\n              <p className=\"text-sm text-slate-400\">No products found</p>\n              {searchQuery && (\n                <button\n                  onClick={() => setSearchQuery('')}\n                  className=\"mt-2 text-emerald-400 hover:text-emerald-300 text-sm\"\n                >\n                  Clear search\n                </button>\n              )}\n            </div>\n          )}\n\n          {/* Pagination */}\n          <Pagination\n            currentPage={currentPage}\n            totalPages={totalPages}\n            totalItems={filteredProducts.length}\n            itemsPerPage={itemsPerPage}\n            itemLabel=\"products\"\n            onPageChange={setCurrentPage}\n          />\n        </div>\n      )}\n\n      {/* Legend */}\n      <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-6 text-sm\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-slate-400\">Stock Locations:</span>\n              {state.locations.slice(0, 3).map((loc, i) => (\n                <span key={loc.id}>\n                  {i > 0 && <span className=\"text-slate-500 mx-1\"></span>}\n                  <span className={i === 0 ? 'text-blue-400' : i === 1 ? 'text-orange-400' : 'text-purple-400'}>\n                    {loc.name}\n                  </span>\n                </span>\n              ))}\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-slate-400\">Margin = Profit Margin (not markup)</span>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-4 text-sm\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"w-3 h-3 rounded bg-emerald-500/20 border border-emerald-500/30\"></span>\n              <span className=\"text-slate-400\">In Stock</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"w-3 h-3 rounded bg-amber-500/20 border border-amber-500/30\"></span>\n              <span className=\"text-slate-400\">Low Stock</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"w-3 h-3 rounded bg-red-500/20 border border-red-500/30\"></span>\n              <span className=\"text-slate-400\">Out of Stock</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Modals */}\n      <AddProductModal\n        isOpen={isAddModalOpen}\n        onClose={handleCloseAddModal}\n        editProduct={editingProduct}\n      />\n\n      <AdjustStockModal\n        isOpen={isAdjustModalOpen}\n        onClose={handleCloseAdjustModal}\n        product={adjustingProduct}\n      />\n\n      <ImportCSVModal\n        isOpen={isImportModalOpen}\n        onClose={() => setIsImportModalOpen(false)}\n      />\n\n      {/* Serial Lookup Modal */}\n      <Modal\n        open={isSerialLookupOpen}\n        onClose={() => setIsSerialLookupOpen(false)}\n        title=\"Serial Number Lookup\"\n        subtitle=\"Look up serial number status and history\"\n        size=\"lg\"\n      >\n        <SerialLookup embedded onClose={() => setIsSerialLookupOpen(false)} />\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}