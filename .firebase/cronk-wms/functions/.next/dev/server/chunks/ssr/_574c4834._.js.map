{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/lib/formatting.ts"],"sourcesContent":["/**\n * Shared formatting utilities\n */\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(amount);\n}\n\nexport function formatCurrencyPrecise(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(amount);\n}\n\nexport function formatNumber(num: number): string {\n  return new Intl.NumberFormat('en-US').format(num);\n}\n\nexport function formatPercent(num: number, showSign: boolean = true): string {\n  if (showSign) {\n    return `${num >= 0 ? '+' : ''}${num.toFixed(1)}%`;\n  }\n  return `${num.toFixed(1)}%`;\n}\n\nexport function formatWeight(oz: number): string {\n  if (oz >= 16) {\n    return `${(oz / 16).toFixed(1)} lbs`;\n  }\n  return `${oz.toFixed(1)} oz`;\n}\n\nexport function formatDate(date: string | Date): string {\n  return new Date(date).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\nexport function formatDateTime(date: string | Date): string {\n  return new Date(date).toLocaleString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n  });\n}\n\nexport function formatRelativeTime(date: string | Date): string {\n  const now = new Date();\n  const then = new Date(date);\n  const diffMs = now.getTime() - then.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays < 7) return `${diffDays}d ago`;\n  return formatDate(date);\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;AAEM,SAAS,eAAe,MAAc;IAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,sBAAsB,MAAc;IAClD,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,aAAa,GAAW;IACtC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;AAC/C;AAEO,SAAS,cAAc,GAAW,EAAE,WAAoB,IAAI;IACjE,IAAI,UAAU;QACZ,OAAO,GAAG,OAAO,IAAI,MAAM,KAAK,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;IACnD;IACA,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;AAC7B;AAEO,SAAS,aAAa,EAAU;IACrC,IAAI,MAAM,IAAI;QACZ,OAAO,GAAG,CAAC,KAAK,EAAE,EAAE,OAAO,CAAC,GAAG,IAAI,CAAC;IACtC;IACA,OAAO,GAAG,GAAG,OAAO,CAAC,GAAG,GAAG,CAAC;AAC9B;AAEO,SAAS,WAAW,IAAmB;IAC5C,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;QAChD,OAAO;QACP,KAAK;QACL,MAAM;IACR;AACF;AAEO,SAAS,eAAe,IAAmB;IAChD,OAAO,IAAI,KAAK,MAAM,cAAc,CAAC,SAAS;QAC5C,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV;AACF;AAEO,SAAS,mBAAmB,IAAmB;IACpD,MAAM,MAAM,IAAI;IAChB,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,SAAS,IAAI,OAAO,KAAK,KAAK,OAAO;IAC3C,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;IACrC,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;IACtC,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;IAErC,IAAI,WAAW,GAAG,OAAO;IACzB,IAAI,WAAW,IAAI,OAAO,GAAG,SAAS,KAAK,CAAC;IAC5C,IAAI,YAAY,IAAI,OAAO,GAAG,UAAU,KAAK,CAAC;IAC9C,IAAI,WAAW,GAAG,OAAO,GAAG,SAAS,KAAK,CAAC;IAC3C,OAAO,WAAW;AACpB"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/lib/ruleTemplates.ts"],"sourcesContent":["import type { RuleTrigger, RuleCondition, RuleAction } from '@/context/AppContext';\n\nexport interface RuleTemplate {\n  id: string;\n  name: string;\n  description: string;\n  category: 'shipping' | 'tagging' | 'inventory' | 'notification';\n  trigger: RuleTrigger;\n  conditions: Omit<RuleCondition, 'id'>[];\n  actions: Omit<RuleAction, 'id'>[];\n}\n\nexport const ruleTemplates: RuleTemplate[] = [\n  // Shipping Templates\n  {\n    id: 'tpl-usps-small',\n    name: 'Auto-assign USPS for small orders',\n    description: 'Orders under $50 with weight less than 1lb ship USPS First Class',\n    category: 'shipping',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'total', operator: 'less_than', value: 50 }\n    ],\n    actions: [\n      { type: 'assign_carrier', config: { carrier: 'usps' } },\n      { type: 'assign_service', config: { service: 'first_class' } }\n    ]\n  },\n  {\n    id: 'tpl-ups-heavy',\n    name: 'Use UPS for heavy orders',\n    description: 'Orders over 5lbs ship via UPS Ground',\n    category: 'shipping',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'weight', operator: 'greater_than', value: 80 } // 80oz = 5lbs\n    ],\n    actions: [\n      { type: 'assign_carrier', config: { carrier: 'ups' } },\n      { type: 'assign_service', config: { service: 'ground' } }\n    ]\n  },\n  {\n    id: 'tpl-fedex-express',\n    name: 'FedEx for high-value orders',\n    description: 'Orders over $200 ship FedEx with signature required',\n    category: 'shipping',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'total', operator: 'greater_than', value: 200 }\n    ],\n    actions: [\n      { type: 'assign_carrier', config: { carrier: 'fedex' } },\n      { type: 'assign_service', config: { service: 'express_saver' } }\n    ]\n  },\n\n  // Tagging Templates\n  {\n    id: 'tpl-prime-tag',\n    name: 'Tag Amazon Prime orders as urgent',\n    description: 'Add PRIME tag and set high priority for Amazon Prime orders',\n    category: 'tagging',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'is_prime', operator: 'equals', value: true }\n    ],\n    actions: [\n      { type: 'set_order_tag', config: { tag: 'PRIME' } },\n      { type: 'set_priority', config: { priority: 'high' } }\n    ]\n  },\n  {\n    id: 'tpl-wholesale-tag',\n    name: 'Tag wholesale orders',\n    description: 'Add WHOLESALE tag and notify team for bulk orders',\n    category: 'tagging',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'item_count', operator: 'greater_than', value: 10 }\n    ],\n    actions: [\n      { type: 'set_order_tag', config: { tag: 'WHOLESALE' } },\n      { type: 'send_notification', config: { message: 'New wholesale order received' } }\n    ]\n  },\n  {\n    id: 'tpl-international-tag',\n    name: 'Tag international orders',\n    description: 'Flag orders shipping outside the US',\n    category: 'tagging',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'shipping_country', operator: 'not_equals', value: 'US' }\n    ],\n    actions: [\n      { type: 'set_order_tag', config: { tag: 'INTERNATIONAL' } },\n      { type: 'set_priority', config: { priority: 'low' } }\n    ]\n  },\n  {\n    id: 'tpl-fragile-tag',\n    name: 'Tag fragile product orders',\n    description: 'Add FRAGILE tag when order contains specific SKUs',\n    category: 'tagging',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'contains_sku', operator: 'contains', value: '4L' }\n    ],\n    actions: [\n      { type: 'set_order_tag', config: { tag: 'FRAGILE' } }\n    ]\n  },\n\n  // Inventory Templates\n  {\n    id: 'tpl-low-stock-alert',\n    name: 'Create PO when stock is low',\n    description: 'Automatically create a PO draft and notify when stock drops below threshold',\n    category: 'inventory',\n    trigger: { type: 'low_stock', threshold: 50 },\n    conditions: [],\n    actions: [\n      { type: 'create_po_draft', config: { quantity: 100 } },\n      { type: 'send_notification', config: { message: 'Low stock alert! PO draft created.' } }\n    ]\n  },\n  {\n    id: 'tpl-critical-stock',\n    name: 'Critical stock email alert',\n    description: 'Send urgent email when stock is critically low',\n    category: 'inventory',\n    trigger: { type: 'low_stock', threshold: 10 },\n    conditions: [],\n    actions: [\n      { type: 'send_email', config: { recipient: 'admin@company.com', subject: 'URGENT: Critical stock level' } },\n      { type: 'send_notification', config: { message: 'CRITICAL: Stock nearly depleted!' } }\n    ]\n  },\n\n  // Notification Templates\n  {\n    id: 'tpl-new-order-notify',\n    name: 'Notify on new Shopify orders',\n    description: 'Send notification when a new Shopify order is received',\n    category: 'notification',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'channel', operator: 'equals', value: 'shopify' }\n    ],\n    actions: [\n      { type: 'send_notification', config: { message: 'New Shopify order received!' } }\n    ]\n  },\n  {\n    id: 'tpl-vip-customer',\n    name: 'VIP customer alert',\n    description: 'Notify when orders come from VIP email domains',\n    category: 'notification',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'total', operator: 'greater_than', value: 500 }\n    ],\n    actions: [\n      { type: 'set_order_tag', config: { tag: 'VIP' } },\n      { type: 'set_priority', config: { priority: 'urgent' } },\n      { type: 'send_notification', config: { message: 'VIP order received - prioritize!' } }\n    ]\n  },\n  {\n    id: 'tpl-gripper-sticker',\n    name: 'Add gripper sticker to every bottle',\n    description: 'Automatically add gripper stickers to orders containing bottles',\n    category: 'shipping',\n    trigger: { type: 'order_created' },\n    conditions: [\n      { field: 'contains_sku', operator: 'contains', value: 'CN' }\n    ],\n    actions: [\n      { type: 'add_fulfillment_item', config: { productId: 'gripper-sku', quantity: 1 } }\n    ]\n  }\n];\n\n// Get templates by category\nexport function getTemplatesByCategory(category: RuleTemplate['category']): RuleTemplate[] {\n  return ruleTemplates.filter(t => t.category === category);\n}\n\n// Get all unique categories\nexport function getTemplateCategories(): RuleTemplate['category'][] {\n  return [...new Set(ruleTemplates.map(t => t.category))];\n}\n\n// Get category label\nexport function getCategoryLabel(category: RuleTemplate['category']): string {\n  const labels: Record<RuleTemplate['category'], string> = {\n    shipping: 'Shipping & Carriers',\n    tagging: 'Order Tagging',\n    inventory: 'Inventory Management',\n    notification: 'Notifications'\n  };\n  return labels[category];\n}\n\n// Get category icon (Font Awesome class)\nexport function getCategoryIcon(category: RuleTemplate['category']): string {\n  const icons: Record<RuleTemplate['category'], string> = {\n    shipping: 'fa-truck',\n    tagging: 'fa-tags',\n    inventory: 'fa-boxes',\n    notification: 'fa-bell'\n  };\n  return icons[category];\n}\n\n// Trigger options for the UI\nexport const triggerOptions = [\n  {\n    type: 'order_created' as const,\n    icon: 'ShoppingCart',\n    label: 'New Order',\n    description: 'When an order is created'\n  },\n  {\n    type: 'order_status_changed' as const,\n    icon: 'ArrowLeftRight',\n    label: 'Status Change',\n    description: 'When order status changes'\n  },\n  {\n    type: 'low_stock' as const,\n    icon: 'AlertTriangle',\n    label: 'Low Stock',\n    description: 'When stock falls below threshold'\n  },\n  {\n    type: 'item_received' as const,\n    icon: 'PackageCheck',\n    label: 'Item Received',\n    description: 'When inventory is received'\n  },\n  {\n    type: 'daily' as const,\n    icon: 'Clock',\n    label: 'Scheduled',\n    description: 'Run at a specific time daily'\n  },\n  {\n    type: 'manual' as const,\n    icon: 'Hand',\n    label: 'Manual',\n    description: 'Run manually when triggered'\n  }\n];\n\n// Action options for the UI\nexport const actionOptions = [\n  { type: 'set_order_tag', label: 'Add Order Tag', icon: 'Tag' },\n  { type: 'set_priority', label: 'Set Priority', icon: 'Flag' },\n  { type: 'assign_carrier', label: 'Assign Carrier', icon: 'Truck' },\n  { type: 'assign_service', label: 'Assign Shipping Service', icon: 'Package' },\n  { type: 'select_box', label: 'Select Box', icon: 'Box' },\n  { type: 'add_fulfillment_item', label: 'Add Fulfillment Item', icon: 'Plus' },\n  { type: 'send_notification', label: 'Send Notification', icon: 'Bell' },\n  { type: 'create_po_draft', label: 'Create PO Draft', icon: 'FileText' },\n  { type: 'send_email', label: 'Send Email', icon: 'Mail' },\n  { type: 'set_location', label: 'Set Location', icon: 'MapPin' }\n];\n\n// Operator options\nexport const operatorOptions = [\n  { value: 'equals', label: 'equals' },\n  { value: 'not_equals', label: 'does not equal' },\n  { value: 'contains', label: 'contains' },\n  { value: 'greater_than', label: 'is greater than' },\n  { value: 'less_than', label: 'is less than' },\n  { value: 'in_list', label: 'is one of' }\n];\n\n// Priority options\nexport const priorityOptions = [\n  { value: 'low', label: 'Low' },\n  { value: 'normal', label: 'Normal' },\n  { value: 'high', label: 'High' },\n  { value: 'urgent', label: 'Urgent' }\n];\n\n// Carrier options\nexport const carrierOptions = [\n  { value: 'usps', label: 'USPS' },\n  { value: 'ups', label: 'UPS' },\n  { value: 'fedex', label: 'FedEx' },\n  { value: 'dhl', label: 'DHL' }\n];\n\n// Service options per carrier\nexport const serviceOptions: Record<string, { value: string; label: string }[]> = {\n  usps: [\n    { value: 'first_class', label: 'First Class' },\n    { value: 'priority', label: 'Priority Mail' },\n    { value: 'priority_express', label: 'Priority Express' },\n    { value: 'ground_advantage', label: 'Ground Advantage' }\n  ],\n  ups: [\n    { value: 'ground', label: 'UPS Ground' },\n    { value: 'three_day_select', label: '3 Day Select' },\n    { value: 'second_day_air', label: '2nd Day Air' },\n    { value: 'next_day_air', label: 'Next Day Air' }\n  ],\n  fedex: [\n    { value: 'ground', label: 'FedEx Ground' },\n    { value: 'home_delivery', label: 'Home Delivery' },\n    { value: 'express_saver', label: 'Express Saver' },\n    { value: 'standard_overnight', label: 'Standard Overnight' }\n  ],\n  dhl: [\n    { value: 'express', label: 'DHL Express' },\n    { value: 'express_worldwide', label: 'Express Worldwide' }\n  ]\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 706, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/lib/automationEngine.ts"],"sourcesContent":["import type {\n  AutomationRule,\n  RuleCondition,\n  RuleAction,\n  Order\n} from '@/context/AppContext';\n\n// Evaluate a single condition against a context\nexport function evaluateCondition(\n  condition: RuleCondition,\n  context: Record<string, any>\n): boolean {\n  const fieldValue = context[condition.field];\n\n  // Handle special case for contains_sku which is a function\n  if (condition.field === 'contains_sku' && typeof context.contains_sku === 'function') {\n    return context.contains_sku(condition.value);\n  }\n\n  switch (condition.operator) {\n    case 'equals':\n      return fieldValue === condition.value;\n    case 'not_equals':\n      return fieldValue !== condition.value;\n    case 'contains':\n      return String(fieldValue).toLowerCase().includes(String(condition.value).toLowerCase());\n    case 'greater_than':\n      return Number(fieldValue) > Number(condition.value);\n    case 'less_than':\n      return Number(fieldValue) < Number(condition.value);\n    case 'in_list':\n      if (Array.isArray(condition.value)) {\n        return condition.value.includes(fieldValue);\n      }\n      return false;\n    default:\n      return false;\n  }\n}\n\n// Evaluate all conditions (AND logic by default)\nexport function evaluateConditions(\n  conditions: RuleCondition[],\n  context: Record<string, any>\n): boolean {\n  if (conditions.length === 0) return true;\n\n  return conditions.every(condition => evaluateCondition(condition, context));\n}\n\n// Execute a single action\nexport function executeAction(\n  action: RuleAction,\n  context: Record<string, any>,\n  dispatch: React.Dispatch<any>\n): void {\n  const order = context.order as Order;\n\n  switch (action.type) {\n    case 'set_order_tag':\n      if (order) {\n        dispatch({\n          type: 'UPDATE_ORDER',\n          payload: {\n            ...order,\n            tags: [...(order.tags || []), action.config.tag],\n            updatedAt: new Date()\n          }\n        });\n      }\n      break;\n\n    case 'set_priority':\n      if (order) {\n        dispatch({\n          type: 'UPDATE_ORDER',\n          payload: {\n            ...order,\n            priority: action.config.priority,\n            updatedAt: new Date()\n          }\n        });\n      }\n      break;\n\n    case 'assign_carrier':\n      if (order) {\n        dispatch({\n          type: 'UPDATE_ORDER',\n          payload: {\n            ...order,\n            suggestedCarrier: action.config.carrier,\n            carrier: action.config.carrier,\n            updatedAt: new Date()\n          }\n        });\n      }\n      break;\n\n    case 'assign_service':\n      if (order) {\n        dispatch({\n          type: 'UPDATE_ORDER',\n          payload: {\n            ...order,\n            suggestedService: action.config.service,\n            service: action.config.service,\n            updatedAt: new Date()\n          }\n        });\n      }\n      break;\n\n    case 'select_box':\n      if (order) {\n        dispatch({\n          type: 'UPDATE_ORDER',\n          payload: {\n            ...order,\n            suggestedBoxId: action.config.boxId,\n            updatedAt: new Date()\n          }\n        });\n      }\n      break;\n\n    case 'add_fulfillment_item':\n      if (order) {\n        dispatch({\n          type: 'UPDATE_ORDER',\n          payload: {\n            ...order,\n            fulfillmentItems: [\n              ...(order.fulfillmentItems || []),\n              {\n                productId: action.config.productId,\n                quantity: action.config.quantity || 1,\n                reason: 'automation_rule'\n              }\n            ],\n            updatedAt: new Date()\n          }\n        });\n      }\n      break;\n\n    case 'send_notification':\n      // In a real app, this would trigger a notification system\n      console.log(`[Automation] Notification: ${action.config.message}`);\n      break;\n\n    case 'create_po_draft':\n      // In a real app, this would create a PO draft\n      console.log(`[Automation] Create PO draft with quantity: ${action.config.quantity}`);\n      break;\n\n    case 'send_email':\n      // In a real app, this would send an email\n      console.log(`[Automation] Send email to: ${action.config.recipient}`);\n      break;\n\n    case 'set_location':\n      // Set preferred fulfillment location\n      console.log(`[Automation] Set location: ${action.config.locationId}`);\n      break;\n\n    default:\n      console.warn(`[Automation] Unknown action type: ${action.type}`);\n  }\n}\n\n// Execute all actions for a rule\nexport function executeActions(\n  actions: RuleAction[],\n  context: Record<string, any>,\n  dispatch: React.Dispatch<any>\n): void {\n  actions.forEach(action => {\n    executeAction(action, context, dispatch);\n  });\n}\n\n// Build context object from an order\nexport function buildOrderContext(order: Order): Record<string, any> {\n  const itemCount = order.items.reduce((sum, item) => sum + item.quantity, 0);\n\n  return {\n    order,\n    channel: order.channel,\n    total: order.total,\n    subtotal: order.subtotal,\n    item_count: itemCount,\n    shipping_country: order.customer?.address?.country || '',\n    shipping_state: order.customer?.address?.state || '',\n    shipping_city: order.customer?.address?.city || '',\n    customer_email: order.customer?.email || '',\n    customer_name: order.customer?.name || '',\n    contains_sku: (sku: string) => order.items.some(item =>\n      item.sku?.toLowerCase().includes(sku.toLowerCase())\n    ),\n    weight: order.totalWeight || 0,\n    is_prime: order.isPrime || false,\n    requires_signature: order.requiresSignature || false,\n    order_number: order.orderNumber,\n    status: order.status\n  };\n}\n\n// Run all matching rules for a specific trigger\nexport function runRulesForTrigger(\n  triggerType: string,\n  context: Record<string, any>,\n  rules: AutomationRule[],\n  dispatch: React.Dispatch<any>\n): { rulesRun: number; actionsExecuted: number } {\n  let rulesRun = 0;\n  let actionsExecuted = 0;\n\n  // Filter enabled rules with matching trigger, sorted by priority\n  const matchingRules = rules\n    .filter(rule => rule.enabled && rule.trigger.type === triggerType)\n    .sort((a, b) => a.priority - b.priority);\n\n  matchingRules.forEach(rule => {\n    if (evaluateConditions(rule.conditions, context)) {\n      executeActions(rule.actions, context, dispatch);\n      rulesRun++;\n      actionsExecuted += rule.actions.length;\n    }\n  });\n\n  return { rulesRun, actionsExecuted };\n}\n\n// Helper to run rules when an order is created\nexport function runOrderCreatedRules(\n  order: Order,\n  rules: AutomationRule[],\n  dispatch: React.Dispatch<any>\n): { rulesRun: number; actionsExecuted: number } {\n  const context = buildOrderContext(order);\n  return runRulesForTrigger('order_created', context, rules, dispatch);\n}\n\n// Helper to run rules when order status changes\nexport function runOrderStatusChangedRules(\n  order: Order,\n  fromStatus: string,\n  toStatus: string,\n  rules: AutomationRule[],\n  dispatch: React.Dispatch<any>\n): { rulesRun: number; actionsExecuted: number } {\n  const context = {\n    ...buildOrderContext(order),\n    from_status: fromStatus,\n    to_status: toStatus\n  };\n\n  // Filter rules that match the status change\n  const statusRules = rules.filter(rule => {\n    if (rule.trigger.type !== 'order_status_changed') return false;\n    const trigger = rule.trigger as { type: 'order_status_changed'; fromStatus?: string; toStatus?: string };\n\n    // Check if fromStatus matches (if specified)\n    if (trigger.fromStatus && trigger.fromStatus !== fromStatus) return false;\n    // Check if toStatus matches (if specified)\n    if (trigger.toStatus && trigger.toStatus !== toStatus) return false;\n\n    return true;\n  });\n\n  let rulesRun = 0;\n  let actionsExecuted = 0;\n\n  statusRules\n    .filter(rule => rule.enabled)\n    .sort((a, b) => a.priority - b.priority)\n    .forEach(rule => {\n      if (evaluateConditions(rule.conditions, context)) {\n        executeActions(rule.actions, context, dispatch);\n        rulesRun++;\n        actionsExecuted += rule.actions.length;\n      }\n    });\n\n  return { rulesRun, actionsExecuted };\n}\n\n// Helper to run low stock rules\nexport function runLowStockRules(\n  productId: string,\n  productSku: string,\n  currentQuantity: number,\n  rules: AutomationRule[],\n  dispatch: React.Dispatch<any>\n): { rulesRun: number; actionsExecuted: number } {\n  let rulesRun = 0;\n  let actionsExecuted = 0;\n\n  const lowStockRules = rules.filter(rule => {\n    if (rule.trigger.type !== 'low_stock') return false;\n    const trigger = rule.trigger as { type: 'low_stock'; threshold?: number };\n    const threshold = trigger.threshold || 50;\n    return currentQuantity <= threshold;\n  });\n\n  const context = {\n    product_id: productId,\n    sku: productSku,\n    quantity: currentQuantity\n  };\n\n  lowStockRules\n    .filter(rule => rule.enabled)\n    .sort((a, b) => a.priority - b.priority)\n    .forEach(rule => {\n      if (evaluateConditions(rule.conditions, context)) {\n        executeActions(rule.actions, context, dispatch);\n        rulesRun++;\n        actionsExecuted += rule.actions.length;\n      }\n    });\n\n  return { rulesRun, actionsExecuted };\n}\n\n// Get human-readable trigger label\nexport function getTriggerLabel(trigger: AutomationRule['trigger']): string {\n  switch (trigger.type) {\n    case 'order_created':\n      return 'New Order';\n    case 'order_status_changed':\n      const statusTrigger = trigger as { type: 'order_status_changed'; fromStatus?: string; toStatus?: string };\n      if (statusTrigger.toStatus) {\n        return `Status → ${statusTrigger.toStatus}`;\n      }\n      return 'Status Change';\n    case 'low_stock':\n      const lowStockTrigger = trigger as { type: 'low_stock'; threshold?: number };\n      return `Low Stock (≤${lowStockTrigger.threshold || 50})`;\n    case 'item_received':\n      return 'Item Received';\n    case 'daily':\n      const dailyTrigger = trigger as { type: 'daily'; time: string };\n      return `Daily at ${dailyTrigger.time}`;\n    case 'manual':\n      return 'Manual';\n    default:\n      return 'Unknown';\n  }\n}\n\n// Get human-readable action label\nexport function getActionLabel(action: RuleAction): string {\n  switch (action.type) {\n    case 'set_order_tag':\n      return `Add tag \"${action.config.tag}\"`;\n    case 'set_priority':\n      return `Set priority to ${action.config.priority}`;\n    case 'assign_carrier':\n      return `Assign ${action.config.carrier?.toUpperCase()}`;\n    case 'assign_service':\n      return `Use ${action.config.service}`;\n    case 'select_box':\n      return `Select box ${action.config.boxId}`;\n    case 'send_notification':\n      return 'Send notification';\n    case 'add_fulfillment_item':\n      return `Add item (qty: ${action.config.quantity || 1})`;\n    case 'set_location':\n      return `Set location`;\n    case 'create_po_draft':\n      return `Create PO draft`;\n    case 'send_email':\n      return `Send email`;\n    default:\n      return 'Unknown action';\n  }\n}\n\n// Get operator label\nexport function getOperatorLabel(operator: RuleCondition['operator']): string {\n  const labels: Record<RuleCondition['operator'], string> = {\n    equals: 'equals',\n    not_equals: 'does not equal',\n    contains: 'contains',\n    greater_than: 'is greater than',\n    less_than: 'is less than',\n    in_list: 'is one of'\n  };\n  return labels[operator] || operator;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1037, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/app/orders/returns/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo, Suspense } from 'react';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { useApp, Return, ReturnReason } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport { formatCurrency } from '@/lib/formatting';\nimport { CreateReturnModal } from '@/components/modals';\nimport { Breadcrumb } from '@/components/Breadcrumb';\nimport {\n  ReturnStatusBadge,\n  ReturnChannelBadge,\n  ReturnStatCard,\n  ReturnsStatsGrid,\n  returnReasonLabels,\n  formatReturnDate,\n} from '@/components/returns';\n\ntype StatusFilter = Return['status'] | '';\ntype ReasonFilter = ReturnReason | '';\ntype ChannelFilter = Return['channel'] | '';\ntype DateFilter = 'all' | 'today' | 'yesterday' | 'last7' | 'last30' | 'thisMonth';\n\nfunction ReturnsPageContent() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const { state, dispatch } = useApp();\n  const { success, warning } = useToast();\n\n  // Modal states\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n\n  // Filter states\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<StatusFilter>(\n    (searchParams.get('status') as StatusFilter) || ''\n  );\n  const [reasonFilter, setReasonFilter] = useState<ReasonFilter>('');\n  const [channelFilter, setChannelFilter] = useState<ChannelFilter>('');\n  const [dateFilter, setDateFilter] = useState<DateFilter>('all');\n\n  // Pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 10;\n\n  // Date filtering helper\n  const filterByDate = (date: Date, filter: DateFilter) => {\n    const returnDate = new Date(date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    switch (filter) {\n      case 'today':\n        return returnDate >= today;\n      case 'yesterday':\n        const yesterday = new Date(today);\n        yesterday.setDate(yesterday.getDate() - 1);\n        return returnDate >= yesterday && returnDate < today;\n      case 'last7':\n        const last7 = new Date(today);\n        last7.setDate(last7.getDate() - 7);\n        return returnDate >= last7;\n      case 'last30':\n        const last30 = new Date(today);\n        last30.setDate(last30.getDate() - 30);\n        return returnDate >= last30;\n      case 'thisMonth':\n        return returnDate.getMonth() === today.getMonth() &&\n               returnDate.getFullYear() === today.getFullYear();\n      default:\n        return true;\n    }\n  };\n\n  // Filter returns\n  const filteredReturns = useMemo(() => {\n    return state.returns.filter(ret => {\n      const matchesSearch =\n        ret.returnNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        ret.orderNumber.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        ret.customer.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        ret.customer.email.toLowerCase().includes(searchQuery.toLowerCase());\n\n      const matchesStatus = !statusFilter || ret.status === statusFilter;\n      const matchesReason = !reasonFilter || ret.items.some(item => item.reason === reasonFilter);\n      const matchesChannel = !channelFilter || ret.channel === channelFilter;\n      const matchesDate = filterByDate(ret.createdAt, dateFilter);\n\n      return matchesSearch && matchesStatus && matchesReason && matchesChannel && matchesDate;\n    });\n  }, [state.returns, searchQuery, statusFilter, reasonFilter, channelFilter, dateFilter]);\n\n  // Pagination\n  const totalPages = Math.ceil(filteredReturns.length / itemsPerPage);\n  const paginatedReturns = filteredReturns.slice(\n    (currentPage - 1) * itemsPerPage,\n    currentPage * itemsPerPage\n  );\n\n  // Calculate stats\n  const stats = useMemo(() => {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const thisMonth = new Date(today.getFullYear(), today.getMonth(), 1);\n    const monthsReturns = state.returns.filter(r => new Date(r.createdAt) >= thisMonth);\n\n    return {\n      pendingApproval: state.returns.filter(r => r.status === 'requested').length,\n      inTransit: state.returns.filter(r => r.status === 'in_transit').length,\n      awaitingInspection: state.returns.filter(r => r.status === 'received').length,\n      readyToRefund: state.returns.filter(r => r.status === 'inspected').length,\n      monthlyRefunds: monthsReturns\n        .filter(r => r.status === 'refunded')\n        .reduce((sum, r) => sum + r.refund.total, 0),\n    };\n  }, [state.returns]);\n\n  // Handle stat click\n  const handleStatClick = (status: StatusFilter) => {\n    setStatusFilter(prev => prev === status ? '' : status);\n    setCurrentPage(1);\n  };\n\n  // Handle return actions\n  const handleApprove = (returnItem: Return, e: React.MouseEvent) => {\n    e.stopPropagation();\n    dispatch({\n      type: 'UPDATE_RETURN',\n      payload: { ...returnItem, status: 'approved', updatedAt: new Date() }\n    });\n    success(`Return ${returnItem.returnNumber} approved`);\n  };\n\n  const handleReject = (returnItem: Return, e: React.MouseEvent) => {\n    e.stopPropagation();\n    dispatch({\n      type: 'UPDATE_RETURN',\n      payload: { ...returnItem, status: 'rejected', updatedAt: new Date() }\n    });\n    warning(`Return ${returnItem.returnNumber} rejected`);\n  };\n\n  const handleMarkReceived = (returnItem: Return, e: React.MouseEvent) => {\n    e.stopPropagation();\n    dispatch({\n      type: 'UPDATE_RETURN',\n      payload: { ...returnItem, status: 'received', updatedAt: new Date() }\n    });\n    success(`Return ${returnItem.returnNumber} marked as received`);\n  };\n\n  const handleProcessRefund = (returnItem: Return, e: React.MouseEvent) => {\n    e.stopPropagation();\n    dispatch({\n      type: 'UPDATE_RETURN',\n      payload: {\n        ...returnItem,\n        status: 'refunded',\n        refund: { ...returnItem.refund, refundedAt: new Date(), refundMethod: 'original_payment' },\n        updatedAt: new Date()\n      }\n    });\n    success(`Refund of ${formatCurrency(returnItem.refund.total)} processed for ${returnItem.returnNumber}`);\n  };\n\n  // Export returns\n  const handleExport = () => {\n    const headers = ['Return #', 'Order #', 'Date', 'Customer', 'Channel', 'Items', 'Reason', 'Refund Amount', 'Status'];\n    const rows = filteredReturns.map(r => [\n      r.returnNumber,\n      r.orderNumber,\n      formatReturnDate(r.createdAt),\n      r.customer.name,\n      r.channel,\n      r.items.reduce((sum, i) => sum + i.quantity, 0),\n      r.items[0]?.reason ? returnReasonLabels[r.items[0].reason] : '',\n      r.refund.total.toFixed(2),\n      r.status\n    ]);\n\n    const csv = [headers, ...rows].map(row => row.join(',')).join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `returns-export-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n    success(`Exported ${filteredReturns.length} returns`);\n  };\n\n  const hasFilters = !!(searchQuery || statusFilter || reasonFilter || channelFilter || dateFilter !== 'all');\n\n  return (\n    <div className=\"space-y-6\">\n      <Breadcrumb items={[{ label: 'Orders', href: '/orders' }, { label: 'Returns' }]} />\n\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-white\">Returns</h1>\n          <p className=\"text-sm text-slate-400\">Process and track customer returns</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <button\n            onClick={handleExport}\n            className=\"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-download text-sm\"></i>\n            Export\n          </button>\n          <button\n            onClick={() => setIsCreateModalOpen(true)}\n            className=\"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-plus text-sm\"></i>\n            Create Return\n          </button>\n        </div>\n      </div>\n\n      {/* Stats Row */}\n      <ReturnsStatsGrid columns={5}>\n        <ReturnStatCard\n          icon=\"fa-clock\"\n          color=\"amber\"\n          value={stats.pendingApproval}\n          label=\"Pending Approval\"\n          onClick={() => handleStatClick('requested')}\n          isActive={statusFilter === 'requested'}\n        />\n        <ReturnStatCard\n          icon=\"fa-truck\"\n          color=\"purple\"\n          value={stats.inTransit}\n          label=\"In Transit\"\n          onClick={() => handleStatClick('in_transit')}\n          isActive={statusFilter === 'in_transit'}\n        />\n        <ReturnStatCard\n          icon=\"fa-box\"\n          color=\"cyan\"\n          value={stats.awaitingInspection}\n          label=\"Awaiting Inspection\"\n          onClick={() => handleStatClick('received')}\n          isActive={statusFilter === 'received'}\n        />\n        <ReturnStatCard\n          icon=\"fa-search\"\n          color=\"indigo\"\n          value={stats.readyToRefund}\n          label=\"Ready to Refund\"\n          onClick={() => handleStatClick('inspected')}\n          isActive={statusFilter === 'inspected'}\n        />\n        <ReturnStatCard\n          icon=\"fa-dollar-sign\"\n          color=\"emerald\"\n          value={formatCurrency(stats.monthlyRefunds)}\n          label=\"This Month's Refunds\"\n        />\n      </ReturnsStatsGrid>\n\n      {/* Filters */}\n      <div className=\"flex flex-wrap items-center gap-4\">\n        <div className=\"relative flex-1 min-w-[200px]\">\n          <i className=\"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-500\"></i>\n          <input\n            type=\"text\"\n            placeholder=\"Search returns...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500/50\"\n          />\n        </div>\n\n        <select\n          value={statusFilter}\n          onChange={(e) => { setStatusFilter(e.target.value as StatusFilter); setCurrentPage(1); }}\n          className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2.5 text-slate-200 focus:outline-none focus:border-emerald-500\"\n        >\n          <option value=\"\">All Statuses</option>\n          <option value=\"requested\">Requested</option>\n          <option value=\"approved\">Approved</option>\n          <option value=\"in_transit\">In Transit</option>\n          <option value=\"received\">Received</option>\n          <option value=\"inspected\">Inspected</option>\n          <option value=\"refunded\">Refunded</option>\n          <option value=\"rejected\">Rejected</option>\n        </select>\n\n        <select\n          value={reasonFilter}\n          onChange={(e) => { setReasonFilter(e.target.value as ReasonFilter); setCurrentPage(1); }}\n          className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2.5 text-slate-200 focus:outline-none focus:border-emerald-500\"\n        >\n          <option value=\"\">All Reasons</option>\n          {Object.entries(returnReasonLabels).map(([key, label]) => (\n            <option key={key} value={key}>{label}</option>\n          ))}\n        </select>\n\n        <select\n          value={channelFilter}\n          onChange={(e) => { setChannelFilter(e.target.value as ChannelFilter); setCurrentPage(1); }}\n          className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2.5 text-slate-200 focus:outline-none focus:border-emerald-500\"\n        >\n          <option value=\"\">All Channels</option>\n          <option value=\"shopify\">Shopify</option>\n          <option value=\"amazon_fbm\">Amazon FBM</option>\n          <option value=\"amazon_fba\">Amazon FBA</option>\n          <option value=\"manual\">Manual</option>\n        </select>\n\n        <select\n          value={dateFilter}\n          onChange={(e) => { setDateFilter(e.target.value as DateFilter); setCurrentPage(1); }}\n          className=\"bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2.5 text-slate-200 focus:outline-none focus:border-emerald-500\"\n        >\n          <option value=\"all\">All Time</option>\n          <option value=\"today\">Today</option>\n          <option value=\"yesterday\">Yesterday</option>\n          <option value=\"last7\">Last 7 Days</option>\n          <option value=\"last30\">Last 30 Days</option>\n          <option value=\"thisMonth\">This Month</option>\n        </select>\n\n        {hasFilters && (\n          <button\n            onClick={() => {\n              setSearchQuery('');\n              setStatusFilter('');\n              setReasonFilter('');\n              setChannelFilter('');\n              setDateFilter('all');\n              setCurrentPage(1);\n            }}\n            className=\"px-3 py-2.5 text-slate-400 hover:text-slate-200 transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-times text-sm\"></i>\n            Clear\n          </button>\n        )}\n      </div>\n\n      {/* Returns Table */}\n      <div className=\"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"border-b border-slate-700/50\">\n              <th className=\"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Return #</th>\n              <th className=\"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Date</th>\n              <th className=\"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Customer</th>\n              <th className=\"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Channel</th>\n              <th className=\"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Items</th>\n              <th className=\"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Reason</th>\n              <th className=\"text-right p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Refund</th>\n              <th className=\"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Status</th>\n              <th className=\"text-right p-4 text-xs font-medium text-slate-400 uppercase tracking-wider\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {paginatedReturns.length === 0 ? (\n              <tr>\n                <td colSpan={9} className=\"p-8 text-center text-slate-500\">\n                  <i className=\"fas fa-undo-alt text-4xl mb-4 text-slate-600\"></i>\n                  <p>No returns found</p>\n                  {hasFilters && <p className=\"text-sm mt-2\">Try adjusting your filters</p>}\n                </td>\n              </tr>\n            ) : (\n              paginatedReturns.map((returnItem) => (\n                <tr\n                  key={returnItem.id}\n                  className=\"border-b border-slate-700/30 hover:bg-slate-700/30 cursor-pointer transition-colors\"\n                  onClick={() => router.push(`/orders/returns/${returnItem.id}`)}\n                >\n                  <td className=\"p-4\">\n                    <div className=\"font-medium text-white\">{returnItem.returnNumber}</div>\n                    <div className=\"text-xs text-slate-500\">Order: {returnItem.orderNumber}</div>\n                  </td>\n                  <td className=\"p-4 text-slate-300\">{formatReturnDate(returnItem.createdAt)}</td>\n                  <td className=\"p-4\">\n                    <div className=\"text-slate-200\">{returnItem.customer.name}</div>\n                    <div className=\"text-xs text-slate-500\">{returnItem.customer.email}</div>\n                  </td>\n                  <td className=\"p-4\"><ReturnChannelBadge channel={returnItem.channel} /></td>\n                  <td className=\"p-4\">\n                    <div className=\"text-slate-200\">\n                      {returnItem.items.reduce((sum, i) => sum + i.quantity, 0)} item(s)\n                    </div>\n                    <div className=\"text-xs text-slate-500\">\n                      {returnItem.items.length > 1\n                        ? `${returnItem.items[0].productName} +${returnItem.items.length - 1} more`\n                        : returnItem.items[0]?.productName}\n                    </div>\n                  </td>\n                  <td className=\"p-4\">\n                    <span className=\"text-sm text-slate-300\">\n                      {returnItem.items[0]?.reason ? returnReasonLabels[returnItem.items[0].reason] : '-'}\n                    </span>\n                  </td>\n                  <td className=\"p-4 text-right\">\n                    <div className=\"font-medium text-white\">{formatCurrency(returnItem.refund.total)}</div>\n                    {returnItem.refund.restockingFee > 0 && (\n                      <div className=\"text-xs text-amber-400\">\n                        -{formatCurrency(returnItem.refund.restockingFee)} fee\n                      </div>\n                    )}\n                  </td>\n                  <td className=\"p-4\"><ReturnStatusBadge status={returnItem.status} /></td>\n                  <td className=\"p-4 text-right\" onClick={(e) => e.stopPropagation()}>\n                    <div className=\"flex items-center justify-end gap-2\">\n                      {returnItem.status === 'requested' && (\n                        <>\n                          <button\n                            onClick={(e) => handleApprove(returnItem, e)}\n                            className=\"p-2 text-emerald-400 hover:bg-emerald-500/20 rounded-lg transition-colors\"\n                            title=\"Approve Return\"\n                          >\n                            <i className=\"fas fa-check\"></i>\n                          </button>\n                          <button\n                            onClick={(e) => handleReject(returnItem, e)}\n                            className=\"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors\"\n                            title=\"Reject Return\"\n                          >\n                            <i className=\"fas fa-times\"></i>\n                          </button>\n                        </>\n                      )}\n                      {returnItem.status === 'in_transit' && (\n                        <button\n                          onClick={(e) => handleMarkReceived(returnItem, e)}\n                          className=\"p-2 text-cyan-400 hover:bg-cyan-500/20 rounded-lg transition-colors\"\n                          title=\"Mark Received\"\n                        >\n                          <i className=\"fas fa-box\"></i>\n                        </button>\n                      )}\n                      {returnItem.status === 'inspected' && (\n                        <button\n                          onClick={(e) => handleProcessRefund(returnItem, e)}\n                          className=\"p-2 text-emerald-400 hover:bg-emerald-500/20 rounded-lg transition-colors\"\n                          title=\"Process Refund\"\n                        >\n                          <i className=\"fas fa-dollar-sign\"></i>\n                        </button>\n                      )}\n                      <button\n                        onClick={() => router.push(`/orders/returns/${returnItem.id}`)}\n                        className=\"p-2 text-slate-400 hover:bg-slate-600/50 rounded-lg transition-colors\"\n                        title=\"View Details\"\n                      >\n                        <i className=\"fas fa-chevron-right\"></i>\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-between p-4 border-t border-slate-700/50\">\n            <div className=\"text-sm text-slate-400\">\n              Showing {((currentPage - 1) * itemsPerPage) + 1} to {Math.min(currentPage * itemsPerPage, filteredReturns.length)} of {filteredReturns.length} returns\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\n                disabled={currentPage === 1}\n                className=\"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors\"\n              >\n                <i className=\"fas fa-chevron-left\"></i>\n              </button>\n              {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\n                const pageNum = i + 1;\n                return (\n                  <button\n                    key={pageNum}\n                    onClick={() => setCurrentPage(pageNum)}\n                    className={`px-3 py-1.5 rounded-lg transition-colors ${\n                      currentPage === pageNum\n                        ? 'bg-emerald-600 text-white'\n                        : 'bg-slate-700/50 hover:bg-slate-600/50 text-slate-300'\n                    }`}\n                  >\n                    {pageNum}\n                  </button>\n                );\n              })}\n              <button\n                onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\n                disabled={currentPage === totalPages}\n                className=\"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors\"\n              >\n                <i className=\"fas fa-chevron-right\"></i>\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <CreateReturnModal\n        isOpen={isCreateModalOpen}\n        onClose={() => setIsCreateModalOpen(false)}\n      />\n    </div>\n  );\n}\n\nexport default function ReturnsPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"animate-pulse space-y-6\">\n        <div className=\"h-8 bg-slate-800/50 rounded w-48\"></div>\n        <div className=\"grid grid-cols-5 gap-4\">\n          {[...Array(5)].map((_, i) => (\n            <div key={i} className=\"h-24 bg-slate-800/50 rounded-xl\"></div>\n          ))}\n        </div>\n        <div className=\"h-96 bg-slate-800/50 rounded-xl\"></div>\n      </div>\n    }>\n      <ReturnsPageContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}