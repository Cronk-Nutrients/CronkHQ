{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/1TB%20SSD/inventory-app/components/modals/AutomationRuleModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { Button } from '@/components/ui/Button';\nimport { Toggle } from '@/components/ui/Toggle';\nimport { useApp, AutomationRule, RuleTrigger, RuleCondition, RuleAction, conditionFields } from '@/context/AppContext';\nimport { useToast } from '@/components/ui/Toast';\nimport {\n  ruleTemplates,\n  triggerOptions,\n  actionOptions,\n  operatorOptions,\n  priorityOptions,\n  carrierOptions,\n  serviceOptions,\n  RuleTemplate\n} from '@/lib/ruleTemplates';\nimport { getTriggerLabel, getActionLabel } from '@/lib/automationEngine';\nimport {\n  Zap,\n  ChevronRight,\n  ChevronLeft,\n  Plus,\n  X,\n  ShoppingCart,\n  ArrowLeftRight,\n  AlertTriangle,\n  PackageCheck,\n  Clock,\n  Hand,\n  Tag,\n  Flag,\n  Truck,\n  Package,\n  Box,\n  Bell,\n  FileText,\n  Mail,\n  MapPin,\n  Sparkles,\n  Filter,\n  Play,\n  Check\n} from 'lucide-react';\n\ninterface AutomationRuleModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  editRule?: AutomationRule | null;\n}\n\ntype Step = 'template' | 'basic' | 'trigger' | 'conditions' | 'actions' | 'review';\n\nconst stepOrder: Step[] = ['template', 'basic', 'trigger', 'conditions', 'actions', 'review'];\n\n// Icon mapping for triggers\nconst triggerIcons: Record<string, React.ComponentType<any>> = {\n  order_created: ShoppingCart,\n  order_status_changed: ArrowLeftRight,\n  low_stock: AlertTriangle,\n  item_received: PackageCheck,\n  daily: Clock,\n  manual: Hand\n};\n\n// Icon mapping for actions\nconst actionIcons: Record<string, React.ComponentType<any>> = {\n  set_order_tag: Tag,\n  set_priority: Flag,\n  assign_carrier: Truck,\n  assign_service: Package,\n  select_box: Box,\n  send_notification: Bell,\n  add_fulfillment_item: Plus,\n  create_po_draft: FileText,\n  send_email: Mail,\n  set_location: MapPin\n};\n\nexport function AutomationRuleModal({ isOpen, onClose, editRule }: AutomationRuleModalProps) {\n  const { state, dispatch } = useApp();\n  const { success, error } = useToast();\n\n  const isEditing = !!editRule;\n\n  // Step navigation\n  const [currentStep, setCurrentStep] = useState<Step>('template');\n\n  // Form state\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [enabled, setEnabled] = useState(true);\n  const [priority, setPriority] = useState(10);\n  const [trigger, setTrigger] = useState<RuleTrigger>({ type: 'order_created' });\n  const [conditions, setConditions] = useState<RuleCondition[]>([]);\n  const [actions, setActions] = useState<RuleAction[]>([]);\n\n  // Additional trigger config\n  const [triggerFromStatus, setTriggerFromStatus] = useState('');\n  const [triggerToStatus, setTriggerToStatus] = useState('');\n  const [triggerThreshold, setTriggerThreshold] = useState(50);\n  const [triggerTime, setTriggerTime] = useState('09:00');\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Reset form when modal opens/closes\n  useEffect(() => {\n    if (isOpen) {\n      if (editRule) {\n        setName(editRule.name);\n        setDescription(editRule.description || '');\n        setEnabled(editRule.enabled);\n        setPriority(editRule.priority);\n        setTrigger(editRule.trigger);\n        setConditions(editRule.conditions);\n        setActions(editRule.actions);\n        setCurrentStep('basic'); // Skip template selection when editing\n\n        // Set trigger-specific values\n        if (editRule.trigger.type === 'order_status_changed') {\n          const t = editRule.trigger as { type: 'order_status_changed'; fromStatus?: string; toStatus?: string };\n          setTriggerFromStatus(t.fromStatus || '');\n          setTriggerToStatus(t.toStatus || '');\n        } else if (editRule.trigger.type === 'low_stock') {\n          const t = editRule.trigger as { type: 'low_stock'; threshold?: number };\n          setTriggerThreshold(t.threshold || 50);\n        } else if (editRule.trigger.type === 'daily') {\n          const t = editRule.trigger as { type: 'daily'; time: string };\n          setTriggerTime(t.time || '09:00');\n        }\n      } else {\n        // Reset to defaults for new rule\n        setName('');\n        setDescription('');\n        setEnabled(true);\n        setPriority(10);\n        setTrigger({ type: 'order_created' });\n        setConditions([]);\n        setActions([]);\n        setTriggerFromStatus('');\n        setTriggerToStatus('');\n        setTriggerThreshold(50);\n        setTriggerTime('09:00');\n        setCurrentStep('template');\n      }\n    }\n  }, [isOpen, editRule]);\n\n  // Get current step index\n  const currentStepIndex = stepOrder.indexOf(currentStep);\n\n  // Navigation helpers\n  const canGoBack = currentStepIndex > (isEditing ? 1 : 0);\n  const canGoNext = currentStepIndex < stepOrder.length - 1;\n\n  const goBack = () => {\n    if (canGoBack) {\n      setCurrentStep(stepOrder[currentStepIndex - 1]);\n    }\n  };\n\n  const goNext = () => {\n    if (canGoNext) {\n      setCurrentStep(stepOrder[currentStepIndex + 1]);\n    }\n  };\n\n  // Validation for each step\n  const isStepValid = useMemo(() => {\n    switch (currentStep) {\n      case 'template':\n        return true; // Can always skip templates\n      case 'basic':\n        return name.trim().length > 0;\n      case 'trigger':\n        return true; // Always valid, defaults provided\n      case 'conditions':\n        return true; // Optional, always valid\n      case 'actions':\n        return actions.length > 0;\n      case 'review':\n        return name.trim().length > 0 && actions.length > 0;\n      default:\n        return false;\n    }\n  }, [currentStep, name, actions]);\n\n  // Apply template\n  const applyTemplate = (template: RuleTemplate) => {\n    setName(template.name);\n    setDescription(template.description);\n    setTrigger(template.trigger);\n    setConditions(template.conditions.map(c => ({ ...c, id: crypto.randomUUID() })));\n    setActions(template.actions.map(a => ({ ...a, id: crypto.randomUUID() })));\n\n    // Set trigger-specific values\n    if (template.trigger.type === 'low_stock') {\n      const t = template.trigger as { type: 'low_stock'; threshold?: number };\n      setTriggerThreshold(t.threshold || 50);\n    }\n\n    setCurrentStep('basic');\n  };\n\n  // Add condition\n  const addCondition = () => {\n    const newCondition: RuleCondition = {\n      id: crypto.randomUUID(),\n      field: '',\n      operator: 'equals',\n      value: ''\n    };\n    setConditions([...conditions, newCondition]);\n  };\n\n  // Update condition\n  const updateCondition = (index: number, field: keyof RuleCondition, value: any) => {\n    const updated = [...conditions];\n    updated[index] = { ...updated[index], [field]: value };\n    setConditions(updated);\n  };\n\n  // Remove condition\n  const removeCondition = (index: number) => {\n    setConditions(conditions.filter((_, i) => i !== index));\n  };\n\n  // Add action\n  const addAction = () => {\n    const newAction: RuleAction = {\n      id: crypto.randomUUID(),\n      type: 'set_order_tag',\n      config: {}\n    };\n    setActions([...actions, newAction]);\n  };\n\n  // Update action\n  const updateAction = (index: number, field: string, value: any) => {\n    const updated = [...actions];\n    if (field === 'type') {\n      updated[index] = { ...updated[index], type: value, config: {} };\n    } else {\n      updated[index] = { ...updated[index], [field]: value };\n    }\n    setActions(updated);\n  };\n\n  // Update action config\n  const updateActionConfig = (index: number, configKey: string, value: any) => {\n    const updated = [...actions];\n    updated[index] = {\n      ...updated[index],\n      config: { ...updated[index].config, [configKey]: value }\n    };\n    setActions(updated);\n  };\n\n  // Remove action\n  const removeAction = (index: number) => {\n    setActions(actions.filter((_, i) => i !== index));\n  };\n\n  // Build final trigger object\n  const buildTrigger = (): RuleTrigger => {\n    switch (trigger.type) {\n      case 'order_status_changed':\n        return {\n          type: 'order_status_changed',\n          ...(triggerFromStatus && { fromStatus: triggerFromStatus }),\n          ...(triggerToStatus && { toStatus: triggerToStatus })\n        };\n      case 'low_stock':\n        return { type: 'low_stock', threshold: triggerThreshold };\n      case 'daily':\n        return { type: 'daily', time: triggerTime };\n      default:\n        return trigger;\n    }\n  };\n\n  // Save rule\n  const handleSave = () => {\n    if (!isStepValid) return;\n\n    setIsSubmitting(true);\n\n    try {\n      const ruleData: AutomationRule = {\n        id: editRule?.id || crypto.randomUUID(),\n        name: name.trim(),\n        description: description.trim() || undefined,\n        enabled,\n        trigger: buildTrigger(),\n        conditions,\n        actions,\n        priority,\n        createdAt: editRule?.createdAt || new Date(),\n        updatedAt: new Date()\n      };\n\n      if (isEditing) {\n        dispatch({ type: 'UPDATE_AUTOMATION_RULE', payload: ruleData });\n        success(`Rule \"${name}\" updated`);\n      } else {\n        dispatch({ type: 'ADD_AUTOMATION_RULE', payload: ruleData });\n        success(`Rule \"${name}\" created`);\n      }\n\n      onClose();\n    } catch (err) {\n      error('Failed to save rule');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Get fields for current trigger type\n  const getFieldsForTrigger = () => {\n    if (['order_created', 'order_status_changed'].includes(trigger.type)) {\n      return conditionFields.order;\n    }\n    if (['low_stock', 'item_received'].includes(trigger.type)) {\n      return conditionFields.inventory;\n    }\n    return conditionFields.order;\n  };\n\n  // Render step content\n  const renderStepContent = () => {\n    switch (currentStep) {\n      case 'template':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"text-center pb-4\">\n              <Sparkles className=\"w-12 h-12 text-emerald-400 mx-auto mb-3\" />\n              <h3 className=\"text-lg font-medium text-white\">Start with a Template</h3>\n              <p className=\"text-sm text-slate-400 mt-1\">Choose a pre-built rule or start from scratch</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 gap-3 max-h-80 overflow-y-auto pr-2\">\n              {ruleTemplates.map(template => (\n                <button\n                  key={template.id}\n                  onClick={() => applyTemplate(template)}\n                  className=\"text-left p-4 rounded-lg bg-slate-800/50 border border-slate-700/50 hover:border-emerald-500/50 hover:bg-slate-800 transition-all\"\n                >\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"flex-shrink-0 w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center\">\n                      <Zap className=\"w-5 h-5 text-emerald-400\" />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium text-white truncate\">{template.name}</p>\n                      <p className=\"text-xs text-slate-400 mt-0.5 line-clamp-2\">{template.description}</p>\n                      <div className=\"flex items-center gap-2 mt-2\">\n                        <span className=\"px-2 py-0.5 rounded bg-slate-700 text-xs text-slate-300\">\n                          {getTriggerLabel(template.trigger)}\n                        </span>\n                        <span className=\"text-xs text-slate-500\">\n                          {template.actions.length} action{template.actions.length !== 1 ? 's' : ''}\n                        </span>\n                      </div>\n                    </div>\n                    <ChevronRight className=\"w-5 h-5 text-slate-500 flex-shrink-0\" />\n                  </div>\n                </button>\n              ))}\n            </div>\n\n            <div className=\"pt-4 border-t border-slate-700/50\">\n              <Button variant=\"secondary\" className=\"w-full\" onClick={() => setCurrentStep('basic')}>\n                <Plus className=\"w-4 h-4\" />\n                Start from Scratch\n              </Button>\n            </div>\n          </div>\n        );\n\n      case 'basic':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Rule Name *</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={e => setName(e.target.value)}\n                placeholder=\"e.g., Auto-assign USPS for orders under $50\"\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                autoFocus\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-1.5\">Description (Optional)</label>\n              <textarea\n                value={description}\n                onChange={e => setDescription(e.target.value)}\n                placeholder=\"What does this rule do?\"\n                rows={3}\n                className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50 resize-none\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm text-slate-400 mb-1.5\">Priority</label>\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={100}\n                  value={priority}\n                  onChange={e => setPriority(parseInt(e.target.value) || 10)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n                />\n                <p className=\"text-xs text-slate-500 mt-1\">Lower numbers run first</p>\n              </div>\n              <div className=\"flex items-end pb-6\">\n                <div className=\"w-full bg-slate-800/50 border border-slate-700/50 rounded-lg p-4\">\n                  <Toggle\n                    checked={enabled}\n                    onChange={setEnabled}\n                    label=\"Enabled\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'trigger':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm text-slate-400 mb-3\">When should this rule run?</label>\n              <div className=\"grid grid-cols-2 gap-3\">\n                {triggerOptions.map(option => {\n                  const Icon = triggerIcons[option.type] || Zap;\n                  const isSelected = trigger.type === option.type;\n                  return (\n                    <button\n                      key={option.type}\n                      onClick={() => setTrigger({ type: option.type } as RuleTrigger)}\n                      className={`p-4 border rounded-lg text-left transition-all ${\n                        isSelected\n                          ? 'border-emerald-500 bg-emerald-500/10'\n                          : 'border-slate-700 hover:border-slate-600 bg-slate-800/50'\n                      }`}\n                    >\n                      <Icon className={`w-5 h-5 mb-2 ${isSelected ? 'text-emerald-400' : 'text-slate-400'}`} />\n                      <div className={`font-medium ${isSelected ? 'text-white' : 'text-slate-300'}`}>\n                        {option.label}\n                      </div>\n                      <div className=\"text-xs text-slate-400 mt-0.5\">{option.description}</div>\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Trigger-specific config */}\n            {trigger.type === 'order_status_changed' && (\n              <div className=\"bg-slate-800/50 rounded-lg p-4 space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm text-slate-400 mb-1.5\">From Status (Optional)</label>\n                    <select\n                      value={triggerFromStatus}\n                      onChange={e => setTriggerFromStatus(e.target.value)}\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n                    >\n                      <option value=\"\">Any status</option>\n                      <option value=\"to_pick\">To Pick</option>\n                      <option value=\"picking\">Picking</option>\n                      <option value=\"to_pack\">To Pack</option>\n                      <option value=\"packing\">Packing</option>\n                      <option value=\"ready\">Ready</option>\n                      <option value=\"shipped\">Shipped</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-slate-400 mb-1.5\">To Status (Optional)</label>\n                    <select\n                      value={triggerToStatus}\n                      onChange={e => setTriggerToStatus(e.target.value)}\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n                    >\n                      <option value=\"\">Any status</option>\n                      <option value=\"to_pick\">To Pick</option>\n                      <option value=\"picking\">Picking</option>\n                      <option value=\"to_pack\">To Pack</option>\n                      <option value=\"packing\">Packing</option>\n                      <option value=\"ready\">Ready</option>\n                      <option value=\"shipped\">Shipped</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {trigger.type === 'low_stock' && (\n              <div className=\"bg-slate-800/50 rounded-lg p-4\">\n                <label className=\"block text-sm text-slate-400 mb-1.5\">Stock Threshold</label>\n                <input\n                  type=\"number\"\n                  min={0}\n                  value={triggerThreshold}\n                  onChange={e => setTriggerThreshold(parseInt(e.target.value) || 50)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n                />\n                <p className=\"text-xs text-slate-500 mt-1\">Rule triggers when stock falls to or below this level</p>\n              </div>\n            )}\n\n            {trigger.type === 'daily' && (\n              <div className=\"bg-slate-800/50 rounded-lg p-4\">\n                <label className=\"block text-sm text-slate-400 mb-1.5\">Run Time</label>\n                <input\n                  type=\"time\"\n                  value={triggerTime}\n                  onChange={e => setTriggerTime(e.target.value)}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500/50\"\n                />\n              </div>\n            )}\n          </div>\n        );\n\n      case 'conditions':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <label className=\"block text-sm text-slate-400\">Conditions (Optional)</label>\n                <p className=\"text-xs text-slate-500 mt-0.5\">Only run this rule when these conditions are met</p>\n              </div>\n              <Button variant=\"secondary\" size=\"sm\" onClick={addCondition}>\n                <Plus className=\"w-4 h-4\" />\n                Add\n              </Button>\n            </div>\n\n            {conditions.length === 0 ? (\n              <div className=\"text-center py-8 text-slate-400\">\n                <Filter className=\"w-10 h-10 mx-auto mb-2 opacity-50\" />\n                <p className=\"text-sm\">No conditions - rule will run for all matching triggers</p>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                {conditions.map((condition, index) => (\n                  <div key={condition.id} className=\"flex items-center gap-2 p-3 bg-slate-800/50 rounded-lg\">\n                    {index > 0 && (\n                      <span className=\"text-xs text-slate-500 px-2\">AND</span>\n                    )}\n                    <select\n                      value={condition.field}\n                      onChange={e => updateCondition(index, 'field', e.target.value)}\n                      className=\"flex-1 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                    >\n                      <option value=\"\">Select field...</option>\n                      {getFieldsForTrigger().map(field => (\n                        <option key={field.value} value={field.value}>{field.label}</option>\n                      ))}\n                    </select>\n                    <select\n                      value={condition.operator}\n                      onChange={e => updateCondition(index, 'operator', e.target.value)}\n                      className=\"w-36 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                    >\n                      {operatorOptions.map(op => (\n                        <option key={op.value} value={op.value}>{op.label}</option>\n                      ))}\n                    </select>\n                    <input\n                      type=\"text\"\n                      value={condition.value as string}\n                      onChange={e => updateCondition(index, 'value', e.target.value)}\n                      placeholder=\"Value...\"\n                      className=\"flex-1 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                    />\n                    <button\n                      onClick={() => removeCondition(index)}\n                      className=\"p-2 text-slate-400 hover:text-red-400 transition-colors\"\n                    >\n                      <X className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        );\n\n      case 'actions':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <label className=\"block text-sm text-slate-400\">Actions *</label>\n                <p className=\"text-xs text-slate-500 mt-0.5\">What should happen when this rule triggers?</p>\n              </div>\n              <Button variant=\"secondary\" size=\"sm\" onClick={addAction}>\n                <Plus className=\"w-4 h-4\" />\n                Add\n              </Button>\n            </div>\n\n            {actions.length === 0 ? (\n              <div className=\"text-center py-8 text-slate-400 border-2 border-dashed border-slate-700 rounded-lg\">\n                <Play className=\"w-10 h-10 mx-auto mb-2 opacity-50\" />\n                <p className=\"text-sm\">Add at least one action</p>\n                <Button variant=\"secondary\" size=\"sm\" className=\"mt-3\" onClick={addAction}>\n                  <Plus className=\"w-4 h-4\" />\n                  Add Action\n                </Button>\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                {actions.map((action, index) => {\n                  const ActionIcon = actionIcons[action.type] || Zap;\n                  return (\n                    <div key={action.id} className=\"p-4 bg-slate-800/50 rounded-lg border border-slate-700/50\">\n                      <div className=\"flex items-center gap-3 mb-3\">\n                        <div className=\"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center\">\n                          <ActionIcon className=\"w-4 h-4 text-emerald-400\" />\n                        </div>\n                        <select\n                          value={action.type}\n                          onChange={e => updateAction(index, 'type', e.target.value)}\n                          className=\"flex-1 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                        >\n                          <option value=\"\">Select action...</option>\n                          {actionOptions.map(opt => (\n                            <option key={opt.type} value={opt.type}>{opt.label}</option>\n                          ))}\n                        </select>\n                        <button\n                          onClick={() => removeAction(index)}\n                          className=\"p-2 text-slate-400 hover:text-red-400 transition-colors\"\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n\n                      {/* Action-specific config */}\n                      {action.type === 'set_order_tag' && (\n                        <input\n                          type=\"text\"\n                          value={action.config.tag || ''}\n                          onChange={e => updateActionConfig(index, 'tag', e.target.value)}\n                          placeholder=\"Tag name (e.g., PRIORITY, FRAGILE)\"\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                        />\n                      )}\n\n                      {action.type === 'set_priority' && (\n                        <select\n                          value={action.config.priority || ''}\n                          onChange={e => updateActionConfig(index, 'priority', e.target.value)}\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                        >\n                          <option value=\"\">Select priority...</option>\n                          {priorityOptions.map(opt => (\n                            <option key={opt.value} value={opt.value}>{opt.label}</option>\n                          ))}\n                        </select>\n                      )}\n\n                      {action.type === 'assign_carrier' && (\n                        <select\n                          value={action.config.carrier || ''}\n                          onChange={e => updateActionConfig(index, 'carrier', e.target.value)}\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                        >\n                          <option value=\"\">Select carrier...</option>\n                          {carrierOptions.map(opt => (\n                            <option key={opt.value} value={opt.value}>{opt.label}</option>\n                          ))}\n                        </select>\n                      )}\n\n                      {action.type === 'assign_service' && (\n                        <div className=\"grid grid-cols-2 gap-2\">\n                          <select\n                            value={action.config.carrier || ''}\n                            onChange={e => updateActionConfig(index, 'carrier', e.target.value)}\n                            className=\"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                          >\n                            <option value=\"\">Carrier...</option>\n                            {carrierOptions.map(opt => (\n                              <option key={opt.value} value={opt.value}>{opt.label}</option>\n                            ))}\n                          </select>\n                          <select\n                            value={action.config.service || ''}\n                            onChange={e => updateActionConfig(index, 'service', e.target.value)}\n                            className=\"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                          >\n                            <option value=\"\">Service...</option>\n                            {(serviceOptions[action.config.carrier] || []).map(opt => (\n                              <option key={opt.value} value={opt.value}>{opt.label}</option>\n                            ))}\n                          </select>\n                        </div>\n                      )}\n\n                      {action.type === 'select_box' && (\n                        <select\n                          value={action.config.boxId || ''}\n                          onChange={e => updateActionConfig(index, 'boxId', e.target.value)}\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                        >\n                          <option value=\"\">Select box...</option>\n                          {state.boxes.map(box => (\n                            <option key={box.id} value={box.id}>{box.name}</option>\n                          ))}\n                        </select>\n                      )}\n\n                      {action.type === 'add_fulfillment_item' && (\n                        <div className=\"flex gap-2\">\n                          <select\n                            value={action.config.productId || ''}\n                            onChange={e => updateActionConfig(index, 'productId', e.target.value)}\n                            className=\"flex-1 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                          >\n                            <option value=\"\">Select product...</option>\n                            {state.products.map(p => (\n                              <option key={p.id} value={p.id}>{p.name} ({p.sku})</option>\n                            ))}\n                          </select>\n                          <input\n                            type=\"number\"\n                            min={1}\n                            value={action.config.quantity || 1}\n                            onChange={e => updateActionConfig(index, 'quantity', parseInt(e.target.value) || 1)}\n                            className=\"w-20 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                          />\n                        </div>\n                      )}\n\n                      {action.type === 'send_notification' && (\n                        <input\n                          type=\"text\"\n                          value={action.config.message || ''}\n                          onChange={e => updateActionConfig(index, 'message', e.target.value)}\n                          placeholder=\"Notification message...\"\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                        />\n                      )}\n\n                      {action.type === 'create_po_draft' && (\n                        <input\n                          type=\"number\"\n                          min={1}\n                          value={action.config.quantity || 100}\n                          onChange={e => updateActionConfig(index, 'quantity', parseInt(e.target.value) || 100)}\n                          placeholder=\"Quantity to order...\"\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                        />\n                      )}\n\n                      {action.type === 'send_email' && (\n                        <div className=\"space-y-2\">\n                          <input\n                            type=\"email\"\n                            value={action.config.recipient || ''}\n                            onChange={e => updateActionConfig(index, 'recipient', e.target.value)}\n                            placeholder=\"Recipient email...\"\n                            className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                          />\n                          <input\n                            type=\"text\"\n                            value={action.config.subject || ''}\n                            onChange={e => updateActionConfig(index, 'subject', e.target.value)}\n                            placeholder=\"Email subject...\"\n                            className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50\"\n                          />\n                        </div>\n                      )}\n\n                      {action.type === 'set_location' && (\n                        <select\n                          value={action.config.locationId || ''}\n                          onChange={e => updateActionConfig(index, 'locationId', e.target.value)}\n                          className=\"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-emerald-500/50\"\n                        >\n                          <option value=\"\">Select location...</option>\n                          {state.locations.map(loc => (\n                            <option key={loc.id} value={loc.id}>{loc.name}</option>\n                          ))}\n                        </select>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        );\n\n      case 'review':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"text-center pb-4\">\n              <div className=\"w-16 h-16 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-3\">\n                <Check className=\"w-8 h-8 text-emerald-400\" />\n              </div>\n              <h3 className=\"text-lg font-medium text-white\">Review Your Rule</h3>\n              <p className=\"text-sm text-slate-400 mt-1\">Make sure everything looks correct</p>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* Name & Description */}\n              <div className=\"bg-slate-800/50 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-lg font-medium text-white\">{name}</span>\n                  <span className={`px-2 py-0.5 rounded-full text-xs ${\n                    enabled ? 'bg-emerald-500/20 text-emerald-400' : 'bg-slate-600/50 text-slate-400'\n                  }`}>\n                    {enabled ? 'Active' : 'Disabled'}\n                  </span>\n                </div>\n                {description && <p className=\"text-sm text-slate-400\">{description}</p>}\n              </div>\n\n              {/* Trigger */}\n              <div className=\"bg-slate-800/50 rounded-lg p-4\">\n                <div className=\"text-xs text-slate-500 uppercase mb-2\">Trigger</div>\n                <div className=\"flex items-center gap-2\">\n                  <Zap className=\"w-4 h-4 text-emerald-400\" />\n                  <span className=\"text-white\">{getTriggerLabel(buildTrigger())}</span>\n                </div>\n              </div>\n\n              {/* Conditions */}\n              <div className=\"bg-slate-800/50 rounded-lg p-4\">\n                <div className=\"text-xs text-slate-500 uppercase mb-2\">Conditions</div>\n                {conditions.length === 0 ? (\n                  <span className=\"text-slate-400 text-sm\">No conditions (runs for all matching triggers)</span>\n                ) : (\n                  <div className=\"space-y-1\">\n                    {conditions.map((cond, i) => {\n                      const field = getFieldsForTrigger().find(f => f.value === cond.field);\n                      return (\n                        <div key={cond.id} className=\"flex items-center gap-2 text-sm\">\n                          {i > 0 && <span className=\"text-slate-500\">AND</span>}\n                          <span className=\"text-white\">{field?.label || cond.field}</span>\n                          <span className=\"text-slate-400\">{cond.operator.replace('_', ' ')}</span>\n                          <span className=\"text-emerald-400\">{String(cond.value)}</span>\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n\n              {/* Actions */}\n              <div className=\"bg-slate-800/50 rounded-lg p-4\">\n                <div className=\"text-xs text-slate-500 uppercase mb-2\">Actions ({actions.length})</div>\n                <div className=\"space-y-2\">\n                  {actions.map(action => (\n                    <div key={action.id} className=\"flex items-center gap-2 text-sm\">\n                      <Play className=\"w-3 h-3 text-emerald-400\" />\n                      <span className=\"text-white\">{getActionLabel(action)}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  // Step indicator\n  const renderStepIndicator = () => {\n    const visibleSteps = isEditing ? stepOrder.slice(1) : stepOrder;\n    const adjustedIndex = isEditing ? currentStepIndex - 1 : currentStepIndex;\n\n    return (\n      <div className=\"flex items-center justify-center gap-2 mb-6\">\n        {visibleSteps.map((step, index) => (\n          <div key={step} className=\"flex items-center\">\n            <div\n              className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${\n                index === adjustedIndex\n                  ? 'bg-emerald-500 text-white'\n                  : index < adjustedIndex\n                  ? 'bg-emerald-500/20 text-emerald-400'\n                  : 'bg-slate-700 text-slate-400'\n              }`}\n            >\n              {index < adjustedIndex ? <Check className=\"w-4 h-4\" /> : index + 1}\n            </div>\n            {index < visibleSteps.length - 1 && (\n              <div className={`w-8 h-0.5 mx-1 ${\n                index < adjustedIndex ? 'bg-emerald-500/50' : 'bg-slate-700'\n              }`} />\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={onClose}\n      title={isEditing ? 'Edit Automation Rule' : 'Create Automation Rule'}\n      subtitle={currentStep === 'template' ? 'Choose a template or start from scratch' : undefined}\n      size=\"lg\"\n      footer={\n        currentStep !== 'template' ? (\n          <>\n            <Button variant=\"secondary\" onClick={canGoBack ? goBack : onClose}>\n              {canGoBack ? (\n                <>\n                  <ChevronLeft className=\"w-4 h-4\" />\n                  Back\n                </>\n              ) : (\n                'Cancel'\n              )}\n            </Button>\n            {currentStep === 'review' ? (\n              <Button onClick={handleSave} disabled={isSubmitting || !isStepValid}>\n                {isSubmitting ? 'Saving...' : isEditing ? 'Save Changes' : 'Create Rule'}\n              </Button>\n            ) : (\n              <Button onClick={goNext} disabled={!isStepValid}>\n                Next\n                <ChevronRight className=\"w-4 h-4\" />\n              </Button>\n            )}\n          </>\n        ) : undefined\n      }\n    >\n      {currentStep !== 'template' && renderStepIndicator()}\n      {renderStepContent()}\n    </Modal>\n  );\n}\n\nexport default AutomationRuleModal;\n"],"names":[],"mappings":"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"}}]
}