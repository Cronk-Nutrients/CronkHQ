(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76525,e=>{"use strict";var s=e.i(43476),t=e.i(22016);let a={primary:"bg-emerald-600 hover:bg-emerald-500 text-white border-transparent",secondary:"bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700",ghost:"bg-transparent hover:bg-slate-800 text-slate-400 hover:text-white border-transparent",danger:"bg-red-600 hover:bg-red-500 text-white border-transparent"},l={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};function i({variant:e="primary",size:i="md",icon:r,iconPosition:d="left",children:n,className:c="",disabled:o,href:m,...x}){let u=`inline-flex items-center justify-center gap-2 font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${a[e]} ${l[i]} ${c}`,h=(0,s.jsxs)(s.Fragment,{children:[r&&"left"===d&&(0,s.jsx)("i",{className:r}),n,r&&"right"===d&&(0,s.jsx)("i",{className:r})]});return m?(0,s.jsx)(t.default,{href:m,className:u,children:h}):(0,s.jsx)("button",{className:u,disabled:o,...x,children:h})}e.s(["Button",()=>i])},45550,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(76009);e.i(36180);var l=e.i(98925),i=e.i(77524),r=e.i(80809),d=e.i(76525),n=e.i(22016);let c=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"EUR",name:"Euro",symbol:"€"},{code:"GBP",name:"British Pound",symbol:"£"},{code:"MXN",name:"Mexican Peso",symbol:"MX$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"}];function o(){let{organization:e}=(0,i.useOrganization)(),{success:o,error:m}=(0,r.useToast)(),[x,u]=(0,t.useState)([]),[h,f]=(0,t.useState)(!0),[b,j]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[N,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(""),[C,F]=(0,t.useState)("USD");(0,t.useEffect)(()=>{e?.id&&(async()=>{try{let s=(0,l.doc)(a.db,"organizations",e.id),t=await (0,l.getDoc)(s);if(t.exists()){let e=t.data();u(e.customPriceFields||[])}}catch(e){console.error("Error loading custom price fields:",e),m("Failed to load settings")}finally{f(!1)}})()},[e?.id,m]);let P=e=>e.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_").substring(0,30),k=()=>{y(null),w(""),F("USD"),g(!0)},A=async()=>{if(e?.id&&v.trim()){j(!0);try{let s=(0,l.doc)(a.db,"organizations",e.id);if(N){let e=x.map(e=>e.id===N.id?{...e,name:v,currency:C}:e);await (0,l.updateDoc)(s,{customPriceFields:e}),u(e),o("Price field updated")}else{let e=P(v);if(x.some(s=>s.key===e)){m("A field with this name already exists"),j(!1);return}let t={id:`cpf_${Date.now()}`,name:v,key:e,currency:C,isActive:!0,createdAt:new Date().toISOString()};await (0,l.updateDoc)(s,{customPriceFields:(0,l.arrayUnion)(t)}),u([...x,t]),o("Price field added")}g(!1)}catch(e){console.error("Error saving field:",e),m("Failed to save field")}finally{j(!1)}}},D=async s=>{if(e?.id&&confirm(`Delete "${s.name}"? This won't remove values from existing products.`))try{let t=(0,l.doc)(a.db,"organizations",e.id),i=x.filter(e=>e.id!==s.id);await (0,l.updateDoc)(t,{customPriceFields:i}),u(i),o("Price field deleted")}catch(e){console.error("Error deleting field:",e),m("Failed to delete field")}};return h?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):(0,s.jsxs)("div",{className:"max-w-4xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-6",children:[(0,s.jsx)(n.default,{href:"/settings",className:"hover:text-white transition-colors",children:"Settings"}),(0,s.jsx)("i",{className:"fas fa-chevron-right text-xs"}),(0,s.jsx)("span",{className:"text-white",children:"Products"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Product Settings"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Configure product fields and pricing options"})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Custom Pricing Fields"}),(0,s.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Define custom price fields like Amazon, Wholesale, MAP, etc."})]}),(0,s.jsxs)(d.Button,{onClick:k,children:[(0,s.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Field"]})]}),0===x.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("i",{className:"fas fa-tags text-2xl text-slate-500"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No custom price fields defined yet"}),(0,s.jsx)("p",{className:"text-slate-400 mb-6 max-w-sm mx-auto",children:"Create custom price fields to track pricing across different sales channels and markets."}),(0,s.jsxs)(d.Button,{variant:"secondary",onClick:k,children:[(0,s.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Your First Field"]})]}):(0,s.jsx)("div",{className:"space-y-3",children:x.map(e=>{let t=c.find(s=>s.code===e.currency);return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-emerald-400 font-semibold",children:t?.symbol||"$"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-slate-500",children:["Key: ",(0,s.jsx)("span",{className:"font-mono",children:e.key}),(0,s.jsx)("span",{className:"mx-2",children:"|"}),e.currency]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{y(e),w(e.name),F(e.currency),g(!0)},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Edit field",children:(0,s.jsx)("i",{className:"fas fa-pencil"})}),(0,s.jsx)("button",{onClick:()=>D(e),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:"Delete field",children:(0,s.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)})})]}),p&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:N?"Edit Price Field":"Add Price Field"}),(0,s.jsx)("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-white",children:(0,s.jsx)("i",{className:"fas fa-times"})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Field Name *"}),(0,s.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),placeholder:"e.g., Amazon, Wholesale, MAP Price",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors",autoFocus:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Currency *"}),(0,s.jsx)("select",{value:C,onChange:e=>F(e.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-emerald-500 transition-colors",children:c.map(e=>(0,s.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},e.code))})]}),v&&!N&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Key (auto-generated)"}),(0,s.jsx)("div",{className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-3 font-mono text-slate-400",children:P(v)})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-700",children:[(0,s.jsx)(d.Button,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),(0,s.jsx)(d.Button,{onClick:A,disabled:b||!v.trim(),children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"fas fa-check mr-2"}),N?"Update Field":"Add Field"]})})]})]})})]})}e.s(["default",()=>o])}]);