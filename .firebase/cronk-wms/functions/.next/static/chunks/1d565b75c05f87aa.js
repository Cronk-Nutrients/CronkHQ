(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64635,48616,e=>{"use strict";var t=e.i(43476),r=e.i(63207);function a({icon:e,iconColor:a,value:s,label:l,format:n="number",onClick:i,isActive:o=!1,borderColor:c}){let d={blue:{border:"border-blue-500/30",bg:"bg-blue-500/10",hover:"hover:bg-blue-500/10",iconBg:"bg-blue-500/20",ring:"ring-blue-500/30"},emerald:{border:"border-emerald-500/30",bg:"bg-emerald-500/10",hover:"hover:bg-emerald-500/10",iconBg:"bg-emerald-500/20",ring:"ring-emerald-500/30"},amber:{border:"border-amber-500/30",bg:"bg-amber-500/10",hover:"hover:bg-amber-500/10",iconBg:"bg-amber-500/20",ring:"ring-amber-500/30"},red:{border:"border-red-500/30",bg:"bg-red-500/10",hover:"hover:bg-red-500/10",iconBg:"bg-red-500/20",ring:"ring-red-500/30"},purple:{border:"border-purple-500/30",bg:"bg-purple-500/10",hover:"hover:bg-purple-500/10",iconBg:"bg-purple-500/20",ring:"ring-purple-500/30"},slate:{border:"border-slate-700/50",bg:"bg-slate-700/30",hover:"hover:bg-slate-700/30",iconBg:"bg-slate-700/50",ring:"ring-slate-500/30"}},u=d[a]||d.slate,x="currency"===n?(0,r.formatCurrency)("number"==typeof s?s:0):"number"===n?(0,r.formatNumber)("number"==typeof s?s:0):s,b="slate"===a||"white"===a?"text-white":`text-${a}-400`;return(0,t.jsx)("div",{onClick:i,className:`bg-slate-800/50 backdrop-blur border rounded-xl p-4 transition-colors ${i?"cursor-pointer":""} ${u.hover} ${o?`${u.border.replace("/30","/50")} ${u.bg} ring-2 ${u.ring}`:c||u.border}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg ${u.iconBg} flex items-center justify-center`,children:(0,t.jsx)("i",{className:`fas ${e} text-${a}-400`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`text-2xl font-bold ${b}`,children:x}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:l})]})]})})}function s({children:e,columns:r=4}){return(0,t.jsx)("div",{className:`grid ${{4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6",7:"grid-cols-7"}[r]} gap-4`,children:e})}function l({current:e,total:r,completed:a=!1}){let s=r>0?e/r*100:0;return(0,t.jsxs)("div",{className:"w-32",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsxs)("span",{className:"text-slate-400",children:[e,"/",r]}),(0,t.jsxs)("span",{className:"text-slate-500",children:[Math.round(s),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2",children:(0,t.jsx)("div",{className:`rounded-full h-2 transition-all ${a?"bg-emerald-500":"bg-blue-500"}`,style:{width:`${s}%`}})})]})}function n({value:e,onChange:r,options:a,placeholder:s}){return(0,t.jsxs)("select",{value:e,onChange:e=>r(e.target.value),className:"bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2.5 text-slate-200 focus:outline-none focus:border-emerald-500",children:[s&&(0,t.jsx)("option",{value:"",children:s}),a.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})}function i({value:e,onChange:r,placeholder:a="Search..."}){return(0,t.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,t.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),(0,t.jsx)("input",{type:"text",placeholder:a,value:e,onChange:e=>r(e.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500/50"})]})}function o({onClick:e}){return(0,t.jsxs)("button",{onClick:e,className:"px-3 py-2.5 text-slate-400 hover:text-slate-200 transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-times text-sm"}),"Clear"]})}function c({children:e}){return(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:e})}function d({title:e,subtitle:r,icon:a,backHref:s,actions:l}){return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[s&&(0,t.jsx)("a",{href:s,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)("i",{className:"fas fa-arrow-left"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[a,e]}),r&&(0,t.jsx)("p",{className:"text-sm text-slate-400",children:r})]})]}),l]})}e.s(["ClickableStatCard",()=>a,"InventoryStatsGrid",()=>s,"ProgressBar",()=>l],64635),e.s(["ClearFiltersButton",()=>o,"FilterBar",()=>c,"FilterSelect",()=>n,"PageHeader",()=>d,"SearchInput",()=>i],48616)},59216,e=>{"use strict";var t=e.i(43476);function r({status:e,config:r,animated:a=!1}){let s=r[e];if(!s)return null;let l={slate:"bg-slate-500/10 text-slate-400 border-slate-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",emerald:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",red:"bg-red-500/10 text-red-400 border-red-500/20",purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",orange:"bg-orange-500/10 text-orange-400 border-orange-500/20",cyan:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20"};return(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full border ${l[s.color]||l.slate}`,children:[(0,t.jsx)("i",{className:`fas ${s.icon} ${a?"fa-spin":""} text-[10px]`}),s.label]})}function a({type:e,config:r}){let a=r[e];return a?(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded border ${{purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20"}[a.color]||""}`,children:a.label}):null}function s({status:e,compact:r=!1}){let a={in_stock:{text:"In Stock",color:"text-emerald-400",bg:"bg-emerald-500/10",icon:"✓"},low_stock:{text:"Low Stock",color:"text-amber-400",bg:"bg-amber-500/10",icon:"↓"},out_of_stock:{text:"Out of Stock",color:"text-red-400",bg:"bg-red-500/10",icon:"✗"}}[e];return r?(0,t.jsxs)("span",{className:`text-xs ${a.color}`,children:[a.icon," ",a.text]}):(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded ${a.bg} ${a.color}`,children:a.text})}let l={nutrients:{gradient:"from-emerald-500/20 to-emerald-600/20",border:"border-emerald-500/20",text:"text-emerald-400",icon:"fa-flask",label:"Nutrients"},supplements:{gradient:"from-purple-500/20 to-purple-600/20",border:"border-purple-500/20",text:"text-purple-400",icon:"fa-seedling",label:"Supplements"},ph_adjusters:{gradient:"from-blue-500/20 to-blue-600/20",border:"border-blue-500/20",text:"text-blue-400",icon:"fa-vial",label:"pH Adjusters"},bundles:{gradient:"from-amber-500/20 to-amber-600/20",border:"border-amber-500/20",text:"text-amber-400",icon:"fa-boxes-stacked",label:"Bundles"}};function n(e){return l[e]||l.nutrients}function i({category:e,size:r="md"}){let a=n(e),s={sm:{container:"w-8 h-8",icon:"text-sm"},md:{container:"w-12 h-12",icon:""},lg:{container:"w-16 h-16",icon:"text-2xl"}};return(0,t.jsx)("div",{className:`${s[r].container} bg-gradient-to-br ${a.gradient} rounded-lg flex items-center justify-center border ${a.border}`,children:(0,t.jsx)("i",{className:`fas ${a.icon} ${a.text} ${s[r].icon}`})})}e.s(["CategoryIcon",()=>i,"StatusBadge",()=>r,"StockStatus",()=>s,"TypeBadge",()=>a,"categoryStyles",0,l,"countTypeConfig",0,{full:{label:"Full Count",color:"purple"},cycle:{label:"Cycle Count",color:"blue"},spot:{label:"Spot Check",color:"amber"}},"getCategoryStyle",()=>n,"stockCountStatusConfig",0,{draft:{color:"slate",icon:"fa-file",label:"Draft"},in_progress:{color:"blue",icon:"fa-spinner",label:"In Progress"},completed:{color:"emerald",icon:"fa-check-circle",label:"Completed"},cancelled:{color:"red",icon:"fa-times-circle",label:"Cancelled"}},"transferStatusConfig",0,{draft:{color:"slate",icon:"fa-edit",label:"Draft"},pending:{color:"amber",icon:"fa-clock",label:"Pending"},in_transit:{color:"blue",icon:"fa-truck",label:"In Transit"},received:{color:"emerald",icon:"fa-check",label:"Received"},cancelled:{color:"red",icon:"fa-times",label:"Cancelled"}}])},40554,e=>{"use strict";var t=e.i(43476);function r({icon:e,title:r,description:a,showFilterHint:s,action:l}){return(0,t.jsxs)("div",{className:"p-8 text-center text-slate-500",children:[(0,t.jsx)("i",{className:`fas ${e} text-4xl mb-4 text-slate-600`}),(0,t.jsx)("p",{className:"font-medium text-white mb-2",children:r}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:a}),s&&(0,t.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting your filters"}),l&&(0,t.jsx)("div",{className:"mt-4",children:l})]})}function a({currentPage:e,totalPages:r,totalItems:a,itemsPerPage:s,itemLabel:l="items",onPageChange:n}){if(r<=1)return null;let i=Math.min(e*s,a);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-slate-700/50",children:[(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:["Showing ",(e-1)*s+1," to ",i," of ",a," ",l]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>n(Math.max(1,e-1)),disabled:1===e,className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-chevron-left"})}),Array.from({length:Math.min(5,r)},(a,s)=>{let l;return l=r<=5||e<=3?s+1:e>=r-2?r-4+s:e-2+s,(0,t.jsx)("button",{onClick:()=>n(l),className:`px-3 py-1.5 rounded-lg transition-colors ${e===l?"bg-emerald-600 text-white":"bg-slate-700/50 hover:bg-slate-600/50 text-slate-300"}`,children:l},l)}),(0,t.jsx)("button",{onClick:()=>n(Math.min(r,e+1)),disabled:e===r,className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-chevron-right"})})]})]})}function s({children:e}){return(0,t.jsx)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:e})}function l({icon:e,onClick:r,color:a="slate",title:s,disabled:l}){return(0,t.jsx)("button",{onClick:r,disabled:l,title:s,className:`p-2 rounded-lg transition-colors ${{slate:"text-slate-400 hover:bg-slate-600/50",blue:"text-blue-400 hover:bg-blue-500/20",emerald:"text-emerald-400 hover:bg-emerald-500/20",amber:"text-amber-400 hover:bg-amber-500/20",red:"text-red-400 hover:bg-red-500/20"}[a]} ${l?"opacity-50 cursor-not-allowed":""}`,children:(0,t.jsx)("i",{className:`fas ${e}`})})}function n({icon:e,label:r,onClick:a,variant:s="primary"}){return(0,t.jsxs)("button",{onClick:a,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${{primary:"bg-emerald-600 hover:bg-emerald-500 text-white",secondary:"bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300"}[s]}`,children:[(0,t.jsx)("i",{className:`fas ${e} text-sm`}),r]})}e.s(["ActionButton",()=>l,"EmptyState",()=>r,"Pagination",()=>a,"PrimaryActionButton",()=>n,"TableWrapper",()=>s])},12449,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(73146),l=e.i(80809);e.i(59802);var n=e.i(90628),i=e.i(59216),o=e.i(64635),c=e.i(48616),d=e.i(40554);function u(){let e=(0,a.useSearchParams)(),u=(0,a.useRouter)(),{state:x,dispatch:b}=(0,s.useApp)(),{success:m,warning:g}=(0,l.useToast)(),[p,h]=(0,r.useState)(!1),[f,v]=(0,r.useState)(""),[j,N]=(0,r.useState)(e.get("status")||""),[C,y]=(0,r.useState)(""),[k,w]=(0,r.useState)(""),[S,$]=(0,r.useState)(1),T=(0,r.useMemo)(()=>x.transfers.filter(e=>{let t=e.transferNumber.toLowerCase().includes(f.toLowerCase())||e.items.some(e=>e.productName.toLowerCase().includes(f.toLowerCase())||e.sku.toLowerCase().includes(f.toLowerCase())),r=!j||e.status===j,a=!C||e.fromLocation===C,s=!k||e.toLocation===k;return t&&r&&a&&s}),[x.transfers,f,j,C,k]),A=Math.ceil(T.length/10),B=T.slice((S-1)*10,10*S),P=(0,r.useMemo)(()=>{let e=new Date;return e.setDate(e.getDate()-7),{pending:x.transfers.filter(e=>"pending"===e.status).length,inTransit:x.transfers.filter(e=>"in_transit"===e.status).length,receivedThisWeek:x.transfers.filter(t=>"received"===t.status&&t.receivedAt&&new Date(t.receivedAt)>=e).length,total:x.transfers.length}},[x.transfers]),D=e=>{N(t=>t===e?"":e),$(1)},L=!!(f||j||C||k),_=x.locations.map(e=>({value:e.id,label:e.name}));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(c.PageHeader,{title:"Stock Transfers",subtitle:"Move inventory between locations",backHref:"/inventory",actions:(0,t.jsx)(d.PrimaryActionButton,{icon:"fa-plus",label:"New Transfer",onClick:()=>h(!0)})}),(0,t.jsxs)(o.InventoryStatsGrid,{children:[(0,t.jsx)(o.ClickableStatCard,{icon:"fa-clock",iconColor:"amber",value:P.pending,label:"Pending Approval",onClick:()=>D("pending"),isActive:"pending"===j}),(0,t.jsx)(o.ClickableStatCard,{icon:"fa-truck",iconColor:"blue",value:P.inTransit,label:"In Transit",onClick:()=>D("in_transit"),isActive:"in_transit"===j}),(0,t.jsx)(o.ClickableStatCard,{icon:"fa-check",iconColor:"emerald",value:P.receivedThisWeek,label:"Received This Week",onClick:()=>D("received"),isActive:"received"===j}),(0,t.jsx)(o.ClickableStatCard,{icon:"fa-exchange-alt",iconColor:"slate",value:P.total,label:"Total Transfers"})]}),(0,t.jsxs)(c.FilterBar,{children:[(0,t.jsx)(c.SearchInput,{value:f,onChange:v,placeholder:"Search transfers..."}),(0,t.jsx)(c.FilterSelect,{value:j,onChange:e=>{N(e),$(1)},placeholder:"All Statuses",options:[{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"in_transit",label:"In Transit"},{value:"received",label:"Received"},{value:"cancelled",label:"Cancelled"}]}),(0,t.jsx)(c.FilterSelect,{value:C,onChange:e=>{y(e),$(1)},placeholder:"All Sources",options:_}),(0,t.jsx)(c.FilterSelect,{value:k,onChange:e=>{w(e),$(1)},placeholder:"All Destinations",options:_}),L&&(0,t.jsx)(c.ClearFiltersButton,{onClick:()=>{v(""),N(""),y(""),w(""),$(1)}})]}),(0,t.jsxs)(d.TableWrapper,{children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Transfer #"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"From"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"To"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Items"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===B.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,children:(0,t.jsx)(d.EmptyState,{icon:"fa-exchange-alt",title:"No transfers found",description:L?"Try adjusting your filters":"Create a transfer to move inventory between locations",showFilterHint:L})})}):B.map(e=>{let r=e.items.reduce((e,t)=>e+t.requestedQty,0);return(0,t.jsxs)("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/30 cursor-pointer transition-colors",onClick:()=>u.push(`/inventory/transfers/${e.id}`),children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("div",{className:"font-medium text-white",children:e.transferNumber})}),(0,t.jsx)("td",{className:"p-4 text-slate-300",children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,t.jsx)("td",{className:"p-4 text-slate-300",children:e.fromLocationName}),(0,t.jsx)("td",{className:"p-4 text-slate-300",children:e.toLocationName}),(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsxs)("div",{className:"text-slate-200",children:[e.items.length," item",1!==e.items.length?"s":""]}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:[r," units"]})]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(i.StatusBadge,{status:e.status,config:i.transferStatusConfig})}),(0,t.jsx)("td",{className:"p-4 text-right",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[("draft"===e.status||"pending"===e.status)&&(0,t.jsx)(d.ActionButton,{icon:"fa-times",color:"red",title:"Cancel Transfer",onClick:t=>{(t.stopPropagation(),"in_transit"===e.status)?g("Cannot cancel a transfer that is already in transit"):(b({type:"UPDATE_TRANSFER",payload:{...e,status:"cancelled",updatedAt:new Date}}),m(`Transfer ${e.transferNumber} cancelled`))}}),(0,t.jsx)(d.ActionButton,{icon:"fa-chevron-right",title:"View Details",onClick:()=>u.push(`/inventory/transfers/${e.id}`)})]})})]},e.id)})})]}),(0,t.jsx)(d.Pagination,{currentPage:S,totalPages:A,totalItems:T.length,itemsPerPage:10,itemLabel:"transfers",onPageChange:$})]}),(0,t.jsx)(n.CreateTransferModal,{isOpen:p,onClose:()=>h(!1)})]})}function x(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,t.jsx)("div",{className:"h-8 bg-slate-800/50 rounded w-48"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,r)=>(0,t.jsx)("div",{className:"h-24 bg-slate-800/50 rounded-xl"},r))}),(0,t.jsx)("div",{className:"h-96 bg-slate-800/50 rounded-xl"})]}),children:(0,t.jsx)(u,{})})}e.s(["default",()=>x])}]);