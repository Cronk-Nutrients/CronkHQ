(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63207,e=>{"use strict";function t(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function s(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function r(e){return new Intl.NumberFormat("en-US").format(e)}function a(e,t=!0){return t?`${e>=0?"+":""}${e.toFixed(1)}%`:`${e.toFixed(1)}%`}function l(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function i(e){return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}e.s(["formatCurrency",()=>t,"formatCurrencyPrecise",()=>s,"formatDate",()=>l,"formatDateTime",()=>i,"formatNumber",()=>r,"formatPercent",()=>a])},59216,e=>{"use strict";var t=e.i(43476);function s({status:e,config:s,animated:r=!1}){let a=s[e];if(!a)return null;let l={slate:"bg-slate-500/10 text-slate-400 border-slate-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",emerald:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",red:"bg-red-500/10 text-red-400 border-red-500/20",purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",orange:"bg-orange-500/10 text-orange-400 border-orange-500/20",cyan:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20"};return(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full border ${l[a.color]||l.slate}`,children:[(0,t.jsx)("i",{className:`fas ${a.icon} ${r?"fa-spin":""} text-[10px]`}),a.label]})}function r({type:e,config:s}){let r=s[e];return r?(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded border ${{purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20"}[r.color]||""}`,children:r.label}):null}function a({status:e,compact:s=!1}){let r={in_stock:{text:"In Stock",color:"text-emerald-400",bg:"bg-emerald-500/10",icon:"✓"},low_stock:{text:"Low Stock",color:"text-amber-400",bg:"bg-amber-500/10",icon:"↓"},out_of_stock:{text:"Out of Stock",color:"text-red-400",bg:"bg-red-500/10",icon:"✗"}}[e];return s?(0,t.jsxs)("span",{className:`text-xs ${r.color}`,children:[r.icon," ",r.text]}):(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded ${r.bg} ${r.color}`,children:r.text})}let l={nutrients:{gradient:"from-emerald-500/20 to-emerald-600/20",border:"border-emerald-500/20",text:"text-emerald-400",icon:"fa-flask",label:"Nutrients"},supplements:{gradient:"from-purple-500/20 to-purple-600/20",border:"border-purple-500/20",text:"text-purple-400",icon:"fa-seedling",label:"Supplements"},ph_adjusters:{gradient:"from-blue-500/20 to-blue-600/20",border:"border-blue-500/20",text:"text-blue-400",icon:"fa-vial",label:"pH Adjusters"},bundles:{gradient:"from-amber-500/20 to-amber-600/20",border:"border-amber-500/20",text:"text-amber-400",icon:"fa-boxes-stacked",label:"Bundles"}};function i(e){return l[e]||l.nutrients}function n({category:e,size:s="md"}){let r=i(e),a={sm:{container:"w-8 h-8",icon:"text-sm"},md:{container:"w-12 h-12",icon:""},lg:{container:"w-16 h-16",icon:"text-2xl"}};return(0,t.jsx)("div",{className:`${a[s].container} bg-gradient-to-br ${r.gradient} rounded-lg flex items-center justify-center border ${r.border}`,children:(0,t.jsx)("i",{className:`fas ${r.icon} ${r.text} ${a[s].icon}`})})}e.s(["CategoryIcon",()=>n,"StatusBadge",()=>s,"StockStatus",()=>a,"TypeBadge",()=>r,"categoryStyles",0,l,"countTypeConfig",0,{full:{label:"Full Count",color:"purple"},cycle:{label:"Cycle Count",color:"blue"},spot:{label:"Spot Check",color:"amber"}},"getCategoryStyle",()=>i,"stockCountStatusConfig",0,{draft:{color:"slate",icon:"fa-file",label:"Draft"},in_progress:{color:"blue",icon:"fa-spinner",label:"In Progress"},completed:{color:"emerald",icon:"fa-check-circle",label:"Completed"},cancelled:{color:"red",icon:"fa-times-circle",label:"Cancelled"}},"transferStatusConfig",0,{draft:{color:"slate",icon:"fa-edit",label:"Draft"},pending:{color:"amber",icon:"fa-clock",label:"Pending"},in_transit:{color:"blue",icon:"fa-truck",label:"In Transit"},received:{color:"emerald",icon:"fa-check",label:"Received"},cancelled:{color:"red",icon:"fa-times",label:"Cancelled"}}])},30566,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(22016),l=e.i(73146),i=e.i(80809),n=e.i(59216),d=e.i(63207);function c(){var e;let c=(0,r.useParams)();(0,r.useRouter)();let{state:o,dispatch:m}=(0,l.useApp)(),{success:x,error:u}=(0,i.useToast)(),b=c.id,p=o.transfers.find(e=>e.id===b),[h,f]=(0,s.useState)(!1),[g,j]=(0,s.useState)({}),[N,y]=(0,s.useState)(!1),[v,w]=(0,s.useState)({}),[k,S]=(0,s.useState)(!1),C=[{key:"pending",label:"Pending",icon:"fa-clock"},{key:"in_transit",label:"In Transit",icon:"fa-truck"},{key:"received",label:"Received",icon:"fa-check-circle"}],T=(0,s.useMemo)(()=>p?{requested:p.items.reduce((e,t)=>e+t.requestedQty,0),shipped:p.items.reduce((e,t)=>e+t.shippedQty,0),received:p.items.reduce((e,t)=>e+t.receivedQty,0)}:{requested:0,shipped:0,received:0},[p]);if(!p)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("i",{className:"fas fa-exclamation-triangle text-amber-400 text-4xl mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Transfer Not Found"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"The transfer you're looking for doesn't exist."}),(0,t.jsx)(a.default,{href:"/inventory/transfers",className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors",children:"Back to Transfers"})]})});let I="cancelled"===(e=p.status)||"draft"===e?-1:C.findIndex(t=>t.key===e),A="pending"===p.status,D="in_transit"===p.status,Q="received"!==p.status&&"cancelled"!==p.status;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(a.default,{href:"/inventory/transfers",className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)("i",{className:"fas fa-arrow-left"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:p.transferNumber}),(0,t.jsx)(n.StatusBadge,{status:p.status,config:n.transferStatusConfig})]}),(0,t.jsxs)("p",{className:"text-sm text-slate-400 mt-1",children:["Created ",p.createdAt?(0,d.formatDateTime)(p.createdAt):"-"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[Q&&(0,t.jsx)("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors",children:"Cancel Transfer"}),A&&(0,t.jsxs)("button",{onClick:()=>{if(!p)return;let e={};p.items.forEach(t=>{e[t.productId]=t.requestedQty}),j(e),f(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-truck"}),"Ship Transfer"]}),D&&(0,t.jsxs)("button",{onClick:()=>{if(!p)return;let e={};p.items.forEach(t=>{e[t.productId]=t.shippedQty}),w(e),y(!0)},className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-check"}),"Receive Transfer"]})]})]}),"cancelled"!==p.status&&(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white mb-6",children:"Transfer Progress"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-0 right-0 top-5 h-1 bg-slate-700 rounded",children:(0,t.jsx)("div",{className:"h-full bg-emerald-500 rounded transition-all duration-500",style:{width:`${(I+1)/C.length*100}%`}})}),(0,t.jsx)("div",{className:"relative flex justify-between",children:C.map((e,s)=>{let r=s<=I;return(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center z-10 transition-all ${r?"bg-emerald-500 text-white":"bg-slate-700 text-slate-400"} ${s===I?"ring-4 ring-emerald-500/30":""}`,children:(0,t.jsx)("i",{className:`fas ${e.icon}`})}),(0,t.jsx)("span",{className:`mt-2 text-sm font-medium ${r?"text-white":"text-slate-500"}`,children:e.label}),"pending"===e.key&&p.createdAt&&(0,t.jsx)("span",{className:"text-xs text-slate-500 mt-1",children:p.createdAt?(0,d.formatDateTime)(p.createdAt):"-"}),"in_transit"===e.key&&p.shippedAt&&(0,t.jsx)("span",{className:"text-xs text-slate-500 mt-1",children:p.shippedAt?(0,d.formatDateTime)(p.shippedAt):"-"}),"received"===e.key&&p.receivedAt&&(0,t.jsx)("span",{className:"text-xs text-slate-500 mt-1",children:p.receivedAt?(0,d.formatDateTime)(p.receivedAt):"-"})]},e.key)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)("i",{className:"fas fa-arrow-up text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-slate-400",children:"From Location"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-white",children:p.fromLocationName})]})]})}),(0,t.jsx)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)("i",{className:"fas fa-arrow-down text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-slate-400",children:"To Location"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-white",children:p.toLocationName})]})]})})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Transfer Items"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Product"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"SKU"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-sm font-medium text-slate-400",children:"Requested"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-sm font-medium text-slate-400",children:"Shipped"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-sm font-medium text-slate-400",children:"Received"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-sm font-medium text-slate-400",children:"Status"})]})}),(0,t.jsx)("tbody",{children:p.items.map(e=>{let s;return(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30",children:[(0,t.jsx)("td",{className:"py-3 px-4 text-white",children:e.productName}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-400 font-mono text-sm",children:e.sku}),(0,t.jsx)("td",{className:"py-3 px-4 text-center text-white",children:e.requestedQty}),(0,t.jsx)("td",{className:"py-3 px-4 text-center text-white",children:e.shippedQty||"-"}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:e.receivedQty>0?(0,t.jsxs)("span",{className:e.receivedQty<e.shippedQty?"text-amber-400":"text-white",children:[e.receivedQty,e.receivedQty<e.shippedQty&&(0,t.jsxs)("span",{className:"text-red-400 ml-1",children:["(",e.receivedQty-e.shippedQty,")"]})]}):"-"}),(0,t.jsx)("td",{className:"py-3 px-4 text-center",children:(s=({pending:{bg:"bg-slate-500/20",text:"text-slate-400",label:"Pending"},shipped:{bg:"bg-blue-500/20",text:"text-blue-400",label:"Shipped"},received:{bg:"bg-emerald-500/20",text:"text-emerald-400",label:"Received"},short:{bg:"bg-amber-500/20",text:"text-amber-400",label:"Short"}})[e.status],(0,t.jsx)("span",{className:`px-2 py-0.5 ${s.bg} ${s.text} rounded text-xs font-medium`,children:s.label}))})]},e.productId)})}),(0,t.jsx)("tfoot",{children:(0,t.jsxs)("tr",{className:"border-t border-slate-700",children:[(0,t.jsxs)("td",{colSpan:2,className:"py-3 px-4 text-sm font-medium text-slate-400",children:["Total (",p.items.length," item",1!==p.items.length?"s":"",")"]}),(0,t.jsx)("td",{className:"py-3 px-4 text-center font-semibold text-white",children:T.requested}),(0,t.jsx)("td",{className:"py-3 px-4 text-center font-semibold text-white",children:T.shipped||"-"}),(0,t.jsx)("td",{className:"py-3 px-4 text-center font-semibold text-white",children:T.received||"-"}),(0,t.jsx)("td",{})]})})]})})]}),p.notes&&(0,t.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Notes"}),(0,t.jsx)("p",{className:"text-slate-300",children:p.notes})]}),h&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex min-h-full items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>f(!1)}),(0,t.jsxs)("div",{className:"relative bg-slate-900 border border-slate-700/50 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Ship Transfer"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Confirm quantities being shipped"})]}),(0,t.jsx)("button",{onClick:()=>f(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)("i",{className:"fas fa-times"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)("i",{className:"fas fa-info-circle text-blue-400 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-blue-300",children:[(0,t.jsx)("p",{className:"font-medium",children:"Shipping will deduct inventory"}),(0,t.jsxs)("p",{className:"text-blue-400",children:["Stock will be removed from ",(0,t.jsx)("span",{className:"font-medium",children:p.fromLocationName})]})]})]}),p.items.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.productName}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:e.sku})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:["Requested: ",e.requestedQty]}),(0,t.jsx)("input",{type:"number",min:0,max:e.requestedQty,value:g[e.productId]||0,onChange:t=>j({...g,[e.productId]:Math.min(parseInt(t.target.value)||0,e.requestedQty)}),className:"w-20 bg-slate-700/50 border border-slate-600 rounded px-3 py-2 text-white text-center focus:outline-none focus:border-emerald-500"})]})]},e.productId))]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-700/50",children:[(0,t.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{if(!p)return;let e=p.items.map(e=>({...e,shippedQty:g[e.productId]||0,status:"shipped"})),t={...p,status:"in_transit",items:e,shippedAt:new Date,updatedAt:new Date};p.items.forEach(e=>{let t=g[e.productId]||0;t>0&&m({type:"ADJUST_STOCK",payload:{productId:e.productId,locationId:p.fromLocation,adjustment:-t}})}),m({type:"UPDATE_TRANSFER",payload:t}),x("Transfer shipped successfully"),f(!1)},className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-truck"}),"Confirm Ship"]})]})]})]})}),N&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex min-h-full items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1)}),(0,t.jsxs)("div",{className:"relative bg-slate-900 border border-slate-700/50 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Receive Transfer"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Enter quantities received at destination"})]}),(0,t.jsx)("button",{onClick:()=>y(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)("i",{className:"fas fa-times"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)("i",{className:"fas fa-info-circle text-emerald-400 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-emerald-300",children:[(0,t.jsx)("p",{className:"font-medium",children:"Receiving will add inventory"}),(0,t.jsxs)("p",{className:"text-emerald-400",children:["Stock will be added to ",(0,t.jsx)("span",{className:"font-medium",children:p.toLocationName})]})]})]}),p.items.map(e=>{let s=v[e.productId]||0,r=s<e.shippedQty;return(0,t.jsxs)("div",{className:`flex items-center justify-between p-4 bg-slate-800/50 border rounded-lg ${r?"border-amber-500/50":"border-slate-700/50"}`,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.productName}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:e.sku})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:["Shipped: ",e.shippedQty]}),(0,t.jsx)("input",{type:"number",min:0,max:e.shippedQty,value:s,onChange:t=>w({...v,[e.productId]:Math.min(parseInt(t.target.value)||0,e.shippedQty)}),className:`w-20 bg-slate-700/50 border rounded px-3 py-2 text-white text-center focus:outline-none ${r?"border-amber-500":"border-slate-600 focus:border-emerald-500"}`}),r&&(0,t.jsxs)("span",{className:"text-amber-400 text-sm",children:[(0,t.jsx)("i",{className:"fas fa-exclamation-triangle mr-1"}),"Short"]})]})]},e.productId)}),Object.keys(v).some(e=>{let t=p.items.find(t=>t.productId===e);return t&&(v[e]||0)<t.shippedQty})&&(0,t.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)("i",{className:"fas fa-exclamation-triangle text-amber-400 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-amber-300",children:[(0,t.jsx)("p",{className:"font-medium",children:"Some items are short"}),(0,t.jsx)("p",{className:"text-amber-400",children:"The quantities will be recorded but may require investigation."})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-700/50",children:[(0,t.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{if(!p)return;let e=p.items.map(e=>{let t=v[e.productId]||0,s=t<e.shippedQty;return{...e,receivedQty:t,status:s?"short":"received"}}),t={...p,status:"received",items:e,receivedAt:new Date,updatedAt:new Date};p.items.forEach(e=>{let t=v[e.productId]||0;t>0&&m({type:"ADJUST_STOCK",payload:{productId:e.productId,locationId:p.toLocation,adjustment:t}})}),m({type:"UPDATE_TRANSFER",payload:t});let s=e.filter(e=>"short"===e.status);s.length>0?x(`Transfer received with ${s.length} short item(s)`):x("Transfer received successfully"),y(!1)},className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-check"}),"Confirm Receive"]})]})]})]})}),k&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex min-h-full items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>S(!1)}),(0,t.jsx)("div",{className:"relative bg-slate-900 border border-slate-700/50 rounded-2xl shadow-2xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("i",{className:"fas fa-exclamation-triangle text-red-400 text-2xl"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Cancel Transfer?"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"in_transit"===p.status?"This transfer is in transit. Cancelling will restore the shipped quantities to the source location.":"Are you sure you want to cancel this transfer?"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 rounded-lg transition-colors",children:"Keep Transfer"}),(0,t.jsx)("button",{onClick:()=>{p&&("in_transit"===p.status&&p.items.forEach(e=>{e.shippedQty>0&&m({type:"ADJUST_STOCK",payload:{productId:e.productId,locationId:p.fromLocation,adjustment:e.shippedQty}})}),m({type:"UPDATE_TRANSFER",payload:{...p,status:"cancelled",updatedAt:new Date}}),x("Transfer cancelled"),S(!1))},className:"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors",children:"Cancel Transfer"})]})]})})]})})]})}e.s(["default",()=>c])}]);