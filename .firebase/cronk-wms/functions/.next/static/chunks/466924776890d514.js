(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5050,e=>{"use strict";var s=e.i(43476);let t={none:"",sm:"p-3",md:"p-4",lg:"p-5"};function a({children:e,className:a="",padding:l="md",header:i,headerAction:r,headerClassName:n=""}){return(0,s.jsxs)("div",{className:`bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden ${a}`,children:[(i||r)&&(0,s.jsxs)("div",{className:`px-5 py-4 border-b border-slate-700/50 flex items-center justify-between ${n}`,children:["string"==typeof i?(0,s.jsx)("h2",{className:"font-semibold text-white",children:i}):i,r]}),(0,s.jsx)("div",{className:t[l],children:e})]})}e.s(["Card",()=>a])},71689,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},45913,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(22016),l=e.i(73146),i=e.i(5050),r=e.i(76525),n=e.i(56156),d=e.i(80809),c=e.i(29618);e.i(59802);var o=e.i(71034),x=e.i(7292),m=e.i(39312),h=e.i(7233),u=e.i(75254);let p=(0,u.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var j=e.i(27612),g=e.i(87130),N=e.i(31343),v=e.i(71689),f=e.i(55436),b=e.i(1928),w=e.i(15505),y=e.i(78894),C=e.i(95729),k=e.i(3116),R=e.i(99181),A=e.i(64659);let T=(0,u.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),D=(0,u.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),_={order_created:b.ShoppingCart,order_status_changed:w.ArrowLeftRight,low_stock:y.AlertTriangle,item_received:C.PackageCheck,daily:k.Clock,manual:R.Hand};function L(){let{state:e,dispatch:u}=(0,l.useApp)(),{success:b,error:w}=(0,d.useToast)(),y=(0,c.useConfirm)(),[C,k]=(0,t.useState)(!1),[R,L]=(0,t.useState)(null),[S,$]=(0,t.useState)(""),[O,P]=(0,t.useState)("all"),[U,M]=(0,t.useState)("all"),[z,E]=(0,t.useState)(null),B=(0,t.useMemo)(()=>e.automationRules.filter(e=>{if(S){let s=S.toLowerCase(),t=e.name.toLowerCase().includes(s),a=e.description?.toLowerCase().includes(s);if(!t&&!a)return!1}return("active"!==O||!!e.enabled)&&("disabled"!==O||!e.enabled)&&("all"===U||e.trigger.type===U)}).sort((e,s)=>e.priority-s.priority),[e.automationRules,S,O,U]),I=(0,t.useMemo)(()=>{let s=e.automationRules.length,t=e.automationRules.filter(e=>e.enabled).length;return{total:s,active:t,disabled:s-t}},[e.automationRules]),Z=()=>{L(null),k(!0)},F=e=>{L(e),k(!0)},H=async e=>{await y({title:"Delete Rule",message:`Delete "${e.name}"? This action cannot be undone.`,confirmText:"Delete",destructive:!0})&&(u({type:"DELETE_AUTOMATION_RULE",payload:e.id}),b(`Rule "${e.name}" deleted`))};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(a.default,{href:"/settings",className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,s.jsx)(v.ArrowLeft,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Automation Rules"}),(0,s.jsx)("p",{className:"text-slate-400",children:"Automate repetitive warehouse tasks"})]})]}),(0,s.jsxs)(r.Button,{onClick:Z,children:[(0,s.jsx)(h.Plus,{className:"w-4 h-4"}),"Create Rule"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsx)(i.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center",children:(0,s.jsx)(m.Zap,{className:"w-5 h-5 text-slate-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:I.total}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Total Rules"})]})]})}),(0,s.jsx)(i.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:(0,s.jsx)(N.Play,{className:"w-5 h-5 text-emerald-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-emerald-400",children:I.active}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Active"})]})]})}),(0,s.jsx)(i.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-700/50 flex items-center justify-center",children:(0,s.jsx)(g.Filter,{className:"w-5 h-5 text-slate-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-slate-400",children:I.disabled}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Disabled"})]})]})})]}),(0,s.jsx)(i.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,s.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,s.jsx)("input",{type:"text",value:S,onChange:e=>$(e.target.value),placeholder:"Search rules...",className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500/50"})]}),(0,s.jsxs)("select",{value:O,onChange:e=>P(e.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500/50",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"active",children:"Active Only"}),(0,s.jsx)("option",{value:"disabled",children:"Disabled Only"})]}),(0,s.jsxs)("select",{value:U,onChange:e=>M(e.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500/50",children:[(0,s.jsx)("option",{value:"all",children:"All Triggers"}),(0,s.jsx)("option",{value:"order_created",children:"New Order"}),(0,s.jsx)("option",{value:"order_status_changed",children:"Status Change"}),(0,s.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,s.jsx)("option",{value:"item_received",children:"Item Received"}),(0,s.jsx)("option",{value:"daily",children:"Daily Schedule"}),(0,s.jsx)("option",{value:"manual",children:"Manual"})]})]})}),0===B.length?(0,s.jsxs)(i.Card,{className:"p-12 text-center",children:[(0,s.jsx)(m.Zap,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:0===e.automationRules.length?"No automation rules yet":"No rules match your filters"}),(0,s.jsx)("p",{className:"text-slate-400 mb-6",children:0===e.automationRules.length?"Create your first automation rule to streamline your warehouse operations":"Try adjusting your search or filters"}),0===e.automationRules.length&&(0,s.jsxs)(r.Button,{onClick:Z,children:[(0,s.jsx)(h.Plus,{className:"w-4 h-4"}),"Create Your First Rule"]})]}):(0,s.jsx)("div",{className:"space-y-3",children:B.map(e=>{let t=_[e.trigger.type]||m.Zap,a=z===e.id;return(0,s.jsx)(i.Card,{className:`overflow-hidden transition-all ${e.enabled?"border-emerald-500/30":"border-slate-700/50"}`,children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,s.jsx)("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${e.enabled?"bg-emerald-500/20":"bg-slate-700/50"}`,children:(0,s.jsx)(t,{className:`w-5 h-5 ${e.enabled?"text-emerald-400":"text-slate-400"}`})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"font-medium text-white",children:e.name}),e.enabled?(0,s.jsx)("span",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-400 text-xs rounded-full",children:"Active"}):(0,s.jsx)("span",{className:"px-2 py-0.5 bg-slate-600/50 text-slate-400 text-xs rounded-full",children:"Disabled"}),(0,s.jsxs)("span",{className:"px-2 py-0.5 bg-slate-700/50 text-slate-400 text-xs rounded",children:["Priority: ",e.priority]})]}),e.description&&(0,s.jsx)("p",{className:"text-sm text-slate-400 mt-1 line-clamp-1",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(m.Zap,{className:"w-3 h-3"}),(0,x.getTriggerLabel)(e.trigger)]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(g.Filter,{className:"w-3 h-3"}),e.conditions.length," condition",1!==e.conditions.length?"s":""]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(N.Play,{className:"w-3 h-3"}),e.actions.length," action",1!==e.actions.length?"s":""]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Toggle,{checked:e.enabled,onChange:()=>{u({type:"TOGGLE_RULE",payload:e.id}),b(`Rule "${e.name}" ${e.enabled?"disabled":"enabled"}`)}}),(0,s.jsx)("button",{onClick:()=>{var s;E(z===(s=e.id)?null:s)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:a?(0,s.jsx)(T,{className:"w-4 h-4"}):(0,s.jsx)(A.ChevronDown,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>F(e),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:(0,s.jsx)(p,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>H(e),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded-lg transition-colors",children:(0,s.jsx)(j.Trash2,{className:"w-4 h-4"})})]})]}),a&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs font-medium text-slate-400 uppercase mb-2",children:"Conditions"}),0===e.conditions.length?(0,s.jsx)("p",{className:"text-sm text-slate-500 italic",children:"No conditions - runs for all triggers"}):(0,s.jsx)("div",{className:"space-y-1",children:e.conditions.map((e,t)=>(0,s.jsxs)("div",{className:"text-sm text-slate-300",children:[t>0&&(0,s.jsx)("span",{className:"text-slate-500 mr-1",children:"AND"}),(0,s.jsx)("span",{className:"text-white",children:e.field}),(0,s.jsx)("span",{className:"text-slate-400 mx-1",children:e.operator.replace("_"," ")}),(0,s.jsx)("span",{className:"text-emerald-400",children:String(e.value)})]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs font-medium text-slate-400 uppercase mb-2",children:"Actions"}),(0,s.jsx)("div",{className:"space-y-1",children:e.actions.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(N.Play,{className:"w-3 h-3 text-emerald-400"}),(0,s.jsx)("span",{className:"text-slate-300",children:(0,x.getActionLabel)(e)})]},e.id))})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-slate-700/50",children:[(0,s.jsxs)(r.Button,{variant:"secondary",size:"sm",onClick:()=>{b(`Rule "${e.name}" triggered manually`)},children:[(0,s.jsx)(N.Play,{className:"w-4 h-4"}),"Run Now"]}),(0,s.jsxs)(r.Button,{variant:"secondary",size:"sm",onClick:()=>{let s;u({type:"ADD_AUTOMATION_RULE",payload:s={...e,id:crypto.randomUUID(),name:`${e.name} (Copy)`,enabled:!1,createdAt:new Date,updatedAt:new Date}}),b(`Rule duplicated as "${s.name}"`)},children:[(0,s.jsx)(D,{className:"w-4 h-4"}),"Duplicate"]}),(0,s.jsxs)(r.Button,{variant:"secondary",size:"sm",onClick:()=>F(e),children:[(0,s.jsx)(p,{className:"w-4 h-4"}),"Edit"]})]})]})]})},e.id)})}),(0,s.jsx)(i.Card,{className:"p-4 bg-blue-500/10 border-blue-500/30",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:(0,s.jsx)(m.Zap,{className:"w-5 h-5 text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-white",children:"How Automation Rules Work"}),(0,s.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Rules are evaluated in priority order (lowest first). When a trigger event occurs (like a new order), the system checks each rule's conditions. If conditions are met, all actions are executed automatically. Use rules to automate carrier assignment, order tagging, notifications, and more."})]})]})}),(0,s.jsx)(o.AutomationRuleModal,{isOpen:C,onClose:()=>k(!1),editRule:R})]})}e.s(["default",()=>L],45913)}]);