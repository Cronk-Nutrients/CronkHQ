(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64635,48616,e=>{"use strict";var t=e.i(43476),r=e.i(63207);function s({icon:e,iconColor:s,value:l,label:a,format:o="number",onClick:n,isActive:i=!1,borderColor:c}){let d={blue:{border:"border-blue-500/30",bg:"bg-blue-500/10",hover:"hover:bg-blue-500/10",iconBg:"bg-blue-500/20",ring:"ring-blue-500/30"},emerald:{border:"border-emerald-500/30",bg:"bg-emerald-500/10",hover:"hover:bg-emerald-500/10",iconBg:"bg-emerald-500/20",ring:"ring-emerald-500/30"},amber:{border:"border-amber-500/30",bg:"bg-amber-500/10",hover:"hover:bg-amber-500/10",iconBg:"bg-amber-500/20",ring:"ring-amber-500/30"},red:{border:"border-red-500/30",bg:"bg-red-500/10",hover:"hover:bg-red-500/10",iconBg:"bg-red-500/20",ring:"ring-red-500/30"},purple:{border:"border-purple-500/30",bg:"bg-purple-500/10",hover:"hover:bg-purple-500/10",iconBg:"bg-purple-500/20",ring:"ring-purple-500/30"},slate:{border:"border-slate-700/50",bg:"bg-slate-700/30",hover:"hover:bg-slate-700/30",iconBg:"bg-slate-700/50",ring:"ring-slate-500/30"}},u=d[s]||d.slate,x="currency"===o?(0,r.formatCurrency)("number"==typeof l?l:0):"number"===o?(0,r.formatNumber)("number"==typeof l?l:0):l,m="slate"===s||"white"===s?"text-white":`text-${s}-400`;return(0,t.jsx)("div",{onClick:n,className:`bg-slate-800/50 backdrop-blur border rounded-xl p-4 transition-colors ${n?"cursor-pointer":""} ${u.hover} ${i?`${u.border.replace("/30","/50")} ${u.bg} ring-2 ${u.ring}`:c||u.border}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg ${u.iconBg} flex items-center justify-center`,children:(0,t.jsx)("i",{className:`fas ${e} text-${s}-400`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`text-2xl font-bold ${m}`,children:x}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:a})]})]})})}function l({children:e,columns:r=4}){return(0,t.jsx)("div",{className:`grid ${{4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6",7:"grid-cols-7"}[r]} gap-4`,children:e})}function a({current:e,total:r,completed:s=!1}){let l=r>0?e/r*100:0;return(0,t.jsxs)("div",{className:"w-32",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,t.jsxs)("span",{className:"text-slate-400",children:[e,"/",r]}),(0,t.jsxs)("span",{className:"text-slate-500",children:[Math.round(l),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2",children:(0,t.jsx)("div",{className:`rounded-full h-2 transition-all ${s?"bg-emerald-500":"bg-blue-500"}`,style:{width:`${l}%`}})})]})}function o({value:e,onChange:r,options:s,placeholder:l}){return(0,t.jsxs)("select",{value:e,onChange:e=>r(e.target.value),className:"bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2.5 text-slate-200 focus:outline-none focus:border-emerald-500",children:[l&&(0,t.jsx)("option",{value:"",children:l}),s.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})}function n({value:e,onChange:r,placeholder:s="Search..."}){return(0,t.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,t.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),(0,t.jsx)("input",{type:"text",placeholder:s,value:e,onChange:e=>r(e.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2.5 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500/50"})]})}function i({onClick:e}){return(0,t.jsxs)("button",{onClick:e,className:"px-3 py-2.5 text-slate-400 hover:text-slate-200 transition-colors flex items-center gap-2",children:[(0,t.jsx)("i",{className:"fas fa-times text-sm"}),"Clear"]})}function c({children:e}){return(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:e})}function d({title:e,subtitle:r,icon:s,backHref:l,actions:a}){return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[l&&(0,t.jsx)("a",{href:l,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)("i",{className:"fas fa-arrow-left"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[s,e]}),r&&(0,t.jsx)("p",{className:"text-sm text-slate-400",children:r})]})]}),a]})}e.s(["ClickableStatCard",()=>s,"InventoryStatsGrid",()=>l,"ProgressBar",()=>a],64635),e.s(["ClearFiltersButton",()=>i,"FilterBar",()=>c,"FilterSelect",()=>o,"PageHeader",()=>d,"SearchInput",()=>n],48616)},59216,e=>{"use strict";var t=e.i(43476);function r({status:e,config:r,animated:s=!1}){let l=r[e];if(!l)return null;let a={slate:"bg-slate-500/10 text-slate-400 border-slate-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",emerald:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",red:"bg-red-500/10 text-red-400 border-red-500/20",purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",orange:"bg-orange-500/10 text-orange-400 border-orange-500/20",cyan:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20"};return(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full border ${a[l.color]||a.slate}`,children:[(0,t.jsx)("i",{className:`fas ${l.icon} ${s?"fa-spin":""} text-[10px]`}),l.label]})}function s({type:e,config:r}){let s=r[e];return s?(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded border ${{purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20"}[s.color]||""}`,children:s.label}):null}function l({status:e,compact:r=!1}){let s={in_stock:{text:"In Stock",color:"text-emerald-400",bg:"bg-emerald-500/10",icon:"✓"},low_stock:{text:"Low Stock",color:"text-amber-400",bg:"bg-amber-500/10",icon:"↓"},out_of_stock:{text:"Out of Stock",color:"text-red-400",bg:"bg-red-500/10",icon:"✗"}}[e];return r?(0,t.jsxs)("span",{className:`text-xs ${s.color}`,children:[s.icon," ",s.text]}):(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded ${s.bg} ${s.color}`,children:s.text})}let a={nutrients:{gradient:"from-emerald-500/20 to-emerald-600/20",border:"border-emerald-500/20",text:"text-emerald-400",icon:"fa-flask",label:"Nutrients"},supplements:{gradient:"from-purple-500/20 to-purple-600/20",border:"border-purple-500/20",text:"text-purple-400",icon:"fa-seedling",label:"Supplements"},ph_adjusters:{gradient:"from-blue-500/20 to-blue-600/20",border:"border-blue-500/20",text:"text-blue-400",icon:"fa-vial",label:"pH Adjusters"},bundles:{gradient:"from-amber-500/20 to-amber-600/20",border:"border-amber-500/20",text:"text-amber-400",icon:"fa-boxes-stacked",label:"Bundles"}};function o(e){return a[e]||a.nutrients}function n({category:e,size:r="md"}){let s=o(e),l={sm:{container:"w-8 h-8",icon:"text-sm"},md:{container:"w-12 h-12",icon:""},lg:{container:"w-16 h-16",icon:"text-2xl"}};return(0,t.jsx)("div",{className:`${l[r].container} bg-gradient-to-br ${s.gradient} rounded-lg flex items-center justify-center border ${s.border}`,children:(0,t.jsx)("i",{className:`fas ${s.icon} ${s.text} ${l[r].icon}`})})}e.s(["CategoryIcon",()=>n,"StatusBadge",()=>r,"StockStatus",()=>l,"TypeBadge",()=>s,"categoryStyles",0,a,"countTypeConfig",0,{full:{label:"Full Count",color:"purple"},cycle:{label:"Cycle Count",color:"blue"},spot:{label:"Spot Check",color:"amber"}},"getCategoryStyle",()=>o,"stockCountStatusConfig",0,{draft:{color:"slate",icon:"fa-file",label:"Draft"},in_progress:{color:"blue",icon:"fa-spinner",label:"In Progress"},completed:{color:"emerald",icon:"fa-check-circle",label:"Completed"},cancelled:{color:"red",icon:"fa-times-circle",label:"Cancelled"}},"transferStatusConfig",0,{draft:{color:"slate",icon:"fa-edit",label:"Draft"},pending:{color:"amber",icon:"fa-clock",label:"Pending"},in_transit:{color:"blue",icon:"fa-truck",label:"In Transit"},received:{color:"emerald",icon:"fa-check",label:"Received"},cancelled:{color:"red",icon:"fa-times",label:"Cancelled"}}])},40554,e=>{"use strict";var t=e.i(43476);function r({icon:e,title:r,description:s,showFilterHint:l,action:a}){return(0,t.jsxs)("div",{className:"p-8 text-center text-slate-500",children:[(0,t.jsx)("i",{className:`fas ${e} text-4xl mb-4 text-slate-600`}),(0,t.jsx)("p",{className:"font-medium text-white mb-2",children:r}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:s}),l&&(0,t.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting your filters"}),a&&(0,t.jsx)("div",{className:"mt-4",children:a})]})}function s({currentPage:e,totalPages:r,totalItems:s,itemsPerPage:l,itemLabel:a="items",onPageChange:o}){if(r<=1)return null;let n=Math.min(e*l,s);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-t border-slate-700/50",children:[(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:["Showing ",(e-1)*l+1," to ",n," of ",s," ",a]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>o(Math.max(1,e-1)),disabled:1===e,className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-chevron-left"})}),Array.from({length:Math.min(5,r)},(s,l)=>{let a;return a=r<=5||e<=3?l+1:e>=r-2?r-4+l:e-2+l,(0,t.jsx)("button",{onClick:()=>o(a),className:`px-3 py-1.5 rounded-lg transition-colors ${e===a?"bg-emerald-600 text-white":"bg-slate-700/50 hover:bg-slate-600/50 text-slate-300"}`,children:a},a)}),(0,t.jsx)("button",{onClick:()=>o(Math.min(r,e+1)),disabled:e===r,className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-600/50 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-slate-300 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-chevron-right"})})]})]})}function l({children:e}){return(0,t.jsx)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-xl overflow-hidden",children:e})}function a({icon:e,onClick:r,color:s="slate",title:l,disabled:a}){return(0,t.jsx)("button",{onClick:r,disabled:a,title:l,className:`p-2 rounded-lg transition-colors ${{slate:"text-slate-400 hover:bg-slate-600/50",blue:"text-blue-400 hover:bg-blue-500/20",emerald:"text-emerald-400 hover:bg-emerald-500/20",amber:"text-amber-400 hover:bg-amber-500/20",red:"text-red-400 hover:bg-red-500/20"}[s]} ${a?"opacity-50 cursor-not-allowed":""}`,children:(0,t.jsx)("i",{className:`fas ${e}`})})}function o({icon:e,label:r,onClick:s,variant:l="primary"}){return(0,t.jsxs)("button",{onClick:s,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${{primary:"bg-emerald-600 hover:bg-emerald-500 text-white",secondary:"bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300"}[l]}`,children:[(0,t.jsx)("i",{className:`fas ${e} text-sm`}),r]})}e.s(["ActionButton",()=>a,"EmptyState",()=>r,"Pagination",()=>s,"PrimaryActionButton",()=>o,"TableWrapper",()=>l])},49121,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),l=e.i(73146),a=e.i(80809);e.i(59802);var o=e.i(93737),n=e.i(59216),i=e.i(64635),c=e.i(48616),d=e.i(40554);function u(){let e=(0,s.useSearchParams)(),u=(0,s.useRouter)(),{state:x,dispatch:m}=(0,l.useApp)(),{success:b,warning:p}=(0,a.useToast)(),[g,h]=(0,r.useState)(!1),[f,j]=(0,r.useState)(""),[v,C]=(0,r.useState)(e.get("status")||""),[N,y]=(0,r.useState)(""),[k,w]=(0,r.useState)(1),S=(0,r.useMemo)(()=>x.stockCounts.filter(e=>{let t=e.countNumber.toLowerCase().includes(f.toLowerCase())||e.name.toLowerCase().includes(f.toLowerCase())||e.locationName.toLowerCase().includes(f.toLowerCase()),r=!v||e.status===v,s=!N||e.type===N;return t&&r&&s}),[x.stockCounts,f,v,N]),$=Math.ceil(S.length/10),B=S.slice((k-1)*10,10*k),T=(0,r.useMemo)(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);return{activeCounts:x.stockCounts.filter(e=>"in_progress"===e.status).length,completedThisMonth:x.stockCounts.filter(e=>"completed"===e.status&&e.completedAt&&new Date(e.completedAt)>=t).length,discrepancyItems:x.stockCounts.filter(e=>"in_progress"===e.status||"completed"===e.status).reduce((e,t)=>e+t.summary.discrepancyItems,0),totalVariance:x.stockCounts.filter(e=>"completed"===e.status).reduce((e,t)=>e+t.summary.totalVariance,0)}},[x.stockCounts]),A=e=>{C(t=>t===e?"":e),w(1)},P=!!(f||v||N);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(c.PageHeader,{title:"Stock Counts",subtitle:"Physical inventory verification",backHref:"/inventory",actions:(0,t.jsx)(d.PrimaryActionButton,{icon:"fa-plus",label:"New Count",onClick:()=>h(!0)})}),(0,t.jsxs)(i.InventoryStatsGrid,{children:[(0,t.jsx)(i.ClickableStatCard,{icon:"fa-clipboard-list",iconColor:"blue",value:T.activeCounts,label:"Active Counts",onClick:()=>A("in_progress"),isActive:"in_progress"===v}),(0,t.jsx)(i.ClickableStatCard,{icon:"fa-check-circle",iconColor:"emerald",value:T.completedThisMonth,label:"Completed This Month",onClick:()=>A("completed"),isActive:"completed"===v}),(0,t.jsx)(i.ClickableStatCard,{icon:"fa-exclamation-triangle",iconColor:"amber",value:T.discrepancyItems,label:"Items with Discrepancy"}),(0,t.jsx)(i.ClickableStatCard,{icon:"fa-dollar-sign",iconColor:T.totalVariance>=0?"emerald":"red",value:Math.abs(T.totalVariance),format:"currency",label:"Total Variance Value"})]}),(0,t.jsxs)(c.FilterBar,{children:[(0,t.jsx)(c.SearchInput,{value:f,onChange:j,placeholder:"Search counts..."}),(0,t.jsx)(c.FilterSelect,{value:v,onChange:e=>{C(e),w(1)},placeholder:"All Statuses",options:[{value:"draft",label:"Draft"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}]}),(0,t.jsx)(c.FilterSelect,{value:N,onChange:e=>{y(e),w(1)},placeholder:"All Types",options:[{value:"full",label:"Full Count"},{value:"cycle",label:"Cycle Count"},{value:"spot",label:"Spot Check"}]}),P&&(0,t.jsx)(c.ClearFiltersButton,{onClick:()=>{j(""),C(""),y(""),w(1)}})]}),(0,t.jsxs)(d.TableWrapper,{children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Count #"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Type"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Location"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Progress"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Started"}),(0,t.jsx)("th",{className:"text-right p-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===B.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,children:(0,t.jsx)(d.EmptyState,{icon:"fa-clipboard-check",title:"No stock counts found",description:P?"Try adjusting your filters":"Create your first stock count to verify inventory",showFilterHint:P})})}):B.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/30 hover:bg-slate-700/30 cursor-pointer transition-colors",onClick:()=>u.push(`/inventory/counts/${e.id}`),children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("div",{className:"font-medium text-white",children:e.countNumber})}),(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsx)("div",{className:"text-slate-200",children:e.name}),e.assignedTo&&(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["Assigned to: ",e.assignedTo]})]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(n.TypeBadge,{type:e.type,config:n.countTypeConfig})}),(0,t.jsx)("td",{className:"p-4 text-slate-300",children:e.locationName}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(i.ProgressBar,{current:e.summary.countedItems,total:e.summary.totalItems,completed:"completed"===e.status})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)(n.StatusBadge,{status:e.status,config:n.stockCountStatusConfig,animated:"in_progress"===e.status})}),(0,t.jsx)("td",{className:"p-4 text-slate-300",children:e.startedAt?new Date(e.startedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-"}),(0,t.jsx)("td",{className:"p-4 text-right",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["draft"===e.status&&(0,t.jsx)(d.ActionButton,{icon:"fa-play",color:"blue",title:"Start Count",onClick:()=>u.push(`/inventory/counts/${e.id}`)}),"in_progress"===e.status&&(0,t.jsx)(d.ActionButton,{icon:"fa-arrow-right",color:"emerald",title:"Continue Count",onClick:()=>u.push(`/inventory/counts/${e.id}`)}),"in_progress"!==e.status&&(0,t.jsx)(d.ActionButton,{icon:"fa-trash",color:"red",title:"Delete",onClick:t=>{(t.stopPropagation(),"in_progress"===e.status)?p("Cannot delete an active count. Cancel it first."):(m({type:"DELETE_STOCK_COUNT",payload:e.id}),b(`Stock count ${e.countNumber} deleted`))}}),(0,t.jsx)(d.ActionButton,{icon:"fa-chevron-right",title:"View Details",onClick:()=>u.push(`/inventory/counts/${e.id}`)})]})})]},e.id))})]}),(0,t.jsx)(d.Pagination,{currentPage:k,totalPages:$,totalItems:S.length,itemsPerPage:10,itemLabel:"counts",onPageChange:w})]}),(0,t.jsx)(o.CreateStockCountModal,{isOpen:g,onClose:()=>h(!1)})]})}function x(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,t.jsx)("div",{className:"h-8 bg-slate-800/50 rounded w-48"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,r)=>(0,t.jsx)("div",{className:"h-24 bg-slate-800/50 rounded-xl"},r))}),(0,t.jsx)("div",{className:"h-96 bg-slate-800/50 rounded-xl"})]}),children:(0,t.jsx)(u,{})})}e.s(["default",()=>x])}]);