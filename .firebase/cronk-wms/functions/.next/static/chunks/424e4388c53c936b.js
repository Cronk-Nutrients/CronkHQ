(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76525,e=>{"use strict";var t=e.i(43476),s=e.i(22016);let a={primary:"bg-emerald-600 hover:bg-emerald-500 text-white border-transparent",secondary:"bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700",ghost:"bg-transparent hover:bg-slate-800 text-slate-400 hover:text-white border-transparent",danger:"bg-red-600 hover:bg-red-500 text-white border-transparent"},r={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"};function l({variant:e="primary",size:l="md",icon:i,iconPosition:n="left",children:o,className:d="",disabled:c,href:m,...x}){let u=`inline-flex items-center justify-center gap-2 font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${a[e]} ${r[l]} ${d}`,h=(0,t.jsxs)(t.Fragment,{children:[i&&"left"===n&&(0,t.jsx)("i",{className:i}),o,i&&"right"===n&&(0,t.jsx)("i",{className:i})]});return m?(0,t.jsx)(s.default,{href:m,className:u,children:h}):(0,t.jsx)("button",{className:u,disabled:c,...x,children:h})}e.s(["Button",()=>l])},42335,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(76009);e.i(36180);var r=e.i(98925),l=e.i(77524),i=e.i(80809),n=e.i(76525),o=e.i(22016);let d=[{name:"Gray",value:"#64748b"},{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Amber",value:"#f59e0b"},{name:"Yellow",value:"#eab308"},{name:"Lime",value:"#84cc16"},{name:"Green",value:"#22c55e"},{name:"Emerald",value:"#10b981"},{name:"Teal",value:"#14b8a6"},{name:"Cyan",value:"#06b6d4"},{name:"Blue",value:"#3b82f6"},{name:"Indigo",value:"#6366f1"},{name:"Violet",value:"#8b5cf6"},{name:"Purple",value:"#a855f7"},{name:"Pink",value:"#ec4899"}];function c(){let{organization:e}=(0,l.useOrganization)(),{success:c,error:m}=(0,i.useToast)(),[x,u]=(0,s.useState)([]),[h,b]=(0,s.useState)(!0),[f,g]=(0,s.useState)(!1),[p,v]=(0,s.useState)(null),[j,N]=(0,s.useState)(""),[y,C]=(0,s.useState)(""),[w,k]=(0,s.useState)("#10b981"),[S,A]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!e?.id)return;let t=(0,r.collection)(a.db,"organizations",e.id,"categories"),s=(0,r.query)(t,(0,r.orderBy)("sortOrder"),(0,r.orderBy)("name")),l=(0,r.onSnapshot)(s,e=>{u(e.docs.map(e=>({id:e.id,...e.data()}))),b(!1)});return()=>l()},[e?.id]);let B=()=>{v(null),N(""),C(""),k("#10b981"),g(!0)},z=async()=>{if(e?.id&&j.trim()){A(!0);try{let t=(0,r.collection)(a.db,"organizations",e.id,"categories");if(p)await (0,r.updateDoc)((0,r.doc)(t,p.id),{name:j.trim(),description:y.trim()||null,color:w,updatedAt:(0,r.serverTimestamp)()}),c("Category updated");else{let e=(0,r.doc)(t);await (0,r.setDoc)(e,{name:j.trim(),slug:j.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").substring(0,50),description:y.trim()||null,parentId:null,color:w,productCount:0,isActive:!0,sortOrder:x.length,createdAt:(0,r.serverTimestamp)(),updatedAt:(0,r.serverTimestamp)()}),c("Category created")}g(!1)}catch(e){console.error("Error saving category:",e),m("Failed to save category")}finally{A(!1)}}},T=async t=>{if(e?.id){if(t.productCount>0)return void m(`Cannot delete category with ${t.productCount} products. Reassign products first.`);if(confirm(`Delete "${t.name}"?`))try{await (0,r.deleteDoc)((0,r.doc)(a.db,"organizations",e.id,"categories",t.id)),c("Category deleted")}catch(e){console.error("Error deleting category:",e),m("Failed to delete category")}}};return h?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):(0,t.jsxs)("div",{className:"max-w-4xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400 mb-6",children:[(0,t.jsx)(o.default,{href:"/settings",className:"hover:text-white transition-colors",children:"Settings"}),(0,t.jsx)("i",{className:"fas fa-chevron-right text-xs"}),(0,t.jsx)("span",{className:"text-white",children:"Categories"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Categories"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Organize your products into categories"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[(0,t.jsxs)("span",{className:"text-slate-400",children:[x.length," categories"]}),(0,t.jsxs)(n.Button,{onClick:B,children:[(0,t.jsx)("i",{className:"fas fa-plus mr-2"}),"Add Category"]})]}),0===x.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("i",{className:"fas fa-folder-open text-2xl text-slate-500"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No categories yet"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Create categories to organize your products"}),(0,t.jsxs)(n.Button,{variant:"secondary",onClick:B,children:[(0,t.jsx)("i",{className:"fas fa-plus mr-2"}),"Create Your First Category"]})]}):(0,t.jsx)("div",{className:"divide-y divide-slate-700",children:x.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),e.description&&(0,t.jsx)("div",{className:"text-sm text-slate-500",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-500",children:[e.productCount," products"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{onClick:()=>{v(e),N(e.name),C(e.description||""),k(e.color),g(!0)},className:"p-2 text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)("i",{className:"fas fa-pencil"})}),(0,t.jsx)("button",{onClick:()=>T(e),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:(0,t.jsx)("i",{className:"fas fa-trash"})})]})]})]},e.id))})]}),f&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:p?"Edit Category":"Add Category"}),(0,t.jsx)("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-white",children:(0,t.jsx)("i",{className:"fas fa-times"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Category Name *"}),(0,t.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"e.g., Liquid Nutrients, Labels, Accessories",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500",autoFocus:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:y,onChange:e=>C(e.target.value),placeholder:"Optional description...",rows:2,className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Color"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(e=>(0,t.jsx)("button",{onClick:()=>k(e.value),className:`w-8 h-8 rounded-full transition-all ${w===e.value?"ring-2 ring-white ring-offset-2 ring-offset-slate-900":"hover:scale-110"}`,style:{backgroundColor:e.value},title:e.name},e.value))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-700",children:[(0,t.jsx)(n.Button,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),(0,t.jsx)(n.Button,{onClick:z,disabled:S||!j.trim(),children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"fas fa-check mr-2"}),p?"Update":"Create"]})})]})]})})]})}e.s(["default",()=>c])}]);