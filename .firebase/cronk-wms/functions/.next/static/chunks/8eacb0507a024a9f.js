(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45423,e=>{"use strict";let t=(0,e.i(75254).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>t],45423)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},18566,(e,t,r)=>{t.exports=e.r(76562)},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={assign:function(){return o},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return l}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});function i(e){let t={};for(let[r,s]of e.entries()){let e=t[r];void 0===e?t[r]=s:Array.isArray(e)?e.push(s):t[r]=[e,s]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,s]of Object.entries(e))if(Array.isArray(s))for(let e of s)t.append(r,n(e));else t.set(r,n(s));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,s]of r.entries())e.append(t,s)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(90809)._(e.r(98183)),n=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,s=e.protocol||"",a=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(i.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),a=a.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${s}${c}${a}${d}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=e.r(71645);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=i(e,s)),t&&(a.current=i(t,s))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return w},NormalizeError:function(){return x},PageNotFoundError:function(){return v},SP:function(){return h},ST:function(){return b},WEB_VITALS:function(){return i},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return f},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return j}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return(...s)=>(r||(r=!0,t=e(...s)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&f(r))return s;if(!s)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${s}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let h="undefined"!=typeof performance,b=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class x extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class w extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},38982,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return i}});let s=e.r(18967),a=e.r(52817);function i(e){if(!(0,s.isAbsoluteUrl)(e))return!0;try{let t=(0,s.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return g},useLinkStatus:function(){return v}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(90809),n=e.r(43476),l=i._(e.r(71645)),o=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),f=e.r(5550);e.r(33525);let p=e.r(91949),m=e.r(38982),h=e.r(9396);function b(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var r;let s,a,i,[o,g]=(0,l.useOptimistic)(p.IDLE_LINK_STATUS),v=(0,l.useRef)(null),{href:w,as:y,children:j,prefetch:k=null,passHref:N,replace:_,shallow:C,scroll:S,onClick:P,onMouseEnter:O,onTouchStart:A,legacyBehavior:E=!1,onNavigate:R,ref:M,unstable_dynamicOnHover:D,...T}=t;s=j,E&&("string"==typeof s||"number"==typeof s)&&(s=(0,n.jsx)("a",{children:s}));let $=l.default.useContext(c.AppRouterContext),L=!1!==k,U=!1!==k?null===(r=k)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:B,as:I}=l.default.useMemo(()=>{let e=b(w);return{href:e,as:y?b(y):e}},[w,y]);if(E){if(s?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=l.default.Children.only(s)}let z=E?a&&"object"==typeof a&&a.ref:M,F=l.default.useCallback(e=>(null!==$&&(v.current=(0,p.mountLinkInstance)(e,B,$,U,L,g)),()=>{v.current&&((0,p.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,p.unmountPrefetchableInstance)(e)}),[L,B,$,U,g]),W={ref:(0,d.useMergedRef)(F,z),onClick(t){E||"function"!=typeof P||P(t),E&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!$||t.defaultPrevented||function(t,r,s,a,i,n,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){i&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);l.default.startTransition(()=>{u(s||r,i?"replace":"push",n??!0,a.current)})}}(t,B,I,v,_,S,R)},onMouseEnter(e){E||"function"!=typeof O||O(e),E&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),$&&L&&(0,p.onNavigationIntent)(e.currentTarget,!0===D)},onTouchStart:function(e){E||"function"!=typeof A||A(e),E&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),$&&L&&(0,p.onNavigationIntent)(e.currentTarget,!0===D)}};return(0,u.isAbsoluteUrl)(I)?W.href=I:E&&!N&&("a"!==a.type||"href"in a.props)||(W.href=(0,f.addBasePath)(I)),i=E?l.default.cloneElement(a,W):(0,n.jsx)("a",{...T,...W,children:s}),(0,n.jsx)(x.Provider,{value:o,children:i})}e.r(84508);let x=(0,l.createContext)(p.IDLE_LINK_STATUS),v=()=>(0,l.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:l="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...a,width:r,height:r,stroke:e,strokeWidth:n?24*Number(i)/Number(r):i,className:s("lucide",l),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),n=(e,a)=>{let n=(0,t.forwardRef)(({className:n,...l},o)=>(0,t.createElement)(i,{ref:o,iconNode:a,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...l}));return n.displayName=r(e),n};e.s(["default",()=>n],75254)},88844,e=>{"use strict";let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},1928,e=>{"use strict";let t=(0,e.i(75254).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>t],1928)},25936,41059,e=>{"use strict";var t=e.i(97815);let r={admin:["dashboard.view","dashboard.view_revenue","dashboard.view_costs","dashboard.view_marketing","inventory.view","inventory.create","inventory.edit","inventory.delete","inventory.view_costs","inventory.adjust_stock","products.view","products.create","products.edit","products.delete","products.view_costs","orders.view","orders.create","orders.edit","orders.delete","orders.view_costs","fulfillment.view","fulfillment.pick","fulfillment.pack","fulfillment.ship","fba.view","fba.process","purchase_orders.view","purchase_orders.create","purchase_orders.edit","purchase_orders.delete","purchase_orders.receive","purchase_orders.view_costs","work_orders.view","work_orders.create","work_orders.edit","work_orders.delete","work_orders.process","returns.view","returns.process","returns.create","stock.transfer","stock.cycle_count","stock.adjust","suppliers.view","suppliers.create","suppliers.edit","suppliers.delete","suppliers.view_costs","reports.view","reports.view_financial","reports.view_costs","reports.export","marketing.view","marketing.view_spend","marketing.view_roas","settings.view","settings.company","settings.locations","settings.users","settings.integrations","settings.billing","users.view","users.create","users.edit","users.delete","users.change_roles"],warehouse:["dashboard.view","inventory.view","inventory.adjust_stock","products.view","orders.view","fulfillment.view","fulfillment.pick","fulfillment.pack","fulfillment.ship","fba.view","fba.process","purchase_orders.view","purchase_orders.receive","work_orders.view","work_orders.process","returns.view","returns.process","stock.transfer","stock.cycle_count","stock.adjust","suppliers.view","settings.view","settings.locations"],viewer:["dashboard.view","inventory.view","products.view","orders.view","fulfillment.view","fba.view","purchase_orders.view","work_orders.view","returns.view","suppliers.view","reports.view","settings.view"]};function s(e,t){return r[e]?.includes(t)??!1}function a(e,t){return t.some(t=>s(e,t))}function i(e,t){return t.every(t=>s(e,t))}function n(e){return({admin:"Administrator",warehouse:"Warehouse Staff",viewer:"Viewer"})[e]||e}function l(e){return({admin:"Full access to all features including financials, settings, and user management",warehouse:"Operational access for pick, pack, ship, and inventory management. No access to costs or financials.",viewer:"Read-only access to view data. Cannot make any changes."})[e]||""}function o(e){return({admin:"bg-purple-500/20 text-purple-400 border-purple-500/30",warehouse:"bg-blue-500/20 text-blue-400 border-blue-500/30",viewer:"bg-slate-500/20 text-slate-400 border-slate-500/30"})[e]||"bg-slate-500/20 text-slate-400"}function c(e){return({admin:"fa-crown",warehouse:"fa-warehouse",viewer:"fa-eye"})[e]||"fa-user"}function d(){let{userProfile:e}=(0,t.useAuth)(),r=e?.role||"viewer";return{role:r,roleName:n(r),roleDescription:l(r),roleBadgeColor:o(r),roleIcon:c(r),can:e=>s(r,e),canAny:e=>a(r,e),canAll:e=>i(r,e),isAdmin:"admin"===r,isWarehouse:"warehouse"===r,isViewer:"viewer"===r,canViewCosts:s(r,"inventory.view_costs"),canViewFinancials:s(r,"reports.view_financial"),canViewRevenue:s(r,"dashboard.view_revenue"),canViewMarketing:s(r,"dashboard.view_marketing"),canManageUsers:s(r,"users.create"),canEditSettings:s(r,"settings.company"),canCreateOrders:s(r,"orders.create"),canEditProducts:s(r,"products.edit"),canProcessFulfillment:s(r,"fulfillment.pick"),canAdjustStock:s(r,"inventory.adjust_stock")}}e.s(["getRoleBadgeColor",()=>o,"getRoleDescription",()=>l,"getRoleDisplayName",()=>n,"getRoleIcon",()=>c,"hasAllPermissions",()=>i,"hasAnyPermission",()=>a,"hasPermission",()=>s],41059),e.s(["usePermissions",()=>d],25936)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},1701,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(97815),i=e.i(77524);function n({children:e,allowedRoles:n,requireOrganization:l=!0}){let{user:o,userProfile:c,loading:d,isDemo:u}=(0,a.useAuth)(),{organization:f,loading:p,needsSetup:m}=(0,i.useOrganization)(),h=(0,s.useRouter)(),b=(0,s.usePathname)(),g=d||p;return((0,r.useEffect)(()=>{if(!g){if(!o)return void h.push(`/login?redirect=${encodeURIComponent(b)}`);if(n&&c&&!n.includes(c.role))return void h.push("/unauthorized");if(l&&!u&&m)return void h.push("/setup")}},[o,c,g,h,b,n,f,u,m,l]),g)?(0,t.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading..."})]})}):!o||n&&c&&!n.includes(c.role)||l&&!u&&m?null:(0,t.jsx)(t.Fragment,{children:e})}var l=e.i(22016),o=e.i(73146),c=e.i(25936),d=e.i(41059);function u(){let e=(0,s.usePathname)(),{state:i}=(0,o.useApp)(),{userProfile:n,logout:u}=(0,a.useAuth)(),{can:f,canAny:p,role:m}=(0,c.usePermissions)(),[h,b]=(0,r.useState)([]),g=i.orders.filter(e=>"to_pick"===e.status||"picking"===e.status).length,x=i.orders.filter(e=>"to_pack"===e.status||"packing"===e.status).length,v=i.orders.filter(e=>!["shipped","delivered","cancelled","draft"].includes(e.status)).length,w=i.orders.filter(e=>"draft"===e.status).length,y=i.returns?.filter(e=>!["refunded","rejected"].includes(e.status)).length||0,j=i.transfers?.filter(e=>"in_transit"===e.status).length||0,k=i.purchaseOrders?.filter(e=>!["received","cancelled"].includes(e.status)).length||0,N=i.workOrders?.filter(e=>!["completed","cancelled"].includes(e.status)).length||0,_=e=>e.filter(e=>(!e.permission||!!f(e.permission))&&(!e.permissions||!!p(e.permissions))).map(e=>e.children?{...e,children:_(e.children)}:e).filter(e=>!e.children||0!==e.children.length),C=_([{href:"/",icon:"fa-chart-line",label:"Dashboard",permission:"dashboard.view"},{id:"inventory",icon:"fa-boxes-stacked",label:"Inventory",permission:"inventory.view",children:[{href:"/inventory",icon:"fa-box",label:"Products",permission:"inventory.view"},{href:"/locations",icon:"fa-warehouse",label:"Locations",permission:"inventory.view"},{href:"/inventory/counts",icon:"fa-clipboard-check",label:"Stock Counts",permission:"stock.cycle_count"},{href:"/inventory/transfers",icon:"fa-exchange-alt",label:"Transfers",badge:j,permission:"stock.transfer"},{href:"/inventory/suppliers",icon:"fa-truck-loading",label:"Suppliers",permission:"suppliers.view"},{href:"/inventory/bundles",icon:"fa-layer-group",label:"Bundles & Kits",permission:"inventory.view"}]},{id:"orders",icon:"fa-shopping-cart",label:"Orders",badge:v,permission:"orders.view",children:[{href:"/orders",icon:"fa-list",label:"All Orders",badge:v,permission:"orders.view"},{href:"/orders/drafts",icon:"fa-file-alt",label:"Draft Orders",badge:w,permission:"orders.create"},{href:"/orders/returns",icon:"fa-undo",label:"Returns",badge:y,permission:"returns.view"}]},{id:"fulfillment",icon:"fa-shipping-fast",label:"Fulfillment",badge:g+x,permission:"fulfillment.view",children:[{href:"/fulfillment",icon:"fa-clipboard-list",label:"Overview",permission:"fulfillment.view"},{href:"/fulfillment/pick",icon:"fa-hand-pointer",label:"Pick Station",badge:g,permission:"fulfillment.pick"},{href:"/fulfillment/pack",icon:"fa-box-open",label:"Pack Station",badge:x,permission:"fulfillment.pack"},{href:"/fulfillment/fba",icon:"fa-amazon",label:"FBA Prep",isBrand:!0,permission:"fba.view"},{href:"/fulfillment/shipping",icon:"fa-truck",label:"Shipping",permission:"fulfillment.ship"}]},{id:"operations",icon:"fa-cogs",label:"Operations",badge:k+N,permissions:["purchase_orders.view","work_orders.view"],children:[{href:"/operations/purchase-orders",icon:"fa-file-invoice",label:"Purchase Orders",badge:k,permission:"purchase_orders.view"},{href:"/operations/work-orders",icon:"fa-industry",label:"Work Orders",badge:N,permission:"work_orders.view"}]},{id:"marketing",icon:"fa-bullhorn",label:"Marketing",permission:"marketing.view",children:[{href:"/marketing",icon:"fa-chart-line",label:"Dashboard",permission:"marketing.view"},{href:"/marketing/google-ads",icon:"fa-google",label:"Google Ads",isBrand:!0,permission:"marketing.view_spend"},{href:"/marketing/meta-ads",icon:"fa-meta",label:"Meta Ads",isBrand:!0,permission:"marketing.view_spend"},{href:"/marketing/amazon-ads",icon:"fa-amazon",label:"Amazon Ads",isBrand:!0,permission:"marketing.view_spend"},{href:"/marketing/tiktok-ads",icon:"fa-tiktok",label:"TikTok Ads",isBrand:!0,permission:"marketing.view_spend"},{href:"/marketing/email",icon:"fa-envelope",label:"Email Marketing",permission:"marketing.view"}]}]),S=_([{id:"reports",icon:"fa-chart-pie",label:"Reports",permission:"reports.view",children:[{href:"/reports",icon:"fa-chart-line",label:"Overview",permission:"reports.view"},{href:"/reports/sales",icon:"fa-dollar-sign",label:"Sales",permission:"reports.view_financial"},{href:"/reports/inventory",icon:"fa-boxes-stacked",label:"Inventory",permission:"reports.view"},{href:"/reports/shipping",icon:"fa-truck-fast",label:"Shipping",permission:"reports.view"},{href:"/reports/returns",icon:"fa-rotate-left",label:"Returns",permission:"reports.view"},{href:"/reports/marketing",icon:"fa-bullhorn",label:"Marketing",permission:"marketing.view"},{href:"/reports/financial",icon:"fa-file-invoice-dollar",label:"Financial",permission:"reports.view_financial"},{href:"/reports/custom",icon:"fa-wand-magic-sparkles",label:"Custom Builder",permission:"reports.export"},{href:"/reports/scheduled",icon:"fa-clock",label:"Scheduled",permission:"reports.export"}]},{href:"/settings",icon:"fa-cog",label:"Settings",permission:"settings.view"}]);(0,r.useEffect)(()=>{[...C,...S].forEach(t=>{t.children&&t.id&&t.children.some(t=>t.href===e||e.startsWith(t.href+"/"))&&!h.includes(t.id)&&b(e=>[...e,t.id])})},[e,C,S]);let P=t=>"/"===t?"/"===e:e===t||e.startsWith(t+"/"),O=e=>{if(e.children)return(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{onClick:()=>{var t;return t=e.id,void b(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${e.children&&e.children.some(e=>e.href&&P(e.href))?"bg-emerald-500/10 text-emerald-400":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[(0,t.jsx)("i",{className:`fas ${e.icon} w-5`}),(0,t.jsx)("span",{className:"font-medium",children:e.label}),(e.badge??0)>0&&(0,t.jsx)("span",{className:"ml-auto mr-2 bg-amber-500/20 text-amber-400 text-xs px-2 py-0.5 rounded-full",children:e.badge}),(0,t.jsx)("i",{className:`fas fa-chevron-${h.includes(e.id)?"down":"right"} text-xs text-slate-500 ${(e.badge??0)>0?"":"ml-auto"}`})]}),h.includes(e.id)&&(0,t.jsx)("div",{className:"ml-4 mt-1 space-y-1 border-l border-slate-700/50 pl-3",children:e.children.map(e=>(0,t.jsxs)(l.default,{href:e.href,className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-all text-sm ${P(e.href)?"bg-emerald-500/10 text-emerald-400":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[(0,t.jsx)("i",{className:`${e.isBrand?"fab":"fas"} ${e.icon} w-4 text-xs`}),(0,t.jsx)("span",{children:e.label}),(e.badge??0)>0&&(0,t.jsx)("span",{className:`ml-auto text-xs px-2 py-0.5 rounded-full ${e.label.includes("Pick")?"bg-amber-500/20 text-amber-400":e.label.includes("Pack")?"bg-blue-500/20 text-blue-400":e.label.includes("Return")?"bg-purple-500/20 text-purple-400":(e.label.includes("Draft"),"bg-slate-500/20 text-slate-400")}`,children:e.badge})]},e.href))})]},e.id||e.href);return(0,t.jsxs)(l.default,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${P(e.href)?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[(0,t.jsx)("i",{className:`fas ${e.icon} w-5`}),(0,t.jsx)("span",{className:"font-medium",children:e.label}),(e.badge??0)>0&&(0,t.jsx)("span",{className:"ml-auto bg-amber-500/20 text-amber-400 text-xs px-2 py-0.5 rounded-full",children:e.badge})]},e.href)};return(0,t.jsxs)("aside",{className:"fixed left-0 top-0 z-40 h-screen w-64 bg-slate-900/80 border-r border-slate-700/50 flex flex-col",children:[(0,t.jsx)(l.default,{href:"/",className:"block p-5 border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-xl flex items-center justify-center",children:(0,t.jsx)("i",{className:"fas fa-leaf text-white text-lg"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-bold text-white text-lg",children:"Cronk HQ"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Operations & Fulfillment"})]})]})}),(0,t.jsxs)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[C.map(O),(0,t.jsx)("div",{className:"my-4 border-t border-slate-700/50"}),S.map(O)]}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-700/50",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:n?.displayName?n.displayName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):n?.email?.slice(0,2).toUpperCase()||"U"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-white truncate",children:n?.displayName||n?.email||"User"}),(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs border ${(0,d.getRoleBadgeColor)(m)}`,children:(0,d.getRoleDisplayName)(m)})]}),(0,t.jsx)("button",{onClick:()=>u(),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",title:"Sign out",children:(0,t.jsx)("i",{className:"fas fa-sign-out-alt"})})]})})]})}var f=e.i(45423);let p=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var m=e.i(87316),h=e.i(64659),b=e.i(43531),g=e.i(78894),x=e.i(88844),v=e.i(1928),w=e.i(37727),y=e.i(43016);let j=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"wtd",label:"Week to Date"},{value:"mtd",label:"Month to Date"},{value:"ytd",label:"Year to Date"},{value:"last7",label:"Last 7 Days",divider:!0},{value:"last30",label:"Last 30 Days"},{value:"last90",label:"Last 90 Days"},{value:"custom",label:"Custom Range",divider:!0}],k=[{id:1,type:"warning",title:"Low Stock Alert",message:"Big Bud 1L is below reorder point (12 units)",time:"5 min ago"},{id:2,type:"order",title:"New Order",message:"Order #10492 received from Shopify",time:"12 min ago"},{id:3,type:"success",title:"Shipment Delivered",message:"Order #10485 delivered to customer",time:"1 hour ago"}];function N(){let{dateRange:e,preset:s,setPreset:i,setCustomRange:n}=(0,y.useDateRange)(),{isDemo:l}=(0,a.useAuth)(),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[N,_]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[P,O]=(0,r.useState)(!1),[A,E]=(0,r.useState)(!1),[R,M]=(0,r.useState)("2 min ago"),D=l?k:[];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("header",{className:"fixed top-0 left-64 right-0 z-30 h-16 bg-slate-900/80 backdrop-blur border-b border-slate-700/50",children:(0,t.jsxs)("div",{className:"flex h-full items-center justify-between px-6",children:[(0,t.jsx)("div",{className:"flex items-center gap-4"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>c(!o),className:"flex items-center gap-2 rounded-lg bg-slate-800/50 px-4 py-2 text-sm font-medium text-white border border-slate-700/50 hover:bg-slate-700/50 transition-colors",children:[(0,t.jsx)(m.Calendar,{className:"h-4 w-4 text-slate-400"}),(0,t.jsx)("span",{children:"custom"===s?e.label:j.find(e=>e.value===s)?.label||"Select Range"}),(0,t.jsx)(h.ChevronDown,{className:"h-4 w-4 text-slate-400"})]}),o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),(0,t.jsx)("div",{className:"absolute right-0 top-full mt-2 z-20 w-48 rounded-xl bg-slate-800 border border-slate-700/50 shadow-xl overflow-hidden",children:j.map((e,r)=>(0,t.jsxs)("div",{children:[e.divider&&r>0&&(0,t.jsx)("div",{className:"border-t border-slate-700/50 my-1"}),(0,t.jsx)("button",{onClick:()=>(e=>{if("custom"===e){let e=new Date,t=new Date(e);t.setDate(e.getDate()-30),_(t.toISOString().split("T")[0]),S(e.toISOString().split("T")[0]),u(!0),c(!1)}else i(e),c(!1)})(e.value),className:`w-full px-4 py-2.5 text-left text-sm transition-colors ${s===e.value?"bg-emerald-500/20 text-emerald-400":"text-slate-300 hover:bg-slate-700/50"}`,children:e.label})]},e.value))})]})]}),(0,t.jsxs)("button",{onClick:()=>{E(!0),setTimeout(()=>{E(!1),M("Just now")},2e3)},disabled:A,className:"flex items-center gap-2 rounded-lg bg-slate-800/50 px-4 py-2 text-sm font-medium border border-slate-700/50 hover:bg-slate-700/50 transition-colors disabled:opacity-50",children:[(0,t.jsx)(p,{className:`h-4 w-4 text-emerald-400 ${A?"animate-spin":""}`}),(0,t.jsx)("span",{className:"text-slate-300",children:A?"Syncing...":`Synced ${R}`})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>O(!P),className:"relative flex h-10 w-10 items-center justify-center rounded-lg bg-slate-800/50 border border-slate-700/50 hover:bg-slate-700/50 transition-colors",children:[(0,t.jsx)(f.Bell,{className:"h-5 w-5 text-slate-400"}),D.length>0&&(0,t.jsx)("span",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-emerald-500 text-xs font-bold text-white",children:D.length})]}),P&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>O(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 top-full mt-2 z-20 w-80 rounded-xl bg-slate-800 border border-slate-700/50 shadow-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"border-b border-slate-700/50 px-4 py-3",children:(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Notifications"})}),(0,t.jsx)("div",{className:"max-h-80 overflow-y-auto",children:0===D.length?(0,t.jsxs)("div",{className:"px-4 py-8 text-center text-slate-400",children:[(0,t.jsx)(f.Bell,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"No notifications"})]}):D.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 px-4 py-3 hover:bg-slate-700/30 transition-colors border-b border-slate-700/30 last:border-0",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-slate-700/50",children:(e=>{switch(e){case"warning":return(0,t.jsx)(g.AlertTriangle,{className:"h-4 w-4 text-amber-400"});case"order":return(0,t.jsx)(v.ShoppingCart,{className:"h-4 w-4 text-blue-400"});case"success":return(0,t.jsx)(b.Check,{className:"h-4 w-4 text-emerald-400"});default:return(0,t.jsx)(x.Package,{className:"h-4 w-4 text-slate-400"})}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-white",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-slate-400 truncate",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:e.time})]})]},e.id))}),(0,t.jsx)("div",{className:"border-t border-slate-700/50 px-4 py-2",children:(0,t.jsx)("button",{className:"w-full text-center text-sm text-emerald-400 hover:text-emerald-300 transition-colors",children:"View all notifications"})})]})]})]})]})]})}),d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>u(!1)}),(0,t.jsxs)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-md bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Custom Date Range"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(w.X,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:N,onChange:e=>_(e.target.value),max:C||void 0,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:C,onChange:e=>S(e.target.value),min:N||void 0,max:new Date().toISOString().split("T")[0],className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500"})]}),N&&C&&(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:["Selected: ",new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," - ",new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-slate-700",children:[(0,t.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(N&&C){let e=new Date(N),t=new Date(C);e<=t&&(n(e,t),u(!1))}},disabled:!N||!C,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-700 disabled:text-slate-500 text-white font-medium rounded-lg transition-colors",children:"Apply Range"})]})]})]})]})}function _({children:e}){return(0,t.jsxs)(n,{children:[(0,t.jsx)(u,{}),(0,t.jsx)(N,{}),(0,t.jsx)("main",{className:"ml-64 pt-16 min-h-screen bg-slate-900",children:(0,t.jsx)("div",{className:"p-6",children:e})})]})}e.s(["default",()=>_],1701)}]);